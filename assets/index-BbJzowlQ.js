(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jy={exports:{}},jd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=Symbol.for("react.transitional.element"),jx=Symbol.for("react.fragment");function Yy(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:Vx,type:e,key:i,ref:t!==void 0?t:null,props:n}}jd.Fragment=jx;jd.jsx=Yy;jd.jsxs=Yy;jy.exports=jd;var E=jy.exports,Jy={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg=Symbol.for("react.transitional.element"),Yx=Symbol.for("react.portal"),Jx=Symbol.for("react.fragment"),Kx=Symbol.for("react.strict_mode"),Wx=Symbol.for("react.profiler"),Xx=Symbol.for("react.consumer"),Zx=Symbol.for("react.context"),$x=Symbol.for("react.forward_ref"),Qx=Symbol.for("react.suspense"),e3=Symbol.for("react.memo"),Ky=Symbol.for("react.lazy"),t3=Symbol.for("react.activity"),l1=Symbol.iterator;function n3(e){return e===null||typeof e!="object"?null:(e=l1&&e[l1]||e["@@iterator"],typeof e=="function"?e:null)}var Wy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xy=Object.assign,Zy={};function Gl(e,t,n){this.props=e,this.context=t,this.refs=Zy,this.updater=n||Wy}Gl.prototype.isReactComponent={};Gl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $y(){}$y.prototype=Gl.prototype;function gg(e,t,n){this.props=e,this.context=t,this.refs=Zy,this.updater=n||Wy}var yg=gg.prototype=new $y;yg.constructor=gg;Xy(yg,Gl.prototype);yg.isPureReactComponent=!0;var u1=Array.isArray;function Wp(){}var pn={H:null,A:null,T:null,S:null},Qy=Object.prototype.hasOwnProperty;function vg(e,t,n){var i=n.ref;return{$$typeof:mg,type:e,key:t,ref:i!==void 0?i:null,props:n}}function i3(e,t){return vg(e.type,t,e.props)}function bg(e){return typeof e=="object"&&e!==null&&e.$$typeof===mg}function r3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var c1=/\/+/g;function tp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?r3(""+e.key):t.toString(36)}function a3(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Wp,Wp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function $s(e,t,n,i,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mg:case Yx:o=!0;break;case Ky:return o=e._init,$s(o(e._payload),t,n,i,r)}}if(o)return r=r(e),o=i===""?"."+tp(e,0):i,u1(r)?(n="",o!=null&&(n=o.replace(c1,"$&/")+"/"),$s(r,t,n,"",function(u){return u})):r!=null&&(bg(r)&&(r=i3(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(c1,"$&/")+"/")+o)),t.push(r)),1;o=0;var s=i===""?".":i+":";if(u1(e))for(var l=0;l<e.length;l++)i=e[l],a=s+tp(i,l),o+=$s(i,t,n,a,r);else if(l=n3(e),typeof l=="function")for(e=l.call(e),l=0;!(i=e.next()).done;)i=i.value,a=s+tp(i,l++),o+=$s(i,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return $s(a3(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function bf(e,t,n){if(e==null)return e;var i=[],r=0;return $s(e,i,"","",function(a){return t.call(n,a,r++)}),i}function o3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var f1=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},s3={map:bf,forEach:function(e,t,n){bf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bf(e,function(){t++}),t},toArray:function(e){return bf(e,function(t){return t})||[]},only:function(e){if(!bg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};At.Activity=t3;At.Children=s3;At.Component=Gl;At.Fragment=Jx;At.Profiler=Wx;At.PureComponent=gg;At.StrictMode=Kx;At.Suspense=Qx;At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pn;At.__COMPILER_RUNTIME={__proto__:null,c:function(e){return pn.H.useMemoCache(e)}};At.cache=function(e){return function(){return e.apply(null,arguments)}};At.cacheSignal=function(){return null};At.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Xy({},e.props),r=e.key;if(t!=null)for(a in t.key!==void 0&&(r=""+t.key),t)!Qy.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];i.children=o}return vg(e.type,r,i)};At.createContext=function(e){return e={$$typeof:Zx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Xx,_context:e},e};At.createElement=function(e,t,n){var i,r={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)Qy.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];r.children=s}if(e&&e.defaultProps)for(i in o=e.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return vg(e,a,r)};At.createRef=function(){return{current:null}};At.forwardRef=function(e){return{$$typeof:$x,render:e}};At.isValidElement=bg;At.lazy=function(e){return{$$typeof:Ky,_payload:{_status:-1,_result:e},_init:o3}};At.memo=function(e,t){return{$$typeof:e3,type:e,compare:t===void 0?null:t}};At.startTransition=function(e){var t=pn.T,n={};pn.T=n;try{var i=e(),r=pn.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Wp,f1)}catch(a){f1(a)}finally{t!==null&&n.types!==null&&(t.types=n.types),pn.T=t}};At.unstable_useCacheRefresh=function(){return pn.H.useCacheRefresh()};At.use=function(e){return pn.H.use(e)};At.useActionState=function(e,t,n){return pn.H.useActionState(e,t,n)};At.useCallback=function(e,t){return pn.H.useCallback(e,t)};At.useContext=function(e){return pn.H.useContext(e)};At.useDebugValue=function(){};At.useDeferredValue=function(e,t){return pn.H.useDeferredValue(e,t)};At.useEffect=function(e,t){return pn.H.useEffect(e,t)};At.useEffectEvent=function(e){return pn.H.useEffectEvent(e)};At.useId=function(){return pn.H.useId()};At.useImperativeHandle=function(e,t,n){return pn.H.useImperativeHandle(e,t,n)};At.useInsertionEffect=function(e,t){return pn.H.useInsertionEffect(e,t)};At.useLayoutEffect=function(e,t){return pn.H.useLayoutEffect(e,t)};At.useMemo=function(e,t){return pn.H.useMemo(e,t)};At.useOptimistic=function(e,t){return pn.H.useOptimistic(e,t)};At.useReducer=function(e,t,n){return pn.H.useReducer(e,t,n)};At.useRef=function(e){return pn.H.useRef(e)};At.useState=function(e){return pn.H.useState(e)};At.useSyncExternalStore=function(e,t,n){return pn.H.useSyncExternalStore(e,t,n)};At.useTransition=function(){return pn.H.useTransition()};At.version="19.2.1";Jy.exports=At;var Fe=Jy.exports;const Yd=pg(Fe);var ev={exports:{}},Jd={},tv={exports:{}},nv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,ne){var se=te.length;te.push(ne);e:for(;0<se;){var ae=se-1>>>1,ge=te[ae];if(0<r(ge,ne))te[ae]=ne,te[se]=ge,se=ae;else break e}}function n(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var ne=te[0],se=te.pop();if(se!==ne){te[0]=se;e:for(var ae=0,ge=te.length,ce=ge>>>1;ae<ce;){var I=2*(ae+1)-1,Y=te[I],K=I+1,Z=te[K];if(0>r(Y,se))K<ge&&0>r(Z,Y)?(te[ae]=Z,te[K]=se,ae=K):(te[ae]=Y,te[I]=se,ae=I);else if(K<ge&&0>r(Z,se))te[ae]=Z,te[K]=se,ae=K;else break e}}return ne}function r(te,ne){var se=te.sortIndex-ne.sortIndex;return se!==0?se:te.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,p=null,g=3,h=!1,S=!1,_=!1,C=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function R(te){for(var ne=n(u);ne!==null;){if(ne.callback===null)i(u);else if(ne.startTime<=te)i(u),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=n(u)}}function k(te){if(_=!1,R(te),!S)if(n(l)!==null)S=!0,X||(X=!0,N());else{var ne=n(u);ne!==null&&re(k,ne.startTime-te)}}var X=!1,U=-1,q=5,B=-1;function W(){return C?!0:!(e.unstable_now()-B<q)}function D(){if(C=!1,X){var te=e.unstable_now();B=te;var ne=!0;try{e:{S=!1,_&&(_=!1,w(U),U=-1),h=!0;var se=g;try{t:{for(R(te),p=n(l);p!==null&&!(p.expirationTime>te&&W());){var ae=p.callback;if(typeof ae=="function"){p.callback=null,g=p.priorityLevel;var ge=ae(p.expirationTime<=te);if(te=e.unstable_now(),typeof ge=="function"){p.callback=ge,R(te),ne=!0;break t}p===n(l)&&i(l),R(te)}else i(l);p=n(l)}if(p!==null)ne=!0;else{var ce=n(u);ce!==null&&re(k,ce.startTime-te),ne=!1}}break e}finally{p=null,g=se,h=!1}ne=void 0}}finally{ne?N():X=!1}}}var N;if(typeof A=="function")N=function(){A(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,T=H.port2;H.port1.onmessage=D,N=function(){T.postMessage(null)}}else N=function(){v(D,0)};function re(te,ne){U=v(function(){te(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(te){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var se=g;g=ne;try{return te()}finally{g=se}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(te,ne){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var se=g;g=te;try{return ne()}finally{g=se}},e.unstable_scheduleCallback=function(te,ne,se){var ae=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ae+se:ae):se=ae,te){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=se+ge,te={id:d++,callback:ne,priorityLevel:te,startTime:se,expirationTime:ge,sortIndex:-1},se>ae?(te.sortIndex=se,t(u,te),n(l)===null&&te===n(u)&&(_?(w(U),U=-1):_=!0,re(k,se-ae))):(te.sortIndex=ge,t(l,te),S||h||(S=!0,X||(X=!0,N()))),te},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(te){var ne=g;return function(){var se=g;g=ne;try{return te.apply(this,arguments)}finally{g=se}}}})(nv);tv.exports=nv;var l3=tv.exports,iv={exports:{}},Ai={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3=Fe;function rv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ao(){}var Si={d:{f:ao,r:function(){throw Error(rv(522))},D:ao,C:ao,L:ao,m:ao,X:ao,S:ao,M:ao},p:0,findDOMNode:null},c3=Symbol.for("react.portal");function f3(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c3,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Hu=u3.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Kd(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Si;Ai.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(rv(299));return f3(e,t,null,n)};Ai.flushSync=function(e){var t=Hu.T,n=Si.p;try{if(Hu.T=null,Si.p=2,e)return e()}finally{Hu.T=t,Si.p=n,Si.d.f()}};Ai.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Si.d.C(e,t))};Ai.prefetchDNS=function(e){typeof e=="string"&&Si.d.D(e)};Ai.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Kd(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Si.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&Si.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ai.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Kd(t.as,t.crossOrigin);Si.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Si.d.M(e)};Ai.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Kd(n,t.crossOrigin);Si.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ai.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Kd(t.as,t.crossOrigin);Si.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Si.d.m(e)};Ai.requestFormReset=function(e){Si.d.r(e)};Ai.unstable_batchedUpdates=function(e,t){return e(t)};Ai.useFormState=function(e,t,n){return Hu.H.useFormState(e,t,n)};Ai.useFormStatus=function(){return Hu.H.useHostTransitionStatus()};Ai.version="19.2.1";function av(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(av)}catch(e){console.error(e)}}av(),iv.exports=Ai;var d3=iv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vn=l3,ov=Fe,h3=d3;function De(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function sv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d1(e){if(Sc(e)!==e)throw Error(De(188))}function p3(e){var t=e.alternate;if(!t){if(t=Sc(e),t===null)throw Error(De(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return d1(r),e;if(a===i)return d1(r),t;a=a.sibling}throw Error(De(188))}if(n.return!==i.return)n=r,i=a;else{for(var o=!1,s=r.child;s;){if(s===n){o=!0,n=r,i=a;break}if(s===i){o=!0,i=r,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,i=r;break}if(s===i){o=!0,i=a,n=r;break}s=s.sibling}if(!o)throw Error(De(189))}}if(n.alternate!==i)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?e:t}function cv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=cv(e),t!==null)return t;e=e.sibling}return null}var mn=Object.assign,m3=Symbol.for("react.element"),wf=Symbol.for("react.transitional.element"),Bu=Symbol.for("react.portal"),il=Symbol.for("react.fragment"),fv=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),dv=Symbol.for("react.consumer"),Sa=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),$p=Symbol.for("react.suspense_list"),_g=Symbol.for("react.memo"),lo=Symbol.for("react.lazy"),Qp=Symbol.for("react.activity"),g3=Symbol.for("react.memo_cache_sentinel"),h1=Symbol.iterator;function Nu(e){return e===null||typeof e!="object"?null:(e=h1&&e[h1]||e["@@iterator"],typeof e=="function"?e:null)}var y3=Symbol.for("react.client.reference");function em(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===y3?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case il:return"Fragment";case Xp:return"Profiler";case fv:return"StrictMode";case Zp:return"Suspense";case $p:return"SuspenseList";case Qp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Bu:return"Portal";case Sa:return e.displayName||"Context";case dv:return(e._context.displayName||"Context")+".Consumer";case wg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _g:return t=e.displayName||null,t!==null?t:em(e.type)||"Memo";case lo:t=e._payload,e=e._init;try{return em(e(t))}catch{}}return null}var Ou=Array.isArray,gt=ov.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,jt=h3.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rs={pending:!1,data:null,method:null,action:null},tm=[],rl=-1;function ta(e){return{current:e}}function $n(e){0>rl||(e.current=tm[rl],tm[rl]=null,rl--)}function ln(e,t){rl++,tm[rl]=e.current,e.current=t}var Qr=ta(null),ac=ta(null),_o=ta(null),ud=ta(null);function cd(e,t){switch(ln(_o,t),ln(ac,e),ln(Qr,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?b2(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=b2(t),e=Mw(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$n(Qr),ln(Qr,e)}function Rl(){$n(Qr),$n(ac),$n(_o)}function nm(e){e.memoizedState!==null&&ln(ud,e);var t=Qr.current,n=Mw(t,e.type);t!==n&&(ln(ac,e),ln(Qr,n))}function fd(e){ac.current===e&&($n(Qr),$n(ac)),ud.current===e&&($n(ud),gc._currentValue=rs)}var np,p1;function $o(e){if(np===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);np=t&&t[1]||"",p1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+np+e+p1}var ip=!1;function rp(e,t){if(!e||ip)return"";ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(h){var g=h}Reflect.construct(e,[],p)}else{try{p.call()}catch(h){g=h}e.call(p.prototype)}}else{try{throw Error()}catch(h){g=h}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(h){if(h&&g&&typeof h.stack=="string")return[h.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===u.length)for(i=l.length-1,r=u.length-1;1<=i&&0<=r&&l[i]!==u[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==u[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==u[r]){var d=`
`+l[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{ip=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?$o(n):""}function v3(e,t){switch(e.tag){case 26:case 27:case 5:return $o(e.type);case 16:return $o("Lazy");case 13:return e.child!==t&&t!==null?$o("Suspense Fallback"):$o("Suspense");case 19:return $o("SuspenseList");case 0:case 15:return rp(e.type,!1);case 11:return rp(e.type.render,!1);case 1:return rp(e.type,!0);case 31:return $o("Activity");default:return""}}function m1(e){try{var t="",n=null;do t+=v3(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var im=Object.prototype.hasOwnProperty,xg=Vn.unstable_scheduleCallback,ap=Vn.unstable_cancelCallback,b3=Vn.unstable_shouldYield,w3=Vn.unstable_requestPaint,nr=Vn.unstable_now,_3=Vn.unstable_getCurrentPriorityLevel,hv=Vn.unstable_ImmediatePriority,pv=Vn.unstable_UserBlockingPriority,dd=Vn.unstable_NormalPriority,x3=Vn.unstable_LowPriority,mv=Vn.unstable_IdlePriority,S3=Vn.log,A3=Vn.unstable_setDisableYieldValue,Ac=null,ir=null;function mo(e){if(typeof S3=="function"&&A3(e),ir&&typeof ir.setStrictMode=="function")try{ir.setStrictMode(Ac,e)}catch{}}var rr=Math.clz32?Math.clz32:E3,C3=Math.log,T3=Math.LN2;function E3(e){return e>>>=0,e===0?32:31-(C3(e)/T3|0)|0}var _f=256,xf=262144,Sf=4194304;function Qo(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wd(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=i&134217727;return s!==0?(i=s&~a,i!==0?r=Qo(i):(o&=s,o!==0?r=Qo(o):n||(n=s&~e,n!==0&&(r=Qo(n))))):(s=i&~a,s!==0?r=Qo(s):o!==0?r=Qo(o):n||(n=i&~e,n!==0&&(r=Qo(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function Cc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function N3(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gv(){var e=Sf;return Sf<<=1,!(Sf&62914560)&&(Sf=4194304),e}function op(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function L3(e,t,n,i,r,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var d=31-rr(n),p=1<<d;s[d]=0,l[d]=-1;var g=u[d];if(g!==null)for(u[d]=null,d=0;d<g.length;d++){var h=g[d];h!==null&&(h.lane&=-536870913)}n&=~p}i!==0&&yv(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function yv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-rr(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function vv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-rr(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function bv(e,t){var n=t&-t;return n=n&42?1:Sg(n),n&(e.suspendedLanes|t)?0:n}function Sg(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ag(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function wv(){var e=jt.p;return e!==0?e:(e=window.event,e===void 0?32:Hw(e.type))}function g1(e,t){var n=jt.p;try{return jt.p=e,t()}finally{jt.p=n}}var Uo=Math.random().toString(36).slice(2),ni="__reactFiber$"+Uo,Oi="__reactProps$"+Uo,Hl="__reactContainer$"+Uo,rm="__reactEvents$"+Uo,I3="__reactListeners$"+Uo,R3="__reactHandles$"+Uo,y1="__reactResources$"+Uo,Ec="__reactMarker$"+Uo;function Cg(e){delete e[ni],delete e[Oi],delete e[rm],delete e[I3],delete e[R3]}function al(e){var t=e[ni];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hl]||n[ni]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=A2(e);e!==null;){if(n=e[ni])return n;e=A2(e)}return t}e=n,n=e.parentNode}return null}function Vl(e){if(e=e[ni]||e[Hl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function zu(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(De(33))}function yl(e){var t=e[y1];return t||(t=e[y1]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Zn(e){e[Ec]=!0}var _v=new Set,xv={};function gs(e,t){Ml(e,t),Ml(e+"Capture",t)}function Ml(e,t){for(xv[e]=t,e=0;e<t.length;e++)_v.add(t[e])}var M3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),v1={},b1={};function k3(e){return im.call(b1,e)?!0:im.call(v1,e)?!1:M3.test(e)?b1[e]=!0:(v1[e]=!0,!1)}function qf(e,t,n){if(k3(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Af(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ma(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function gr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D3(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function am(e){if(!e._valueTracker){var t=Sv(e)?"checked":"value";e._valueTracker=D3(e,t,""+e[t])}}function Av(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Sv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function hd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var P3=/[\n"\\]/g;function br(e){return e.replace(P3,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function om(e,t,n,i,r,a,o,s){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+gr(t)):e.value!==""+gr(t)&&(e.value=""+gr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?sm(e,o,gr(t)):n!=null?sm(e,o,gr(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+gr(s):e.removeAttribute("name")}function Cv(e,t,n,i,r,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){am(e);return}n=n!=null?""+gr(n):"",t=t!=null?""+gr(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=s?e.checked:!!i,e.defaultChecked=!!i,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),am(e)}function sm(e,t,n){t==="number"&&hd(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function vl(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+gr(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Tv(e,t,n){if(t!=null&&(t=""+gr(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+gr(n):""}function Ev(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(De(92));if(Ou(i)){if(1<i.length)throw Error(De(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=gr(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),am(e)}function kl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var F3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function w1(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||F3.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nv(e,t,n){if(t!=null&&typeof t!="object")throw Error(De(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&w1(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&w1(e,a,t[a])}function Tg(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),B3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gf(e){return B3.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Aa(){}var lm=null;function Eg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,bl=null;function _1(e){var t=Vl(e);if(t&&(e=t.stateNode)){var n=e[Oi]||null;e:switch(e=t.stateNode,t.type){case"input":if(om(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+br(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Oi]||null;if(!r)throw Error(De(90));om(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Av(i)}break e;case"textarea":Tv(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&vl(e,!!n.multiple,t,!1)}}}var sp=!1;function Lv(e,t,n){if(sp)return e(t,n);sp=!0;try{var i=e(t);return i}finally{if(sp=!1,(ol!==null||bl!==null)&&(sh(),ol&&(t=ol,e=bl,bl=ol=null,_1(t),e)))for(t=0;t<e.length;t++)_1(e[t])}}function oc(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Oi]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(De(231,t,typeof n));return n}var La=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),um=!1;if(La)try{var Lu={};Object.defineProperty(Lu,"passive",{get:function(){um=!0}}),window.addEventListener("test",Lu,Lu),window.removeEventListener("test",Lu,Lu)}catch{um=!1}var go=null,Ng=null,Hf=null;function Iv(){if(Hf)return Hf;var e,t=Ng,n=t.length,i,r="value"in go?go.value:go.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[a-i];i++);return Hf=r.slice(e,1<i?1-i:void 0)}function Vf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cf(){return!0}function x1(){return!1}function zi(e){function t(n,i,r,a,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cf:x1,this.isPropagationStopped=x1,this}return mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cf)},persist:function(){},isPersistent:Cf}),t}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xd=zi(ys),Nc=mn({},ys,{view:0,detail:0}),O3=zi(Nc),lp,up,Iu,Zd=mn({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Iu&&(Iu&&e.type==="mousemove"?(lp=e.screenX-Iu.screenX,up=e.screenY-Iu.screenY):up=lp=0,Iu=e),lp)},movementY:function(e){return"movementY"in e?e.movementY:up}}),S1=zi(Zd),z3=mn({},Zd,{dataTransfer:0}),q3=zi(z3),G3=mn({},Nc,{relatedTarget:0}),cp=zi(G3),H3=mn({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),V3=zi(H3),j3=mn({},ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Y3=zi(j3),J3=mn({},ys,{data:0}),A1=zi(J3),K3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=X3[e])?!!t[e]:!1}function Lg(){return Z3}var $3=mn({},Nc,{key:function(e){if(e.key){var t=K3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lg,charCode:function(e){return e.type==="keypress"?Vf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q3=zi($3),eS=mn({},Zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C1=zi(eS),tS=mn({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lg}),nS=zi(tS),iS=mn({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),rS=zi(iS),aS=mn({},Zd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oS=zi(aS),sS=mn({},ys,{newState:0,oldState:0}),lS=zi(sS),uS=[9,13,27,32],Ig=La&&"CompositionEvent"in window,Vu=null;La&&"documentMode"in document&&(Vu=document.documentMode);var cS=La&&"TextEvent"in window&&!Vu,Rv=La&&(!Ig||Vu&&8<Vu&&11>=Vu),T1=" ",E1=!1;function Mv(e,t){switch(e){case"keyup":return uS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sl=!1;function fS(e,t){switch(e){case"compositionend":return kv(t);case"keypress":return t.which!==32?null:(E1=!0,T1);case"textInput":return e=t.data,e===T1&&E1?null:e;default:return null}}function dS(e,t){if(sl)return e==="compositionend"||!Ig&&Mv(e,t)?(e=Iv(),Hf=Ng=go=null,sl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rv&&t.locale!=="ko"?null:t.data;default:return null}}var hS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hS[e.type]:t==="textarea"}function Dv(e,t,n,i){ol?bl?bl.push(i):bl=[i]:ol=i,t=Rd(t,"onChange"),0<t.length&&(n=new Xd("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ju=null,sc=null;function pS(e){Lw(e,0)}function $d(e){var t=zu(e);if(Av(t))return e}function L1(e,t){if(e==="change")return t}var Pv=!1;if(La){var fp;if(La){var dp="oninput"in document;if(!dp){var I1=document.createElement("div");I1.setAttribute("oninput","return;"),dp=typeof I1.oninput=="function"}fp=dp}else fp=!1;Pv=fp&&(!document.documentMode||9<document.documentMode)}function R1(){ju&&(ju.detachEvent("onpropertychange",Fv),sc=ju=null)}function Fv(e){if(e.propertyName==="value"&&$d(sc)){var t=[];Dv(t,sc,e,Eg(e)),Lv(pS,t)}}function mS(e,t,n){e==="focusin"?(R1(),ju=t,sc=n,ju.attachEvent("onpropertychange",Fv)):e==="focusout"&&R1()}function gS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $d(sc)}function yS(e,t){if(e==="click")return $d(t)}function vS(e,t){if(e==="input"||e==="change")return $d(t)}function bS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var or=typeof Object.is=="function"?Object.is:bS;function lc(e,t){if(or(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!im.call(t,r)||!or(e[r],t[r]))return!1}return!0}function M1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function k1(e,t){var n=M1(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M1(n)}}function Uv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=hd(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hd(e.document)}return t}function Rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var wS=La&&"documentMode"in document&&11>=document.documentMode,ll=null,cm=null,Yu=null,fm=!1;function D1(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fm||ll==null||ll!==hd(i)||(i=ll,"selectionStart"in i&&Rg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Yu&&lc(Yu,i)||(Yu=i,i=Rd(cm,"onSelect"),0<i.length&&(t=new Xd("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ll)))}function Zo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ul={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionrun:Zo("Transition","TransitionRun"),transitionstart:Zo("Transition","TransitionStart"),transitioncancel:Zo("Transition","TransitionCancel"),transitionend:Zo("Transition","TransitionEnd")},hp={},Ov={};La&&(Ov=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function vs(e){if(hp[e])return hp[e];if(!ul[e])return e;var t=ul[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ov)return hp[e]=t[n];return e}var zv=vs("animationend"),qv=vs("animationiteration"),Gv=vs("animationstart"),_S=vs("transitionrun"),xS=vs("transitionstart"),SS=vs("transitioncancel"),Hv=vs("transitionend"),Vv=new Map,dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dm.push("scrollEnd");function Or(e,t){Vv.set(e,t),gs(t,[e])}var pd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},mr=[],cl=0,Mg=0;function Qd(){for(var e=cl,t=Mg=cl=0;t<e;){var n=mr[t];mr[t++]=null;var i=mr[t];mr[t++]=null;var r=mr[t];mr[t++]=null;var a=mr[t];if(mr[t++]=null,i!==null&&r!==null){var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}a!==0&&jv(n,r,a)}}function eh(e,t,n,i){mr[cl++]=e,mr[cl++]=t,mr[cl++]=n,mr[cl++]=i,Mg|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function kg(e,t,n,i){return eh(e,t,n,i),md(e)}function bs(e,t){return eh(e,null,null,t),md(e)}function jv(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-rr(n),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),a):null}function md(e){if(50<tc)throw tc=0,km=null,Error(De(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var fl={};function AS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(e,t,n,i){return new AS(e,t,n,i)}function Dg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ta(e,t){var n=e.alternate;return n===null?(n=Qi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Yv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jf(e,t,n,i,r,a){var o=0;if(i=e,typeof e=="function")Dg(e)&&(o=1);else if(typeof e=="string")o=L4(e,n,Qr.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Qp:return e=Qi(31,n,t,r),e.elementType=Qp,e.lanes=a,e;case il:return as(n.children,r,a,t);case fv:o=8,r|=24;break;case Xp:return e=Qi(12,n,t,r|2),e.elementType=Xp,e.lanes=a,e;case Zp:return e=Qi(13,n,t,r),e.elementType=Zp,e.lanes=a,e;case $p:return e=Qi(19,n,t,r),e.elementType=$p,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sa:o=10;break e;case dv:o=9;break e;case wg:o=11;break e;case _g:o=14;break e;case lo:o=16,i=null;break e}o=29,n=Error(De(130,e===null?"null":typeof e,"")),i=null}return t=Qi(o,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function as(e,t,n,i){return e=Qi(7,e,i,t),e.lanes=n,e}function pp(e,t,n){return e=Qi(6,e,null,t),e.lanes=n,e}function Jv(e){var t=Qi(18,null,null,0);return t.stateNode=e,t}function mp(e,t,n){return t=Qi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var P1=new WeakMap;function wr(e,t){if(typeof e=="object"&&e!==null){var n=P1.get(e);return n!==void 0?n:(t={value:e,source:t,stack:m1(t)},P1.set(e,t),t)}return{value:e,source:t,stack:m1(t)}}var dl=[],hl=0,gd=null,uc=0,yr=[],vr=0,Ro=null,Wr=1,Xr="";function _a(e,t){dl[hl++]=uc,dl[hl++]=gd,gd=e,uc=t}function Kv(e,t,n){yr[vr++]=Wr,yr[vr++]=Xr,yr[vr++]=Ro,Ro=e;var i=Wr;e=Xr;var r=32-rr(i)-1;i&=~(1<<r),n+=1;var a=32-rr(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Wr=1<<32-rr(t)+r|n<<r|i,Xr=a+e}else Wr=1<<a|n<<r|i,Xr=e}function Pg(e){e.return!==null&&(_a(e,1),Kv(e,1,0))}function Fg(e){for(;e===gd;)gd=dl[--hl],dl[hl]=null,uc=dl[--hl],dl[hl]=null;for(;e===Ro;)Ro=yr[--vr],yr[vr]=null,Xr=yr[--vr],yr[vr]=null,Wr=yr[--vr],yr[vr]=null}function Wv(e,t){yr[vr++]=Wr,yr[vr++]=Xr,yr[vr++]=Ro,Wr=t.id,Xr=t.overflow,Ro=e}var ii=null,dn=null,Ft=!1,xo=null,_r=!1,hm=Error(De(519));function Mo(e){var t=Error(De(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cc(wr(t,e)),hm}function F1(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ni]=e,t[Oi]=i,n){case"dialog":Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":case"embed":Mt("load",t);break;case"video":case"audio":for(n=0;n<pc.length;n++)Mt(pc[n],t);break;case"source":Mt("error",t);break;case"img":case"image":case"link":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"input":Mt("invalid",t),Cv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Mt("invalid",t);break;case"textarea":Mt("invalid",t),Ev(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Rw(t.textContent,n)?(i.popover!=null&&(Mt("beforetoggle",t),Mt("toggle",t)),i.onScroll!=null&&Mt("scroll",t),i.onScrollEnd!=null&&Mt("scrollend",t),i.onClick!=null&&(t.onclick=Aa),t=!0):t=!1,t||Mo(e,!0)}function U1(e){for(ii=e.return;ii;)switch(ii.tag){case 5:case 31:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:ii=ii.return}}function Ys(e){if(e!==ii)return!1;if(!Ft)return U1(e),Ft=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Bm(e.type,e.memoizedProps)),n=!n),n&&dn&&Mo(e),U1(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));dn=S2(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));dn=S2(e)}else t===27?(t=dn,Bo(e.type)?(e=Gm,Gm=null,dn=e):dn=t):dn=ii?Sr(e.stateNode.nextSibling):null;return!0}function fs(){dn=ii=null,Ft=!1}function gp(){var e=xo;return e!==null&&(Fi===null?Fi=e:Fi.push.apply(Fi,e),xo=null),e}function cc(e){xo===null?xo=[e]:xo.push(e)}var pm=ta(null),ws=null,Ca=null;function co(e,t,n){ln(pm,t._currentValue),t._currentValue=n}function Ea(e){e._currentValue=pm.current,$n(pm)}function mm(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function gm(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var o=r.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=r;for(var l=0;l<t.length;l++)if(s.context===t[l]){a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),mm(a.return,n,e),i||(o=null);break e}a=s.next}}else if(r.tag===18){if(o=r.return,o===null)throw Error(De(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),mm(o,n,e),o=null}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}}function jl(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var o=r.alternate;if(o===null)throw Error(De(387));if(o=o.memoizedProps,o!==null){var s=r.type;or(r.pendingProps.value,o.value)||(e!==null?e.push(s):e=[s])}}else if(r===ud.current){if(o=r.alternate,o===null)throw Error(De(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(gc):e=[gc])}r=r.return}e!==null&&gm(t,e,n,i),t.flags|=262144}function yd(e){for(e=e.firstContext;e!==null;){if(!or(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ds(e){ws=e,Ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ri(e){return Xv(ws,e)}function Tf(e,t){return ws===null&&ds(e),Xv(e,t)}function Xv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ca===null){if(e===null)throw Error(De(308));Ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ca=Ca.next=t;return n}var CS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},TS=Vn.unstable_scheduleCallback,ES=Vn.unstable_NormalPriority,Bn={$$typeof:Sa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ug(){return{controller:new CS,data:new Map,refCount:0}}function Lc(e){e.refCount--,e.refCount===0&&TS(ES,function(){e.controller.abort()})}var Ju=null,ym=0,Dl=0,wl=null;function NS(e,t){if(Ju===null){var n=Ju=[];ym=0,Dl=l0(),wl={status:"pending",value:void 0,then:function(i){n.push(i)}}}return ym++,t.then(B1,B1),t}function B1(){if(--ym===0&&Ju!==null){wl!==null&&(wl.status="fulfilled");var e=Ju;Ju=null,Dl=0,wl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function LS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var O1=gt.S;gt.S=function(e,t){cw=nr(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&NS(e,t),O1!==null&&O1(e,t)};var os=ta(null);function Bg(){var e=os.current;return e!==null?e:an.pooledCache}function Yf(e,t){t===null?ln(os,os.current):ln(os,t.pool)}function Zv(){var e=Bg();return e===null?null:{parent:Bn._currentValue,pool:e}}var Yl=Error(De(460)),Og=Error(De(474)),th=Error(De(542)),vd={then:function(){}};function z1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $v(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Aa,Aa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,G1(e),e;default:if(typeof t.status=="string")t.then(Aa,Aa);else{if(e=an,e!==null&&100<e.shellSuspendCounter)throw Error(De(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,G1(e),e}throw ss=t,Yl}}function es(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ss=n,Yl):n}}var ss=null;function q1(){if(ss===null)throw Error(De(459));var e=ss;return ss=null,e}function G1(e){if(e===Yl||e===th)throw Error(De(483))}var _l=null,fc=0;function Ef(e){var t=fc;return fc+=1,_l===null&&(_l=[]),$v(_l,e,t)}function Ru(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Nf(e,t){throw t.$$typeof===m3?Error(De(525)):(e=Object.prototype.toString.call(t),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qv(e){function t(v,w){if(e){var A=v.deletions;A===null?(v.deletions=[w],v.flags|=16):A.push(w)}}function n(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function i(v){for(var w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function r(v,w){return v=Ta(v,w),v.index=0,v.sibling=null,v}function a(v,w,A){return v.index=A,e?(A=v.alternate,A!==null?(A=A.index,A<w?(v.flags|=67108866,w):A):(v.flags|=67108866,w)):(v.flags|=1048576,w)}function o(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function s(v,w,A,R){return w===null||w.tag!==6?(w=pp(A,v.mode,R),w.return=v,w):(w=r(w,A),w.return=v,w)}function l(v,w,A,R){var k=A.type;return k===il?d(v,w,A.props.children,R,A.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===lo&&es(k)===w.type)?(w=r(w,A.props),Ru(w,A),w.return=v,w):(w=jf(A.type,A.key,A.props,null,v.mode,R),Ru(w,A),w.return=v,w)}function u(v,w,A,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=mp(A,v.mode,R),w.return=v,w):(w=r(w,A.children||[]),w.return=v,w)}function d(v,w,A,R,k){return w===null||w.tag!==7?(w=as(A,v.mode,R,k),w.return=v,w):(w=r(w,A),w.return=v,w)}function p(v,w,A){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=pp(""+w,v.mode,A),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wf:return A=jf(w.type,w.key,w.props,null,v.mode,A),Ru(A,w),A.return=v,A;case Bu:return w=mp(w,v.mode,A),w.return=v,w;case lo:return w=es(w),p(v,w,A)}if(Ou(w)||Nu(w))return w=as(w,v.mode,A,null),w.return=v,w;if(typeof w.then=="function")return p(v,Ef(w),A);if(w.$$typeof===Sa)return p(v,Tf(v,w),A);Nf(v,w)}return null}function g(v,w,A,R){var k=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return k!==null?null:s(v,w,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case wf:return A.key===k?l(v,w,A,R):null;case Bu:return A.key===k?u(v,w,A,R):null;case lo:return A=es(A),g(v,w,A,R)}if(Ou(A)||Nu(A))return k!==null?null:d(v,w,A,R,null);if(typeof A.then=="function")return g(v,w,Ef(A),R);if(A.$$typeof===Sa)return g(v,w,Tf(v,A),R);Nf(v,A)}return null}function h(v,w,A,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return v=v.get(A)||null,s(w,v,""+R,k);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case wf:return v=v.get(R.key===null?A:R.key)||null,l(w,v,R,k);case Bu:return v=v.get(R.key===null?A:R.key)||null,u(w,v,R,k);case lo:return R=es(R),h(v,w,A,R,k)}if(Ou(R)||Nu(R))return v=v.get(A)||null,d(w,v,R,k,null);if(typeof R.then=="function")return h(v,w,A,Ef(R),k);if(R.$$typeof===Sa)return h(v,w,A,Tf(w,R),k);Nf(w,R)}return null}function S(v,w,A,R){for(var k=null,X=null,U=w,q=w=0,B=null;U!==null&&q<A.length;q++){U.index>q?(B=U,U=null):B=U.sibling;var W=g(v,U,A[q],R);if(W===null){U===null&&(U=B);break}e&&U&&W.alternate===null&&t(v,U),w=a(W,w,q),X===null?k=W:X.sibling=W,X=W,U=B}if(q===A.length)return n(v,U),Ft&&_a(v,q),k;if(U===null){for(;q<A.length;q++)U=p(v,A[q],R),U!==null&&(w=a(U,w,q),X===null?k=U:X.sibling=U,X=U);return Ft&&_a(v,q),k}for(U=i(U);q<A.length;q++)B=h(U,v,q,A[q],R),B!==null&&(e&&B.alternate!==null&&U.delete(B.key===null?q:B.key),w=a(B,w,q),X===null?k=B:X.sibling=B,X=B);return e&&U.forEach(function(D){return t(v,D)}),Ft&&_a(v,q),k}function _(v,w,A,R){if(A==null)throw Error(De(151));for(var k=null,X=null,U=w,q=w=0,B=null,W=A.next();U!==null&&!W.done;q++,W=A.next()){U.index>q?(B=U,U=null):B=U.sibling;var D=g(v,U,W.value,R);if(D===null){U===null&&(U=B);break}e&&U&&D.alternate===null&&t(v,U),w=a(D,w,q),X===null?k=D:X.sibling=D,X=D,U=B}if(W.done)return n(v,U),Ft&&_a(v,q),k;if(U===null){for(;!W.done;q++,W=A.next())W=p(v,W.value,R),W!==null&&(w=a(W,w,q),X===null?k=W:X.sibling=W,X=W);return Ft&&_a(v,q),k}for(U=i(U);!W.done;q++,W=A.next())W=h(U,v,q,W.value,R),W!==null&&(e&&W.alternate!==null&&U.delete(W.key===null?q:W.key),w=a(W,w,q),X===null?k=W:X.sibling=W,X=W);return e&&U.forEach(function(N){return t(v,N)}),Ft&&_a(v,q),k}function C(v,w,A,R){if(typeof A=="object"&&A!==null&&A.type===il&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case wf:e:{for(var k=A.key;w!==null;){if(w.key===k){if(k=A.type,k===il){if(w.tag===7){n(v,w.sibling),R=r(w,A.props.children),R.return=v,v=R;break e}}else if(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===lo&&es(k)===w.type){n(v,w.sibling),R=r(w,A.props),Ru(R,A),R.return=v,v=R;break e}n(v,w);break}else t(v,w);w=w.sibling}A.type===il?(R=as(A.props.children,v.mode,R,A.key),R.return=v,v=R):(R=jf(A.type,A.key,A.props,null,v.mode,R),Ru(R,A),R.return=v,v=R)}return o(v);case Bu:e:{for(k=A.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){n(v,w.sibling),R=r(w,A.children||[]),R.return=v,v=R;break e}else{n(v,w);break}else t(v,w);w=w.sibling}R=mp(A,v.mode,R),R.return=v,v=R}return o(v);case lo:return A=es(A),C(v,w,A,R)}if(Ou(A))return S(v,w,A,R);if(Nu(A)){if(k=Nu(A),typeof k!="function")throw Error(De(150));return A=k.call(A),_(v,w,A,R)}if(typeof A.then=="function")return C(v,w,Ef(A),R);if(A.$$typeof===Sa)return C(v,w,Tf(v,A),R);Nf(v,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,w!==null&&w.tag===6?(n(v,w.sibling),R=r(w,A),R.return=v,v=R):(n(v,w),R=pp(A,v.mode,R),R.return=v,v=R),o(v)):n(v,w)}return function(v,w,A,R){try{fc=0;var k=C(v,w,A,R);return _l=null,k}catch(U){if(U===Yl||U===th)throw U;var X=Qi(29,U,null,v.mode);return X.lanes=R,X.return=v,X}finally{}}}var hs=Qv(!0),eb=Qv(!1),uo=!1;function zg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function So(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ao(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Vt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=md(e),jv(e,null,n),t}return eh(e,i,t,n),md(e)}function Ku(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,vv(e,n)}}function yp(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var bm=!1;function Wu(){if(bm){var e=wl;if(e!==null)throw e}}function Xu(e,t,n,i){bm=!1;var r=e.updateQueue;uo=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(s!==null){r.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(a!==null){var p=r.baseState;o=0,d=u=l=null,s=a;do{var g=s.lane&-536870913,h=g!==s.lane;if(h?(Pt&g)===g:(i&g)===g){g!==0&&g===Dl&&(bm=!0),d!==null&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var S=e,_=s;g=t;var C=n;switch(_.tag){case 1:if(S=_.payload,typeof S=="function"){p=S.call(C,p,g);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,g=typeof S=="function"?S.call(C,p,g):S,g==null)break e;p=mn({},p,g);break e;case 2:uo=!0}}g=s.callback,g!==null&&(e.flags|=64,h&&(e.flags|=8192),h=r.callbacks,h===null?r.callbacks=[g]:h.push(g))}else h={lane:g,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=h,l=p):d=d.next=h,o|=g;if(s=s.next,s===null){if(s=r.shared.pending,s===null)break;h=s,s=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);d===null&&(l=p),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,a===null&&(r.shared.lanes=0),Do|=o,e.lanes=o,e.memoizedState=p}}function tb(e,t){if(typeof e!="function")throw Error(De(191,e));e.call(t)}function nb(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)tb(n[e],t)}var Pl=ta(null),bd=ta(0);function H1(e,t){e=ka,ln(bd,e),ln(Pl,t),ka=e|t.baseLanes}function wm(){ln(bd,ka),ln(Pl,Pl.current)}function qg(){ka=bd.current,$n(Pl),$n(bd)}var sr=ta(null),xr=null;function fo(e){var t=e.alternate;ln(In,In.current&1),ln(sr,e),xr===null&&(t===null||Pl.current!==null||t.memoizedState!==null)&&(xr=e)}function _m(e){ln(In,In.current),ln(sr,e),xr===null&&(xr=e)}function ib(e){e.tag===22?(ln(In,In.current),ln(sr,e),xr===null&&(xr=e)):ho()}function ho(){ln(In,In.current),ln(sr,sr.current)}function $i(e){$n(sr),xr===e&&(xr=null),$n(In)}var In=ta(0);function wd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||zm(n)||qm(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ia=0,Et=null,tn=null,Fn=null,_d=!1,xl=!1,ps=!1,xd=0,dc=0,Sl=null,IS=0;function xn(){throw Error(De(321))}function Gg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Hg(e,t,n,i,r,a){return Ia=a,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gt.H=e===null||e.memoizedState===null?Db:e0,ps=!1,a=n(i,r),ps=!1,xl&&(a=ab(t,n,i,r)),rb(e),a}function rb(e){gt.H=hc;var t=tn!==null&&tn.next!==null;if(Ia=0,Fn=tn=Et=null,_d=!1,dc=0,Sl=null,t)throw Error(De(300));e===null||On||(e=e.dependencies,e!==null&&yd(e)&&(On=!0))}function ab(e,t,n,i){Et=e;var r=0;do{if(xl&&(Sl=null),dc=0,xl=!1,25<=r)throw Error(De(301));if(r+=1,Fn=tn=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}gt.H=Pb,a=t(n,i)}while(xl);return a}function RS(){var e=gt.H,t=e.useState()[0];return t=typeof t.then=="function"?Ic(t):t,e=e.useState()[0],(tn!==null?tn.memoizedState:null)!==e&&(Et.flags|=1024),t}function Vg(){var e=xd!==0;return xd=0,e}function jg(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Yg(e){if(_d){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}_d=!1}Ia=0,Fn=tn=Et=null,xl=!1,dc=xd=0,Sl=null}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Et.memoizedState=Fn=e:Fn=Fn.next=e,Fn}function Rn(){if(tn===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=tn.next;var t=Fn===null?Et.memoizedState:Fn.next;if(t!==null)Fn=t,tn=e;else{if(e===null)throw Et.alternate===null?Error(De(467)):Error(De(310));tn=e,e={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},Fn===null?Et.memoizedState=Fn=e:Fn=Fn.next=e}return Fn}function nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ic(e){var t=dc;return dc+=1,Sl===null&&(Sl=[]),e=$v(Sl,e,t),t=Et,(Fn===null?t.memoizedState:Fn.next)===null&&(t=t.alternate,gt.H=t===null||t.memoizedState===null?Db:e0),e}function ih(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ic(e);if(e.$$typeof===Sa)return ri(e)}throw Error(De(438,String(e)))}function Jg(e){var t=null,n=Et.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Et.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=nh(),Et.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=g3;return t.index++,n}function Ra(e,t){return typeof t=="function"?t(e):t}function Jf(e){var t=Rn();return Kg(t,tn,e)}function Kg(e,t,n){var i=e.queue;if(i===null)throw Error(De(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var s=o=null,l=null,u=t,d=!1;do{var p=u.lane&-536870913;if(p!==u.lane?(Pt&p)===p:(Ia&p)===p){var g=u.revertLane;if(g===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===Dl&&(d=!0);else if((Ia&g)===g){u=u.next,g===Dl&&(d=!0);continue}else p={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=p,o=a):l=l.next=p,Et.lanes|=g,Do|=g;p=u.action,ps&&n(a,p),a=u.hasEagerState?u.eagerState:n(a,p)}else g={lane:p,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=g,o=a):l=l.next=g,Et.lanes|=p,Do|=p;u=u.next}while(u!==null&&u!==t);if(l===null?o=a:l.next=s,!or(a,e.memoizedState)&&(On=!0,d&&(n=wl,n!==null)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=l,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function vp(e){var t=Rn(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=e(a,o.action),o=o.next;while(o!==r);or(a,t.memoizedState)||(On=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function ob(e,t,n){var i=Et,r=Rn(),a=Ft;if(a){if(n===void 0)throw Error(De(407));n=n()}else n=t();var o=!or((tn||r).memoizedState,n);if(o&&(r.memoizedState=n,On=!0),r=r.queue,Wg(ub.bind(null,i,r,e),[e]),r.getSnapshot!==t||o||Fn!==null&&Fn.memoizedState.tag&1){if(i.flags|=2048,Fl(9,{destroy:void 0},lb.bind(null,i,r,n,t),null),an===null)throw Error(De(349));a||Ia&127||sb(i,t,n)}return n}function sb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Et.updateQueue,t===null?(t=nh(),Et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lb(e,t,n,i){t.value=n,t.getSnapshot=i,cb(t)&&fb(e)}function ub(e,t,n){return n(function(){cb(t)&&fb(e)})}function cb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch{return!0}}function fb(e){var t=bs(e,2);t!==null&&Ui(t,e,2)}function xm(e){var t=xi();if(typeof e=="function"){var n=e;if(e=n(),ps){mo(!0);try{n()}finally{mo(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:e},t}function db(e,t,n,i){return e.baseState=n,Kg(e,tn,typeof i=="function"?i:Ra)}function MS(e,t,n,i,r){if(ah(e))throw Error(De(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};gt.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,hb(t,a)):(a.next=n.next,t.pending=n.next=a)}}function hb(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=gt.T,o={};gt.T=o;try{var s=n(r,i),l=gt.S;l!==null&&l(o,s),V1(e,t,s)}catch(u){Sm(e,t,u)}finally{a!==null&&o.types!==null&&(a.types=o.types),gt.T=a}}else try{a=n(r,i),V1(e,t,a)}catch(u){Sm(e,t,u)}}function V1(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){j1(e,t,i)},function(i){return Sm(e,t,i)}):j1(e,t,n)}function j1(e,t,n){t.status="fulfilled",t.value=n,pb(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,hb(e,n)))}function Sm(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,pb(t),t=t.next;while(t!==i)}e.action=null}function pb(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function mb(e,t){return t}function Y1(e,t){if(Ft){var n=an.formState;if(n!==null){e:{var i=Et;if(Ft){if(dn){t:{for(var r=dn,a=_r;r.nodeType!==8;){if(!a){r=null;break t}if(r=Sr(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){dn=Sr(r.nextSibling),i=r.data==="F!";break e}}Mo(i)}i=!1}i&&(t=n[0])}}return n=xi(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mb,lastRenderedState:t},n.queue=i,n=Rb.bind(null,Et,i),i.dispatch=n,i=xm(!1),a=Qg.bind(null,Et,!1,i.queue),i=xi(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=MS.bind(null,Et,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function J1(e){var t=Rn();return gb(t,tn,e)}function gb(e,t,n){if(t=Kg(e,t,mb)[0],e=Jf(Ra)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Ic(t)}catch(o){throw o===Yl?th:o}else i=t;t=Rn();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(Et.flags|=2048,Fl(9,{destroy:void 0},kS.bind(null,r,n),null)),[i,a,e]}function kS(e,t){e.action=t}function K1(e){var t=Rn(),n=tn;if(n!==null)return gb(t,n,e);Rn(),t=t.memoizedState,n=Rn();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Fl(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Et.updateQueue,t===null&&(t=nh(),Et.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function yb(){return Rn().memoizedState}function Kf(e,t,n,i){var r=xi();Et.flags|=e,r.memoizedState=Fl(1|t,{destroy:void 0},n,i===void 0?null:i)}function rh(e,t,n,i){var r=Rn();i=i===void 0?null:i;var a=r.memoizedState.inst;tn!==null&&i!==null&&Gg(i,tn.memoizedState.deps)?r.memoizedState=Fl(t,a,n,i):(Et.flags|=e,r.memoizedState=Fl(1|t,a,n,i))}function W1(e,t){Kf(8390656,8,e,t)}function Wg(e,t){rh(2048,8,e,t)}function DS(e){Et.flags|=4;var t=Et.updateQueue;if(t===null)t=nh(),Et.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function vb(e){var t=Rn().memoizedState;return DS({ref:t,nextImpl:e}),function(){if(Vt&2)throw Error(De(440));return t.impl.apply(void 0,arguments)}}function bb(e,t){return rh(4,2,e,t)}function wb(e,t){return rh(4,4,e,t)}function _b(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xb(e,t,n){n=n!=null?n.concat([e]):null,rh(4,4,_b.bind(null,t,e),n)}function Xg(){}function Sb(e,t){var n=Rn();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Gg(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ab(e,t){var n=Rn();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Gg(t,i[1]))return i[0];if(i=e(),ps){mo(!0);try{e()}finally{mo(!1)}}return n.memoizedState=[i,t],i}function Zg(e,t,n){return n===void 0||Ia&1073741824&&!(Pt&261930)?e.memoizedState=t:(e.memoizedState=n,e=dw(),Et.lanes|=e,Do|=e,n)}function Cb(e,t,n,i){return or(n,t)?n:Pl.current!==null?(e=Zg(e,n,i),or(e,t)||(On=!0),e):!(Ia&42)||Ia&1073741824&&!(Pt&261930)?(On=!0,e.memoizedState=n):(e=dw(),Et.lanes|=e,Do|=e,t)}function Tb(e,t,n,i,r){var a=jt.p;jt.p=a!==0&&8>a?a:8;var o=gt.T,s={};gt.T=s,Qg(e,!1,t,n);try{var l=r(),u=gt.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=LS(l,i);Zu(e,t,d,ar(e))}else Zu(e,t,i,ar(e))}catch(p){Zu(e,t,{then:function(){},status:"rejected",reason:p},ar())}finally{jt.p=a,o!==null&&s.types!==null&&(o.types=s.types),gt.T=o}}function PS(){}function Am(e,t,n,i){if(e.tag!==5)throw Error(De(476));var r=Eb(e).queue;Tb(e,r,t,rs,n===null?PS:function(){return Nb(e),n(i)})}function Eb(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:rs,baseState:rs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:rs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Nb(e){var t=Eb(e);t.next===null&&(t=e.alternate.memoizedState),Zu(e,t.next.queue,{},ar())}function $g(){return ri(gc)}function Lb(){return Rn().memoizedState}function Ib(){return Rn().memoizedState}function FS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ar();e=So(n);var i=Ao(t,e,n);i!==null&&(Ui(i,t,n),Ku(i,t,n)),t={cache:Ug()},e.payload=t;return}t=t.return}}function US(e,t,n){var i=ar();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ah(e)?Mb(t,n):(n=kg(e,t,n,i),n!==null&&(Ui(n,e,i),kb(n,t,i)))}function Rb(e,t,n){var i=ar();Zu(e,t,n,i)}function Zu(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ah(e))Mb(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(r.hasEagerState=!0,r.eagerState=s,or(s,o))return eh(e,t,r,0),an===null&&Qd(),!1}catch{}finally{}if(n=kg(e,t,r,i),n!==null)return Ui(n,e,i),kb(n,t,i),!0}return!1}function Qg(e,t,n,i){if(i={lane:2,revertLane:l0(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ah(e)){if(t)throw Error(De(479))}else t=kg(e,n,i,2),t!==null&&Ui(t,e,2)}function ah(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function Mb(e,t){xl=_d=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kb(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,vv(e,n)}}var hc={readContext:ri,use:ih,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn};hc.useEffectEvent=xn;var Db={readContext:ri,use:ih,useCallback:function(e,t){return xi().memoizedState=[e,t===void 0?null:t],e},useContext:ri,useEffect:W1,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Kf(4194308,4,_b.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kf(4194308,4,e,t)},useInsertionEffect:function(e,t){Kf(4,2,e,t)},useMemo:function(e,t){var n=xi();t=t===void 0?null:t;var i=e();if(ps){mo(!0);try{e()}finally{mo(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=xi();if(n!==void 0){var r=n(t);if(ps){mo(!0);try{n(t)}finally{mo(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=US.bind(null,Et,e),[i.memoizedState,e]},useRef:function(e){var t=xi();return e={current:e},t.memoizedState=e},useState:function(e){e=xm(e);var t=e.queue,n=Rb.bind(null,Et,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xg,useDeferredValue:function(e,t){var n=xi();return Zg(n,e,t)},useTransition:function(){var e=xm(!1);return e=Tb.bind(null,Et,e.queue,!0,!1),xi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Et,r=xi();if(Ft){if(n===void 0)throw Error(De(407));n=n()}else{if(n=t(),an===null)throw Error(De(349));Pt&127||sb(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,W1(ub.bind(null,i,a,e),[e]),i.flags|=2048,Fl(9,{destroy:void 0},lb.bind(null,i,a,n,t),null),n},useId:function(){var e=xi(),t=an.identifierPrefix;if(Ft){var n=Xr,i=Wr;n=(i&~(1<<32-rr(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=xd++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=IS++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:$g,useFormState:Y1,useActionState:Y1,useOptimistic:function(e){var t=xi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Qg.bind(null,Et,!0,n),n.dispatch=t,[e,t]},useMemoCache:Jg,useCacheRefresh:function(){return xi().memoizedState=FS.bind(null,Et)},useEffectEvent:function(e){var t=xi(),n={impl:e};return t.memoizedState=n,function(){if(Vt&2)throw Error(De(440));return n.impl.apply(void 0,arguments)}}},e0={readContext:ri,use:ih,useCallback:Sb,useContext:ri,useEffect:Wg,useImperativeHandle:xb,useInsertionEffect:bb,useLayoutEffect:wb,useMemo:Ab,useReducer:Jf,useRef:yb,useState:function(){return Jf(Ra)},useDebugValue:Xg,useDeferredValue:function(e,t){var n=Rn();return Cb(n,tn.memoizedState,e,t)},useTransition:function(){var e=Jf(Ra)[0],t=Rn().memoizedState;return[typeof e=="boolean"?e:Ic(e),t]},useSyncExternalStore:ob,useId:Lb,useHostTransitionStatus:$g,useFormState:J1,useActionState:J1,useOptimistic:function(e,t){var n=Rn();return db(n,tn,e,t)},useMemoCache:Jg,useCacheRefresh:Ib};e0.useEffectEvent=vb;var Pb={readContext:ri,use:ih,useCallback:Sb,useContext:ri,useEffect:Wg,useImperativeHandle:xb,useInsertionEffect:bb,useLayoutEffect:wb,useMemo:Ab,useReducer:vp,useRef:yb,useState:function(){return vp(Ra)},useDebugValue:Xg,useDeferredValue:function(e,t){var n=Rn();return tn===null?Zg(n,e,t):Cb(n,tn.memoizedState,e,t)},useTransition:function(){var e=vp(Ra)[0],t=Rn().memoizedState;return[typeof e=="boolean"?e:Ic(e),t]},useSyncExternalStore:ob,useId:Lb,useHostTransitionStatus:$g,useFormState:K1,useActionState:K1,useOptimistic:function(e,t){var n=Rn();return tn!==null?db(n,tn,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Jg,useCacheRefresh:Ib};Pb.useEffectEvent=vb;function bp(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:mn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cm={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ar(),r=So(i);r.payload=t,n!=null&&(r.callback=n),t=Ao(e,r,i),t!==null&&(Ui(t,e,i),Ku(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ar(),r=So(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Ao(e,r,i),t!==null&&(Ui(t,e,i),Ku(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ar(),i=So(n);i.tag=2,t!=null&&(i.callback=t),t=Ao(e,i,n),t!==null&&(Ui(t,e,n),Ku(t,e,n))}};function X1(e,t,n,i,r,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,o):t.prototype&&t.prototype.isPureReactComponent?!lc(n,i)||!lc(r,a):!0}function Z1(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Cm.enqueueReplaceState(t,t.state,null)}function ms(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=mn({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function Fb(e){pd(e)}function Ub(e){console.error(e)}function Bb(e){pd(e)}function Sd(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function $1(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Tm(e,t,n){return n=So(n),n.tag=3,n.payload={element:null},n.callback=function(){Sd(e,t)},n}function Ob(e){return e=So(e),e.tag=3,e}function zb(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){$1(t,n,i)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){$1(t,n,i),typeof r!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var s=i.stack;this.componentDidCatch(i.value,{componentStack:s!==null?s:""})})}function BS(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&jl(t,n,r,!0),n=sr.current,n!==null){switch(n.tag){case 31:case 13:return xr===null?Nd():n.alternate===null&&An===0&&(An=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===vd?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Ip(e,i,r)),!1;case 22:return n.flags|=65536,i===vd?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Ip(e,i,r)),!1}throw Error(De(435,n.tag))}return Ip(e,i,r),Nd(),!1}if(Ft)return t=sr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==hm&&(e=Error(De(422),{cause:i}),cc(wr(e,n)))):(i!==hm&&(t=Error(De(423),{cause:i}),cc(wr(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=wr(i,n),r=Tm(e.stateNode,i,r),yp(e,r),An!==4&&(An=2)),!1;var a=Error(De(520),{cause:i});if(a=wr(a,n),ec===null?ec=[a]:ec.push(a),An!==4&&(An=2),t===null)return!0;i=wr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Tm(n.stateNode,i,e),yp(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Co===null||!Co.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Ob(r),zb(r,e,n,i),yp(n,r),!1}n=n.return}while(n!==null);return!1}var t0=Error(De(461)),On=!1;function ti(e,t,n,i){t.child=e===null?eb(t,null,n,i):hs(t,e.child,n,i)}function Q1(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var o={};for(var s in i)s!=="ref"&&(o[s]=i[s])}else o=i;return ds(t),i=Hg(e,t,n,o,a,r),s=Vg(),e!==null&&!On?(jg(e,t,r),Ma(e,t,r)):(Ft&&s&&Pg(t),t.flags|=1,ti(e,t,i,r),t.child)}function e2(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!Dg(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,qb(e,t,a,i,r)):(e=jf(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!n0(e,r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:lc,n(o,i)&&e.ref===t.ref)return Ma(e,t,r)}return t.flags|=1,e=Ta(a,i),e.ref=t.ref,e.return=t,t.child=e}function qb(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(lc(a,i)&&e.ref===t.ref)if(On=!1,t.pendingProps=i=a,n0(e,r))e.flags&131072&&(On=!0);else return t.lanes=e.lanes,Ma(e,t,r)}return Em(e,t,n,i,r)}function Gb(e,t,n,i){var r=i.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|n:n,e!==null){for(i=t.child=e.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~a}else i=0,t.child=null;return t2(e,t,a,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yf(t,a!==null?a.cachePool:null),a!==null?H1(t,a):wm(),ib(t);else return i=t.lanes=536870912,t2(e,t,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(Yf(t,a.cachePool),H1(t,a),ho(),t.memoizedState=null):(e!==null&&Yf(t,null),wm(),ho());return ti(e,t,r,n),t.child}function qu(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function t2(e,t,n,i,r){var a=Bg();return a=a===null?null:{parent:Bn._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Yf(t,null),wm(),ib(t),e!==null&&jl(e,t,i,!0),t.childLanes=r,null}function Wf(e,t){return t=Ad({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function n2(e,t,n){return hs(t,e.child,null,n),e=Wf(t,t.pendingProps),e.flags|=2,$i(t),t.memoizedState=null,e}function OS(e,t,n){var i=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ft){if(i.mode==="hidden")return e=Wf(t,i),t.lanes=536870912,qu(null,e);if(_m(t),(e=dn)?(e=Dw(e,_r),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ro!==null?{id:Wr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},n=Jv(e),n.return=t,t.child=n,ii=t,dn=null)):e=null,e===null)throw Mo(t);return t.lanes=536870912,null}return Wf(t,i)}var a=e.memoizedState;if(a!==null){var o=a.dehydrated;if(_m(t),r)if(t.flags&256)t.flags&=-257,t=n2(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(De(558));else if(On||jl(e,t,n,!1),r=(n&e.childLanes)!==0,On||r){if(i=an,i!==null&&(o=bv(i,n),o!==0&&o!==a.retryLane))throw a.retryLane=o,bs(e,o),Ui(i,e,o),t0;Nd(),t=n2(e,t,n)}else e=a.treeContext,dn=Sr(o.nextSibling),ii=t,Ft=!0,xo=null,_r=!1,e!==null&&Wv(t,e),t=Wf(t,i),t.flags|=4096;return t}return e=Ta(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Xf(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(De(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Em(e,t,n,i,r){return ds(t),n=Hg(e,t,n,i,void 0,r),i=Vg(),e!==null&&!On?(jg(e,t,r),Ma(e,t,r)):(Ft&&i&&Pg(t),t.flags|=1,ti(e,t,n,r),t.child)}function i2(e,t,n,i,r,a){return ds(t),t.updateQueue=null,n=ab(t,i,n,r),rb(e),i=Vg(),e!==null&&!On?(jg(e,t,a),Ma(e,t,a)):(Ft&&i&&Pg(t),t.flags|=1,ti(e,t,n,a),t.child)}function r2(e,t,n,i,r){if(ds(t),t.stateNode===null){var a=fl,o=n.contextType;typeof o=="object"&&o!==null&&(a=ri(o)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Cm,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},zg(t),o=n.contextType,a.context=typeof o=="object"&&o!==null?ri(o):fl,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(bp(t,n,o,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&Cm.enqueueReplaceState(a,a.state,null),Xu(t,i,a,r),Wu(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,l=ms(n,s);a.props=l;var u=a.context,d=n.contextType;o=fl,typeof d=="object"&&d!==null&&(o=ri(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||u!==o)&&Z1(t,a,i,o),uo=!1;var g=t.memoizedState;a.state=g,Xu(t,i,a,r),Wu(),u=t.memoizedState,s||g!==u||uo?(typeof p=="function"&&(bp(t,n,p,i),u=t.memoizedState),(l=uo||X1(t,n,l,i,g,u,o))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),a.props=i,a.state=u,a.context=o,i=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,vm(e,t),o=t.memoizedProps,d=ms(n,o),a.props=d,p=t.pendingProps,g=a.context,u=n.contextType,l=fl,typeof u=="object"&&u!==null&&(l=ri(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||g!==l)&&Z1(t,a,i,l),uo=!1,g=t.memoizedState,a.state=g,Xu(t,i,a,r),Wu();var h=t.memoizedState;o!==p||g!==h||uo||e!==null&&e.dependencies!==null&&yd(e.dependencies)?(typeof s=="function"&&(bp(t,n,s,i),h=t.memoizedState),(d=uo||X1(t,n,d,i,g,h,l)||e!==null&&e.dependencies!==null&&yd(e.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,h,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,h,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),a.props=i,a.state=h,a.context=l,i=d):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Xf(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=hs(t,e.child,null,r),t.child=hs(t,null,n,r)):ti(e,t,n,r),t.memoizedState=a.state,e=t.child):e=Ma(e,t,r),e}function a2(e,t,n,i){return fs(),t.flags|=256,ti(e,t,n,i),t.child}var wp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _p(e){return{baseLanes:e,cachePool:Zv()}}function xp(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=er),e}function Hb(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(In.current&2)!==0),o&&(r=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ft){if(r?fo(t):ho(),(e=dn)?(e=Dw(e,_r),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ro!==null?{id:Wr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},n=Jv(e),n.return=t,t.child=n,ii=t,dn=null)):e=null,e===null)throw Mo(t);return qm(e)?t.lanes=32:t.lanes=536870912,null}var s=i.children;return i=i.fallback,r?(ho(),r=t.mode,s=Ad({mode:"hidden",children:s},r),i=as(i,r,n,null),s.return=t,i.return=t,s.sibling=i,t.child=s,i=t.child,i.memoizedState=_p(n),i.childLanes=xp(e,o,n),t.memoizedState=wp,qu(null,i)):(fo(t),Nm(t,s))}var l=e.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(a)t.flags&256?(fo(t),t.flags&=-257,t=Sp(e,t,n)):t.memoizedState!==null?(ho(),t.child=e.child,t.flags|=128,t=null):(ho(),s=i.fallback,r=t.mode,i=Ad({mode:"visible",children:i.children},r),s=as(s,r,n,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,hs(t,e.child,null,n),i=t.child,i.memoizedState=_p(n),i.childLanes=xp(e,o,n),t.memoizedState=wp,t=qu(null,i));else if(fo(t),qm(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,i=Error(De(419)),i.stack="",i.digest=o,cc({value:i,source:null,stack:null}),t=Sp(e,t,n)}else if(On||jl(e,t,n,!1),o=(n&e.childLanes)!==0,On||o){if(o=an,o!==null&&(i=bv(o,n),i!==0&&i!==l.retryLane))throw l.retryLane=i,bs(e,i),Ui(o,e,i),t0;zm(s)||Nd(),t=Sp(e,t,n)}else zm(s)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,dn=Sr(s.nextSibling),ii=t,Ft=!0,xo=null,_r=!1,e!==null&&Wv(t,e),t=Nm(t,i.children),t.flags|=4096);return t}return r?(ho(),s=i.fallback,r=t.mode,l=e.child,u=l.sibling,i=Ta(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=Ta(u,s):(s=as(s,r,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,qu(null,i),i=t.child,s=e.child.memoizedState,s===null?s=_p(n):(r=s.cachePool,r!==null?(l=Bn._currentValue,r=r.parent!==l?{parent:l,pool:l}:r):r=Zv(),s={baseLanes:s.baseLanes|n,cachePool:r}),i.memoizedState=s,i.childLanes=xp(e,o,n),t.memoizedState=wp,qu(e.child,i)):(fo(t),n=e.child,e=n.sibling,n=Ta(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Nm(e,t){return t=Ad({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ad(e,t){return e=Qi(22,e,null,t),e.lanes=0,e}function Sp(e,t,n){return hs(t,e.child,null,n),e=Nm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function o2(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),mm(e.return,t,n)}function Ap(e,t,n,i,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r,o.treeForkCount=a)}function Vb(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;i=i.children;var o=In.current,s=(o&2)!==0;if(s?(o=o&1|2,t.flags|=128):o&=1,ln(In,o),ti(e,t,i,n),i=Ft?uc:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&o2(e,n,t);else if(e.tag===19)o2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&wd(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ap(t,!1,r,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&wd(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ap(t,!0,n,null,a,i);break;case"together":Ap(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Ma(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Do|=t.lanes,!(n&t.childLanes))if(e!==null){if(jl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(De(153));if(t.child!==null){for(e=t.child,n=Ta(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ta(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function n0(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&yd(e)))}function zS(e,t,n){switch(t.tag){case 3:cd(t,t.stateNode.containerInfo),co(t,Bn,e.memoizedState.cache),fs();break;case 27:case 5:nm(t);break;case 4:cd(t,t.stateNode.containerInfo);break;case 10:co(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,_m(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(fo(t),t.flags|=128,null):n&t.child.childLanes?Hb(e,t,n):(fo(t),e=Ma(e,t,n),e!==null?e.sibling:null);fo(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(jl(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return Vb(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ln(In,In.current),i)break;return null;case 22:return t.lanes=0,Gb(e,t,n,t.pendingProps);case 24:co(t,Bn,e.memoizedState.cache)}return Ma(e,t,n)}function jb(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)On=!0;else{if(!n0(e,n)&&!(t.flags&128))return On=!1,zS(e,t,n);On=!!(e.flags&131072)}else On=!1,Ft&&t.flags&1048576&&Kv(t,uc,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=es(t.elementType),t.type=e,typeof e=="function")Dg(e)?(i=ms(e,i),t.tag=1,t=r2(null,t,e,i,n)):(t.tag=0,t=Em(null,t,e,i,n));else{if(e!=null){var r=e.$$typeof;if(r===wg){t.tag=11,t=Q1(null,t,e,i,n);break e}else if(r===_g){t.tag=14,t=e2(null,t,e,i,n);break e}}throw t=em(e)||e,Error(De(306,t,""))}}return t;case 0:return Em(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=ms(i,t.pendingProps),r2(e,t,i,r,n);case 3:e:{if(cd(t,t.stateNode.containerInfo),e===null)throw Error(De(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,vm(e,t),Xu(t,i,null,n);var o=t.memoizedState;if(i=o.cache,co(t,Bn,i),i!==a.cache&&gm(t,[Bn],n,!0),Wu(),i=o.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=a2(e,t,i,n);break e}else if(i!==r){r=wr(Error(De(424)),t),cc(r),t=a2(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(dn=Sr(e.firstChild),ii=t,Ft=!0,xo=null,_r=!0,n=eb(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(fs(),i===r){t=Ma(e,t,n);break e}ti(e,t,i,n)}t=t.child}return t;case 26:return Xf(e,t),e===null?(n=T2(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ft||(n=t.type,e=t.pendingProps,i=Md(_o.current).createElement(n),i[ni]=t,i[Oi]=e,ai(i,n,e),Zn(i),t.stateNode=i):t.memoizedState=T2(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return nm(t),e===null&&Ft&&(i=t.stateNode=Pw(t.type,t.pendingProps,_o.current),ii=t,_r=!0,r=dn,Bo(t.type)?(Gm=r,dn=Sr(i.firstChild)):dn=r),ti(e,t,t.pendingProps.children,n),Xf(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ft&&((r=i=dn)&&(i=g4(i,t.type,t.pendingProps,_r),i!==null?(t.stateNode=i,ii=t,dn=Sr(i.firstChild),_r=!1,r=!0):r=!1),r||Mo(t)),nm(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,Bm(r,a)?i=null:o!==null&&Bm(r,o)&&(t.flags|=32),t.memoizedState!==null&&(r=Hg(e,t,RS,null,null,n),gc._currentValue=r),Xf(e,t),ti(e,t,i,n),t.child;case 6:return e===null&&Ft&&((e=n=dn)&&(n=y4(n,t.pendingProps,_r),n!==null?(t.stateNode=n,ii=t,dn=null,e=!0):e=!1),e||Mo(t)),null;case 13:return Hb(e,t,n);case 4:return cd(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=hs(t,null,i,n):ti(e,t,i,n),t.child;case 11:return Q1(e,t,t.type,t.pendingProps,n);case 7:return ti(e,t,t.pendingProps,n),t.child;case 8:return ti(e,t,t.pendingProps.children,n),t.child;case 12:return ti(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,co(t,t.type,i.value),ti(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,ds(t),r=ri(r),i=i(r),t.flags|=1,ti(e,t,i,n),t.child;case 14:return e2(e,t,t.type,t.pendingProps,n);case 15:return qb(e,t,t.type,t.pendingProps,n);case 19:return Vb(e,t,n);case 31:return OS(e,t,n);case 22:return Gb(e,t,n,t.pendingProps);case 24:return ds(t),i=ri(Bn),e===null?(r=Bg(),r===null&&(r=an,a=Ug(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},zg(t),co(t,Bn,r)):(e.lanes&n&&(vm(e,t),Xu(t,null,null,n),Wu()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),co(t,Bn,i)):(i=a.cache,co(t,Bn,i),i!==r.cache&&gm(t,[Bn],n,!0))),ti(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(De(156,t.tag))}function ga(e){e.flags|=4}function Cp(e,t,n,i,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(mw())e.flags|=8192;else throw ss=vd,Og}else e.flags&=-16777217}function s2(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Bw(t))if(mw())e.flags|=8192;else throw ss=vd,Og}function Lf(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?gv():536870912,e.lanes|=t,Ul|=t)}function Mu(e,t){if(!Ft)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function cn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function qS(e,t,n){var i=t.pendingProps;switch(Fg(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(t),null;case 1:return cn(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ea(Bn),Rl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ys(t)?ga(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gp())),cn(t),null;case 26:var r=t.type,a=t.memoizedState;return e===null?(ga(t),a!==null?(cn(t),s2(t,a)):(cn(t),Cp(t,r,null,i,n))):a?a!==e.memoizedState?(ga(t),cn(t),s2(t,a)):(cn(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ga(t),cn(t),Cp(t,r,e,i,n)),null;case 27:if(fd(t),n=_o.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ga(t);else{if(!i){if(t.stateNode===null)throw Error(De(166));return cn(t),null}e=Qr.current,Ys(t)?F1(t):(e=Pw(r,i,n),t.stateNode=e,ga(t))}return cn(t),null;case 5:if(fd(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ga(t);else{if(!i){if(t.stateNode===null)throw Error(De(166));return cn(t),null}if(a=Qr.current,Ys(t))F1(t);else{var o=Md(_o.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?o.createElement(r,{is:i.is}):o.createElement(r)}}a[ni]=t,a[Oi]=i;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch(ai(a,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ga(t)}}return cn(t),Cp(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ga(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(De(166));if(e=_o.current,Ys(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=ii,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[ni]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Rw(e.nodeValue,n)),e||Mo(t,!0)}else e=Md(e).createTextNode(i),e[ni]=t,t.stateNode=e}return cn(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ys(t),n!==null){if(e===null){if(!i)throw Error(De(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(557));e[ni]=t}else fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cn(t),e=!1}else n=gp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?($i(t),t):($i(t),null);if(t.flags&128)throw Error(De(558))}return cn(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ys(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(De(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(De(317));r[ni]=t}else fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cn(t),r=!1}else r=gp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?($i(t),t):($i(t),null)}return $i(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Lf(t,t.updateQueue),cn(t),null);case 4:return Rl(),e===null&&u0(t.stateNode.containerInfo),cn(t),null;case 10:return Ea(t.type),cn(t),null;case 19:if($n(In),i=t.memoizedState,i===null)return cn(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Mu(i,!1);else{if(An!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=wd(e),a!==null){for(t.flags|=128,Mu(i,!1),e=a.updateQueue,t.updateQueue=e,Lf(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Yv(n,e),n=n.sibling;return ln(In,In.current&1|2),Ft&&_a(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&nr()>Td&&(t.flags|=128,r=!0,Mu(i,!1),t.lanes=4194304)}else{if(!r)if(e=wd(a),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Lf(t,e),Mu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ft)return cn(t),null}else 2*nr()-i.renderingStartTime>Td&&n!==536870912&&(t.flags|=128,r=!0,Mu(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(e=i.last,e!==null?e.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nr(),e.sibling=null,n=In.current,ln(In,r?n&1|2:n&1),Ft&&_a(t,i.treeForkCount),e):(cn(t),null);case 22:case 23:return $i(t),qg(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(cn(t),t.subtreeFlags&6&&(t.flags|=8192)):cn(t),n=t.updateQueue,n!==null&&Lf(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&$n(os),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ea(Bn),cn(t),null;case 25:return null;case 30:return null}throw Error(De(156,t.tag))}function GS(e,t){switch(Fg(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ea(Bn),Rl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fd(t),null;case 31:if(t.memoizedState!==null){if($i(t),t.alternate===null)throw Error(De(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if($i(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(De(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $n(In),null;case 4:return Rl(),null;case 10:return Ea(t.type),null;case 22:case 23:return $i(t),qg(),e!==null&&$n(os),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ea(Bn),null;case 25:return null;default:return null}}function Yb(e,t){switch(Fg(t),t.tag){case 3:Ea(Bn),Rl();break;case 26:case 27:case 5:fd(t);break;case 4:Rl();break;case 31:t.memoizedState!==null&&$i(t);break;case 13:$i(t);break;case 19:$n(In);break;case 10:Ea(t.type);break;case 22:case 23:$i(t),qg(),e!==null&&$n(os);break;case 24:Ea(Bn)}}function Rc(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,o=n.inst;i=a(),o.destroy=i}n=n.next}while(n!==r)}}catch(s){Zt(t,t.return,s)}}function ko(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var o=i.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,r=t;var l=n,u=s;try{u()}catch(d){Zt(r,l,d)}}}i=i.next}while(i!==a)}}catch(d){Zt(t,t.return,d)}}function Jb(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{nb(t,n)}catch(i){Zt(e,e.return,i)}}}function Kb(e,t,n){n.props=ms(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Zt(e,t,i)}}function $u(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){Zt(e,t,r)}}function Zr(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Zt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Zt(e,t,r)}else n.current=null}function Wb(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Zt(e,e.return,r)}}function Tp(e,t,n){try{var i=e.stateNode;c4(i,e.type,n,t),i[Oi]=t}catch(r){Zt(e,e.return,r)}}function Xb(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bo(e.type)||e.tag===4}function Ep(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lm(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Aa));else if(i!==4&&(i===27&&Bo(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Lm(e,t,n),e=e.sibling;e!==null;)Lm(e,t,n),e=e.sibling}function Cd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Bo(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Cd(e,t,n),e=e.sibling;e!==null;)Cd(e,t,n),e=e.sibling}function Zb(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ai(t,i,n),t[ni]=e,t[Oi]=n}catch(a){Zt(e,e.return,a)}}var xa=!1,Un=!1,Np=!1,l2=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function HS(e,t){if(e=e.containerInfo,Fm=Fd,e=Bv(e),Rg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,d=0,p=e,g=null;t:for(;;){for(var h;p!==n||r!==0&&p.nodeType!==3||(s=o+r),p!==a||i!==0&&p.nodeType!==3||(l=o+i),p.nodeType===3&&(o+=p.nodeValue.length),(h=p.firstChild)!==null;)g=p,p=h;for(;;){if(p===e)break t;if(g===n&&++u===r&&(s=o),g===a&&++d===i&&(l=o),(h=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Um={focusedElem:e,selectionRange:n},Fd=!1,Wn=t;Wn!==null;)if(t=Wn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Wn=e;else for(;Wn!==null;){switch(t=Wn,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var S=ms(n.type,r);e=i.getSnapshotBeforeUpdate(S,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(_){Zt(n,n.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Om(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Om(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(De(163))}if(e=t.sibling,e!==null){e.return=t.return,Wn=e;break}Wn=t.return}}function $b(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:va(e,n),i&4&&Rc(5,n);break;case 1:if(va(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){Zt(n,n.return,o)}else{var r=ms(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Zt(n,n.return,o)}}i&64&&Jb(n),i&512&&$u(n,n.return);break;case 3:if(va(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{nb(e,t)}catch(o){Zt(n,n.return,o)}}break;case 27:t===null&&i&4&&Zb(n);case 26:case 5:va(e,n),t===null&&i&4&&Wb(n),i&512&&$u(n,n.return);break;case 12:va(e,n);break;case 31:va(e,n),i&4&&tw(e,n);break;case 13:va(e,n),i&4&&nw(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=$S.bind(null,n),v4(e,n))));break;case 22:if(i=n.memoizedState!==null||xa,!i){t=t!==null&&t.memoizedState!==null||Un,r=xa;var a=Un;xa=i,(Un=t)&&!a?wa(e,n,(n.subtreeFlags&8772)!==0):va(e,n),xa=r,Un=a}break;case 30:break;default:va(e,n)}}function Qb(e){var t=e.alternate;t!==null&&(e.alternate=null,Qb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Cg(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var gn=null,Pi=!1;function ya(e,t,n){for(n=n.child;n!==null;)ew(e,t,n),n=n.sibling}function ew(e,t,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Ac,n)}catch{}switch(n.tag){case 26:Un||Zr(n,t),ya(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Un||Zr(n,t);var i=gn,r=Pi;Bo(n.type)&&(gn=n.stateNode,Pi=!1),ya(e,t,n),nc(n.stateNode),gn=i,Pi=r;break;case 5:Un||Zr(n,t);case 6:if(i=gn,r=Pi,gn=null,ya(e,t,n),gn=i,Pi=r,gn!==null)if(Pi)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(n.stateNode)}catch(a){Zt(n,t,a)}else try{gn.removeChild(n.stateNode)}catch(a){Zt(n,t,a)}break;case 18:gn!==null&&(Pi?(e=gn,_2(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ql(e)):_2(gn,n.stateNode));break;case 4:i=gn,r=Pi,gn=n.stateNode.containerInfo,Pi=!0,ya(e,t,n),gn=i,Pi=r;break;case 0:case 11:case 14:case 15:ko(2,n,t),Un||ko(4,n,t),ya(e,t,n);break;case 1:Un||(Zr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Kb(n,t,i)),ya(e,t,n);break;case 21:ya(e,t,n);break;case 22:Un=(i=Un)||n.memoizedState!==null,ya(e,t,n),Un=i;break;default:ya(e,t,n)}}function tw(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ql(e)}catch(n){Zt(t,t.return,n)}}}function nw(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ql(e)}catch(n){Zt(t,t.return,n)}}function VS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new l2),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new l2),t;default:throw Error(De(435,e.tag))}}function If(e,t){var n=VS(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var r=QS.bind(null,e,i);i.then(r,r)}})}function ki(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(Bo(s.type)){gn=s.stateNode,Pi=!1;break e}break;case 5:gn=s.stateNode,Pi=!1;break e;case 3:case 4:gn=s.stateNode.containerInfo,Pi=!0;break e}s=s.return}if(gn===null)throw Error(De(160));ew(a,o,r),gn=null,Pi=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)iw(t,e),t=t.sibling}var Br=null;function iw(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ki(t,e),Di(e),i&4&&(ko(3,e,e.return),Rc(3,e),ko(5,e,e.return));break;case 1:ki(t,e),Di(e),i&512&&(Un||n===null||Zr(n,n.return)),i&64&&xa&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Br;if(ki(t,e),Di(e),i&512&&(Un||n===null||Zr(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[Ec]||a[ni]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),ai(a,i,n),a[ni]=e,Zn(a),i=a;break e;case"link":var o=N2("link","href",r).get(i+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}a=r.createElement(i),ai(a,i,n),r.head.appendChild(a);break;case"meta":if(o=N2("meta","content",r).get(i+(n.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}a=r.createElement(i),ai(a,i,n),r.head.appendChild(a);break;default:throw Error(De(468,i))}a[ni]=e,Zn(a),i=a}e.stateNode=i}else L2(r,e.type,e.stateNode);else e.stateNode=E2(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?L2(r,e.type,e.stateNode):E2(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Tp(e,e.memoizedProps,n.memoizedProps)}break;case 27:ki(t,e),Di(e),i&512&&(Un||n===null||Zr(n,n.return)),n!==null&&i&4&&Tp(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ki(t,e),Di(e),i&512&&(Un||n===null||Zr(n,n.return)),e.flags&32){r=e.stateNode;try{kl(r,"")}catch(S){Zt(e,e.return,S)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Tp(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Np=!0);break;case 6:if(ki(t,e),Di(e),i&4){if(e.stateNode===null)throw Error(De(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(S){Zt(e,e.return,S)}}break;case 3:if(Qf=null,r=Br,Br=kd(t.containerInfo),ki(t,e),Br=r,Di(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(t.containerInfo)}catch(S){Zt(e,e.return,S)}Np&&(Np=!1,rw(e));break;case 4:i=Br,Br=kd(e.stateNode.containerInfo),ki(t,e),Di(e),Br=i;break;case 12:ki(t,e),Di(e);break;case 31:ki(t,e),Di(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,If(e,i)));break;case 13:ki(t,e),Di(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(oh=nr()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,If(e,i)));break;case 22:r=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=xa,d=Un;if(xa=u||r,Un=d||l,ki(t,e),Un=d,xa=u,Di(e),i&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||l||xa||Un||ts(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(a=l.stateNode,r)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var p=l.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;s.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(S){Zt(l,l.return,S)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=r?"":l.memoizedProps}catch(S){Zt(l,l.return,S)}}}else if(t.tag===18){if(n===null){l=t;try{var h=l.stateNode;r?x2(h,!0):x2(l.stateNode,!1)}catch(S){Zt(l,l.return,S)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,If(e,n))));break;case 19:ki(t,e),Di(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,If(e,i)));break;case 30:break;case 21:break;default:ki(t,e),Di(e)}}function Di(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Xb(i)){n=i;break}i=i.return}if(n==null)throw Error(De(160));switch(n.tag){case 27:var r=n.stateNode,a=Ep(e);Cd(e,a,r);break;case 5:var o=n.stateNode;n.flags&32&&(kl(o,""),n.flags&=-33);var s=Ep(e);Cd(e,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Ep(e);Lm(e,u,l);break;default:throw Error(De(161))}}catch(d){Zt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rw(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;rw(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function va(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$b(e,t.alternate,t),t=t.sibling}function ts(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ko(4,t,t.return),ts(t);break;case 1:Zr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Kb(t,t.return,n),ts(t);break;case 27:nc(t.stateNode);case 26:case 5:Zr(t,t.return),ts(t);break;case 22:t.memoizedState===null&&ts(t);break;case 30:ts(t);break;default:ts(t)}e=e.sibling}}function wa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:wa(r,a,n),Rc(4,a);break;case 1:if(wa(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){Zt(i,i.return,u)}if(i=a,r=i.updateQueue,r!==null){var s=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)tb(l[r],s)}catch(u){Zt(i,i.return,u)}}n&&o&64&&Jb(a),$u(a,a.return);break;case 27:Zb(a);case 26:case 5:wa(r,a,n),n&&i===null&&o&4&&Wb(a),$u(a,a.return);break;case 12:wa(r,a,n);break;case 31:wa(r,a,n),n&&o&4&&tw(r,a);break;case 13:wa(r,a,n),n&&o&4&&nw(r,a);break;case 22:a.memoizedState===null&&wa(r,a,n),$u(a,a.return);break;case 30:break;default:wa(r,a,n)}t=t.sibling}}function i0(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Lc(n))}function r0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Lc(e))}function Dr(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)aw(e,t,n,i),t=t.sibling}function aw(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Dr(e,t,n,i),r&2048&&Rc(9,t);break;case 1:Dr(e,t,n,i);break;case 3:Dr(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Lc(e)));break;case 12:if(r&2048){Dr(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Zt(t,t.return,l)}}else Dr(e,t,n,i);break;case 31:Dr(e,t,n,i);break;case 13:Dr(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState!==null?a._visibility&2?Dr(e,t,n,i):Qu(e,t):a._visibility&2?Dr(e,t,n,i):(a._visibility|=2,Qs(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),r&2048&&i0(o,t);break;case 24:Dr(e,t,n,i),r&2048&&r0(t.alternate,t);break;default:Dr(e,t,n,i)}}function Qs(e,t,n,i,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,o=t,s=n,l=i,u=o.flags;switch(o.tag){case 0:case 11:case 15:Qs(a,o,s,l,r),Rc(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?Qs(a,o,s,l,r):Qu(a,o):(d._visibility|=2,Qs(a,o,s,l,r)),r&&u&2048&&i0(o.alternate,o);break;case 24:Qs(a,o,s,l,r),r&&u&2048&&r0(o.alternate,o);break;default:Qs(a,o,s,l,r)}t=t.sibling}}function Qu(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Qu(n,i),r&2048&&i0(i.alternate,i);break;case 24:Qu(n,i),r&2048&&r0(i.alternate,i);break;default:Qu(n,i)}t=t.sibling}}var Gu=8192;function Js(e,t,n){if(e.subtreeFlags&Gu)for(e=e.child;e!==null;)ow(e,t,n),e=e.sibling}function ow(e,t,n){switch(e.tag){case 26:Js(e,t,n),e.flags&Gu&&e.memoizedState!==null&&I4(n,Br,e.memoizedState,e.memoizedProps);break;case 5:Js(e,t,n);break;case 3:case 4:var i=Br;Br=kd(e.stateNode.containerInfo),Js(e,t,n),Br=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Gu,Gu=16777216,Js(e,t,n),Gu=i):Js(e,t,n));break;default:Js(e,t,n)}}function sw(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ku(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Wn=i,uw(i,e)}sw(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lw(e),e=e.sibling}function lw(e){switch(e.tag){case 0:case 11:case 15:ku(e),e.flags&2048&&ko(9,e,e.return);break;case 3:ku(e);break;case 12:ku(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Zf(e)):ku(e);break;default:ku(e)}}function Zf(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Wn=i,uw(i,e)}sw(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ko(8,t,t.return),Zf(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Zf(t));break;default:Zf(t)}e=e.sibling}}function uw(e,t){for(;Wn!==null;){var n=Wn;switch(n.tag){case 0:case 11:case 15:ko(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Lc(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Wn=i;else e:for(n=e;Wn!==null;){i=Wn;var r=i.sibling,a=i.return;if(Qb(i),i===n){Wn=null;break e}if(r!==null){r.return=a,Wn=r;break e}Wn=a}}}var jS={getCacheForType:function(e){var t=ri(Bn),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ri(Bn).controller.signal}},YS=typeof WeakMap=="function"?WeakMap:Map,Vt=0,an=null,kt=null,Pt=0,Xt=0,Zi=null,yo=!1,Jl=!1,a0=!1,ka=0,An=0,Do=0,ls=0,o0=0,er=0,Ul=0,ec=null,Fi=null,Im=!1,oh=0,cw=0,Td=1/0,Ed=null,Co=null,Hn=0,To=null,Bl=null,Na=0,Rm=0,Mm=null,fw=null,tc=0,km=null;function ar(){return Vt&2&&Pt!==0?Pt&-Pt:gt.T!==null?l0():wv()}function dw(){if(er===0)if(!(Pt&536870912)||Ft){var e=xf;xf<<=1,!(xf&3932160)&&(xf=262144),er=e}else er=536870912;return e=sr.current,e!==null&&(e.flags|=32),er}function Ui(e,t,n){(e===an&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ol(e,0),vo(e,Pt,er,!1)),Tc(e,n),(!(Vt&2)||e!==an)&&(e===an&&(!(Vt&2)&&(ls|=n),An===4&&vo(e,Pt,er,!1)),na(e))}function hw(e,t,n){if(Vt&6)throw Error(De(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Cc(e,t),r=i?WS(e,t):Lp(e,t,!0),a=i;do{if(r===0){Jl&&!i&&vo(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!JS(n)){r=Lp(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var s=e;r=ec;var l=s.current.memoizedState.isDehydrated;if(l&&(Ol(s,o).flags|=256),o=Lp(s,o,!1),o!==2){if(a0&&!l){s.errorRecoveryDisabledLanes|=a,ls|=a,r=4;break e}a=Fi,Fi=r,a!==null&&(Fi===null?Fi=a:Fi.push.apply(Fi,a))}r=o}if(a=!1,r!==2)continue}}if(r===1){Ol(e,0),vo(e,t,0,!0);break}e:{switch(i=e,a=r,a){case 0:case 1:throw Error(De(345));case 4:if((t&4194048)!==t)break;case 6:vo(i,t,er,!yo);break e;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(De(329))}if((t&62914560)===t&&(r=oh+300-nr(),10<r)){if(vo(i,t,er,!yo),Wd(i,0,!0)!==0)break e;Na=t,i.timeoutHandle=kw(u2.bind(null,i,n,Fi,Ed,Im,t,er,ls,Ul,yo,a,"Throttled",-0,0),r);break e}u2(i,n,Fi,Ed,Im,t,er,ls,Ul,yo,a,null,-0,0)}}break}while(!0);na(e)}function u2(e,t,n,i,r,a,o,s,l,u,d,p,g,h){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Aa},ow(t,a,p);var S=(a&62914560)===a?oh-nr():(a&4194048)===a?cw-nr():0;if(S=R4(p,S),S!==null){Na=a,e.cancelPendingCommit=S(f2.bind(null,e,t,a,n,i,r,o,s,l,d,p,null,g,h)),vo(e,a,o,!u);return}}f2(e,t,a,n,i,r,o,s,l)}function JS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!or(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vo(e,t,n,i){t&=~o0,t&=~ls,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-rr(r),o=1<<a;i[a]=-1,r&=~o}n!==0&&yv(e,n,t)}function sh(){return Vt&6?!0:(Mc(0),!1)}function s0(){if(kt!==null){if(Xt===0)var e=kt.return;else e=kt,Ca=ws=null,Yg(e),_l=null,fc=0,e=kt;for(;e!==null;)Yb(e.alternate,e),e=e.return;kt=null}}function Ol(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,h4(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Na=0,s0(),an=e,kt=n=Ta(e.current,null),Pt=t,Xt=0,Zi=null,yo=!1,Jl=Cc(e,t),a0=!1,Ul=er=o0=ls=Do=An=0,Fi=ec=null,Im=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-rr(i),a=1<<r;t|=e[r],i&=~a}return ka=t,Qd(),n}function pw(e,t){Et=null,gt.H=hc,t===Yl||t===th?(t=q1(),Xt=3):t===Og?(t=q1(),Xt=4):Xt=t===t0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Zi=t,kt===null&&(An=1,Sd(e,wr(t,e.current)))}function mw(){var e=sr.current;return e===null?!0:(Pt&4194048)===Pt?xr===null:(Pt&62914560)===Pt||Pt&536870912?e===xr:!1}function gw(){var e=gt.H;return gt.H=hc,e===null?hc:e}function yw(){var e=gt.A;return gt.A=jS,e}function Nd(){An=4,yo||(Pt&4194048)!==Pt&&sr.current!==null||(Jl=!0),!(Do&134217727)&&!(ls&134217727)||an===null||vo(an,Pt,er,!1)}function Lp(e,t,n){var i=Vt;Vt|=2;var r=gw(),a=yw();(an!==e||Pt!==t)&&(Ed=null,Ol(e,t)),t=!1;var o=An;e:do try{if(Xt!==0&&kt!==null){var s=kt,l=Zi;switch(Xt){case 8:s0(),o=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(t=!0);var u=Xt;if(Xt=0,Zi=null,pl(e,s,l,u),n&&Jl){o=0;break e}break;default:u=Xt,Xt=0,Zi=null,pl(e,s,l,u)}}KS(),o=An;break}catch(d){pw(e,d)}while(!0);return t&&e.shellSuspendCounter++,Ca=ws=null,Vt=i,gt.H=r,gt.A=a,kt===null&&(an=null,Pt=0,Qd()),o}function KS(){for(;kt!==null;)vw(kt)}function WS(e,t){var n=Vt;Vt|=2;var i=gw(),r=yw();an!==e||Pt!==t?(Ed=null,Td=nr()+500,Ol(e,t)):Jl=Cc(e,t);e:do try{if(Xt!==0&&kt!==null){t=kt;var a=Zi;t:switch(Xt){case 1:Xt=0,Zi=null,pl(e,t,a,1);break;case 2:case 9:if(z1(a)){Xt=0,Zi=null,c2(t);break}t=function(){Xt!==2&&Xt!==9||an!==e||(Xt=7),na(e)},a.then(t,t);break e;case 3:Xt=7;break e;case 4:Xt=5;break e;case 7:z1(a)?(Xt=0,Zi=null,c2(t)):(Xt=0,Zi=null,pl(e,t,a,7));break;case 5:var o=null;switch(kt.tag){case 26:o=kt.memoizedState;case 5:case 27:var s=kt;if(o?Bw(o):s.stateNode.complete){Xt=0,Zi=null;var l=s.sibling;if(l!==null)kt=l;else{var u=s.return;u!==null?(kt=u,lh(u)):kt=null}break t}}Xt=0,Zi=null,pl(e,t,a,5);break;case 6:Xt=0,Zi=null,pl(e,t,a,6);break;case 8:s0(),An=6;break e;default:throw Error(De(462))}}XS();break}catch(d){pw(e,d)}while(!0);return Ca=ws=null,gt.H=i,gt.A=r,Vt=n,kt!==null?0:(an=null,Pt=0,Qd(),An)}function XS(){for(;kt!==null&&!b3();)vw(kt)}function vw(e){var t=jb(e.alternate,e,ka);e.memoizedProps=e.pendingProps,t===null?lh(e):kt=t}function c2(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=i2(n,t,t.pendingProps,t.type,void 0,Pt);break;case 11:t=i2(n,t,t.pendingProps,t.type.render,t.ref,Pt);break;case 5:Yg(t);default:Yb(n,t),t=kt=Yv(t,ka),t=jb(n,t,ka)}e.memoizedProps=e.pendingProps,t===null?lh(e):kt=t}function pl(e,t,n,i){Ca=ws=null,Yg(t),_l=null,fc=0;var r=t.return;try{if(BS(e,r,t,n,Pt)){An=1,Sd(e,wr(n,e.current)),kt=null;return}}catch(a){if(r!==null)throw kt=r,a;An=1,Sd(e,wr(n,e.current)),kt=null;return}t.flags&32768?(Ft||i===1?e=!0:Jl||Pt&536870912?e=!1:(yo=e=!0,(i===2||i===9||i===3||i===6)&&(i=sr.current,i!==null&&i.tag===13&&(i.flags|=16384))),bw(t,e)):lh(t)}function lh(e){var t=e;do{if(t.flags&32768){bw(t,yo);return}e=t.return;var n=qS(t.alternate,t,ka);if(n!==null){kt=n;return}if(t=t.sibling,t!==null){kt=t;return}kt=t=e}while(t!==null);An===0&&(An=5)}function bw(e,t){do{var n=GS(e.alternate,e);if(n!==null){n.flags&=32767,kt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){kt=e;return}kt=e=n}while(e!==null);An=6,kt=null}function f2(e,t,n,i,r,a,o,s,l){e.cancelPendingCommit=null;do uh();while(Hn!==0);if(Vt&6)throw Error(De(327));if(t!==null){if(t===e.current)throw Error(De(177));if(a=t.lanes|t.childLanes,a|=Mg,L3(e,n,a,o,s,l),e===an&&(kt=an=null,Pt=0),Bl=t,To=e,Na=n,Rm=a,Mm=r,fw=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,e4(dd,function(){return Aw(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=gt.T,gt.T=null,r=jt.p,jt.p=2,o=Vt,Vt|=4;try{HS(e,t,n)}finally{Vt=o,jt.p=r,gt.T=i}}Hn=1,ww(),_w(),xw()}}function ww(){if(Hn===1){Hn=0;var e=To,t=Bl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=gt.T,gt.T=null;var i=jt.p;jt.p=2;var r=Vt;Vt|=4;try{iw(t,e);var a=Um,o=Bv(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Uv(s.ownerDocument.documentElement,s)){if(l!==null&&Rg(s)){var u=l.start,d=l.end;if(d===void 0&&(d=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(d,s.value.length);else{var p=s.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var h=g.getSelection(),S=s.textContent.length,_=Math.min(l.start,S),C=l.end===void 0?_:Math.min(l.end,S);!h.extend&&_>C&&(o=C,C=_,_=o);var v=k1(s,_),w=k1(s,C);if(v&&w&&(h.rangeCount!==1||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==w.node||h.focusOffset!==w.offset)){var A=p.createRange();A.setStart(v.node,v.offset),h.removeAllRanges(),_>C?(h.addRange(A),h.extend(w.node,w.offset)):(A.setEnd(w.node,w.offset),h.addRange(A))}}}}for(p=[],h=s;h=h.parentNode;)h.nodeType===1&&p.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<p.length;s++){var R=p[s];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}Fd=!!Fm,Um=Fm=null}finally{Vt=r,jt.p=i,gt.T=n}}e.current=t,Hn=2}}function _w(){if(Hn===2){Hn=0;var e=To,t=Bl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=gt.T,gt.T=null;var i=jt.p;jt.p=2;var r=Vt;Vt|=4;try{$b(e,t.alternate,t)}finally{Vt=r,jt.p=i,gt.T=n}}Hn=3}}function xw(){if(Hn===4||Hn===3){Hn=0,w3();var e=To,t=Bl,n=Na,i=fw;t.subtreeFlags&10256||t.flags&10256?Hn=5:(Hn=0,Bl=To=null,Sw(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Co=null),Ag(n),t=t.stateNode,ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Ac,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=gt.T,r=jt.p,jt.p=2,gt.T=null;try{for(var a=e.onRecoverableError,o=0;o<i.length;o++){var s=i[o];a(s.value,{componentStack:s.stack})}}finally{gt.T=t,jt.p=r}}Na&3&&uh(),na(e),r=e.pendingLanes,n&261930&&r&42?e===km?tc++:(tc=0,km=e):tc=0,Mc(0)}}function Sw(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Lc(t)))}function uh(){return ww(),_w(),xw(),Aw()}function Aw(){if(Hn!==5)return!1;var e=To,t=Rm;Rm=0;var n=Ag(Na),i=gt.T,r=jt.p;try{jt.p=32>n?32:n,gt.T=null,n=Mm,Mm=null;var a=To,o=Na;if(Hn=0,Bl=To=null,Na=0,Vt&6)throw Error(De(331));var s=Vt;if(Vt|=4,lw(a.current),aw(a,a.current,o,n),Vt=s,Mc(0,!1),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Ac,a)}catch{}return!0}finally{jt.p=r,gt.T=i,Sw(e,t)}}function d2(e,t,n){t=wr(n,t),t=Tm(e.stateNode,t,2),e=Ao(e,t,2),e!==null&&(Tc(e,2),na(e))}function Zt(e,t,n){if(e.tag===3)d2(e,e,n);else for(;t!==null;){if(t.tag===3){d2(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Co===null||!Co.has(i))){e=wr(n,e),n=Ob(2),i=Ao(t,n,2),i!==null&&(zb(n,i,t,e),Tc(i,2),na(i));break}}t=t.return}}function Ip(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new YS;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(a0=!0,r.add(n),e=ZS.bind(null,e,t,n),t.then(e,e))}function ZS(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,an===e&&(Pt&n)===n&&(An===4||An===3&&(Pt&62914560)===Pt&&300>nr()-oh?!(Vt&2)&&Ol(e,0):o0|=n,Ul===Pt&&(Ul=0)),na(e)}function Cw(e,t){t===0&&(t=gv()),e=bs(e,t),e!==null&&(Tc(e,t),na(e))}function $S(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cw(e,n)}function QS(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(De(314))}i!==null&&i.delete(t),Cw(e,n)}function e4(e,t){return xg(e,t)}var Ld=null,el=null,Dm=!1,Id=!1,Rp=!1,bo=0;function na(e){e!==el&&e.next===null&&(el===null?Ld=el=e:el=el.next=e),Id=!0,Dm||(Dm=!0,n4())}function Mc(e,t){if(!Rp&&Id){Rp=!0;do for(var n=!1,i=Ld;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var o=i.suspendedLanes,s=i.pingedLanes;a=(1<<31-rr(42|e)+1)-1,a&=r&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,h2(i,a))}else a=Pt,a=Wd(i,i===an?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Cc(i,a)||(n=!0,h2(i,a));i=i.next}while(n);Rp=!1}}function t4(){Tw()}function Tw(){Id=Dm=!1;var e=0;bo!==0&&d4()&&(e=bo);for(var t=nr(),n=null,i=Ld;i!==null;){var r=i.next,a=Ew(i,t);a===0?(i.next=null,n===null?Ld=r:n.next=r,r===null&&(el=n)):(n=i,(e!==0||a&3)&&(Id=!0)),i=r}Hn!==0&&Hn!==5||Mc(e),bo!==0&&(bo=0)}function Ew(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-rr(a),s=1<<o,l=r[o];l===-1?(!(s&n)||s&i)&&(r[o]=N3(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(t=an,n=Pt,n=Wd(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&ap(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Cc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&ap(i),Ag(n)){case 2:case 8:n=pv;break;case 32:n=dd;break;case 268435456:n=mv;break;default:n=dd}return i=Nw.bind(null,e),n=xg(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&ap(i),e.callbackPriority=2,e.callbackNode=null,2}function Nw(e,t){if(Hn!==0&&Hn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(uh()&&e.callbackNode!==n)return null;var i=Pt;return i=Wd(e,e===an?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(hw(e,i,t),Ew(e,nr()),e.callbackNode!=null&&e.callbackNode===n?Nw.bind(null,e):null)}function h2(e,t){if(uh())return null;hw(e,t,!0)}function n4(){p4(function(){Vt&6?xg(hv,t4):Tw()})}function l0(){if(bo===0){var e=Dl;e===0&&(e=_f,_f<<=1,!(_f&261888)&&(_f=256)),bo=e}return bo}function p2(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gf(""+e)}function m2(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function i4(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=p2((r[Oi]||null).action),o=i.submitter;o&&(t=(t=o[Oi]||null)?p2(t.formAction):o.getAttribute("formAction"),t!==null&&(a=t,o=null));var s=new Xd("action","action",null,i,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(bo!==0){var l=o?m2(r,o):new FormData(r);Am(n,{pending:!0,data:l,method:r.method,action:a},null,l)}}else typeof a=="function"&&(s.preventDefault(),l=o?m2(r,o):new FormData(r),Am(n,{pending:!0,data:l,method:r.method,action:a},a,l))},currentTarget:r}]})}}for(var Mp=0;Mp<dm.length;Mp++){var kp=dm[Mp],r4=kp.toLowerCase(),a4=kp[0].toUpperCase()+kp.slice(1);Or(r4,"on"+a4)}Or(zv,"onAnimationEnd");Or(qv,"onAnimationIteration");Or(Gv,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(_S,"onTransitionRun");Or(xS,"onTransitionStart");Or(SS,"onTransitionCancel");Or(Hv,"onTransitionEnd");Ml("onMouseEnter",["mouseout","mouseover"]);Ml("onMouseLeave",["mouseout","mouseover"]);Ml("onPointerEnter",["pointerout","pointerover"]);Ml("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function Lw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;a=s,r.currentTarget=u;try{a(r)}catch(d){pd(d)}r.currentTarget=null,a=l}else for(o=0;o<i.length;o++){if(s=i[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;a=s,r.currentTarget=u;try{a(r)}catch(d){pd(d)}r.currentTarget=null,a=l}}}}function Mt(e,t){var n=t[rm];n===void 0&&(n=t[rm]=new Set);var i=e+"__bubble";n.has(i)||(Iw(t,e,2,!1),n.add(i))}function Dp(e,t,n){var i=0;t&&(i|=4),Iw(n,e,i,t)}var Rf="_reactListening"+Math.random().toString(36).slice(2);function u0(e){if(!e[Rf]){e[Rf]=!0,_v.forEach(function(n){n!=="selectionchange"&&(o4.has(n)||Dp(n,!1,e),Dp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rf]||(t[Rf]=!0,Dp("selectionchange",!1,t))}}function Iw(e,t,n,i){switch(Hw(t)){case 2:var r=D4;break;case 8:r=P4;break;default:r=h0}n=r.bind(null,t,n,e),r=void 0,!um||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Pp(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var s=i.stateNode.containerInfo;if(s===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===r)return;o=o.return}for(;s!==null;){if(o=al(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){i=a=o;continue e}s=s.parentNode}}i=i.return}Lv(function(){var u=a,d=Eg(n),p=[];e:{var g=Vv.get(e);if(g!==void 0){var h=Xd,S=e;switch(e){case"keypress":if(Vf(n)===0)break e;case"keydown":case"keyup":h=Q3;break;case"focusin":S="focus",h=cp;break;case"focusout":S="blur",h=cp;break;case"beforeblur":case"afterblur":h=cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=S1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=q3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=nS;break;case zv:case qv:case Gv:h=V3;break;case Hv:h=rS;break;case"scroll":case"scrollend":h=O3;break;case"wheel":h=oS;break;case"copy":case"cut":case"paste":h=Y3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=C1;break;case"toggle":case"beforetoggle":h=lS}var _=(t&4)!==0,C=!_&&(e==="scroll"||e==="scrollend"),v=_?g!==null?g+"Capture":null:g;_=[];for(var w=u,A;w!==null;){var R=w;if(A=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||A===null||v===null||(R=oc(w,v),R!=null&&_.push(mc(w,R,A))),C)break;w=w.return}0<_.length&&(g=new h(g,S,null,n,d),p.push({event:g,listeners:_}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",g&&n!==lm&&(S=n.relatedTarget||n.fromElement)&&(al(S)||S[Hl]))break e;if((h||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,h?(S=n.relatedTarget||n.toElement,h=u,S=S?al(S):null,S!==null&&(C=Sc(S),_=S.tag,S!==C||_!==5&&_!==27&&_!==6)&&(S=null)):(h=null,S=u),h!==S)){if(_=S1,R="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(_=C1,R="onPointerLeave",v="onPointerEnter",w="pointer"),C=h==null?g:zu(h),A=S==null?g:zu(S),g=new _(R,w+"leave",h,n,d),g.target=C,g.relatedTarget=A,R=null,al(d)===u&&(_=new _(v,w+"enter",S,n,d),_.target=A,_.relatedTarget=C,R=_),C=R,h&&S)t:{for(_=s4,v=h,w=S,A=0,R=v;R;R=_(R))A++;R=0;for(var k=w;k;k=_(k))R++;for(;0<A-R;)v=_(v),A--;for(;0<R-A;)w=_(w),R--;for(;A--;){if(v===w||w!==null&&v===w.alternate){_=v;break t}v=_(v),w=_(w)}_=null}else _=null;h!==null&&g2(p,g,h,_,!1),S!==null&&C!==null&&g2(p,C,S,_,!0)}}e:{if(g=u?zu(u):window,h=g.nodeName&&g.nodeName.toLowerCase(),h==="select"||h==="input"&&g.type==="file")var X=L1;else if(N1(g))if(Pv)X=vS;else{X=gS;var U=mS}else h=g.nodeName,!h||h.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?u&&Tg(u.elementType)&&(X=L1):X=yS;if(X&&(X=X(e,u))){Dv(p,X,n,d);break e}U&&U(e,g,u),e==="focusout"&&u&&g.type==="number"&&u.memoizedProps.value!=null&&sm(g,"number",g.value)}switch(U=u?zu(u):window,e){case"focusin":(N1(U)||U.contentEditable==="true")&&(ll=U,cm=u,Yu=null);break;case"focusout":Yu=cm=ll=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,D1(p,n,d);break;case"selectionchange":if(wS)break;case"keydown":case"keyup":D1(p,n,d)}var q;if(Ig)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else sl?Mv(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Rv&&n.locale!=="ko"&&(sl||B!=="onCompositionStart"?B==="onCompositionEnd"&&sl&&(q=Iv()):(go=d,Ng="value"in go?go.value:go.textContent,sl=!0)),U=Rd(u,B),0<U.length&&(B=new A1(B,e,null,n,d),p.push({event:B,listeners:U}),q?B.data=q:(q=kv(n),q!==null&&(B.data=q)))),(q=cS?fS(e,n):dS(e,n))&&(B=Rd(u,"onBeforeInput"),0<B.length&&(U=new A1("onBeforeInput","beforeinput",null,n,d),p.push({event:U,listeners:B}),U.data=q)),i4(p,e,u,n,d)}Lw(p,t)})}function mc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rd(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=oc(e,n),r!=null&&i.unshift(mc(e,r,a)),r=oc(e,t),r!=null&&i.push(mc(e,r,a))),e.tag===3)return i;e=e.return}return[]}function s4(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g2(e,t,n,i,r){for(var a=t._reactName,o=[];n!==null&&n!==i;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===i)break;s!==5&&s!==26&&s!==27||u===null||(l=u,r?(u=oc(n,a),u!=null&&o.unshift(mc(n,u,l))):r||(u=oc(n,a),u!=null&&o.push(mc(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var l4=/\r\n?/g,u4=/\u0000|\uFFFD/g;function y2(e){return(typeof e=="string"?e:""+e).replace(l4,`
`).replace(u4,"")}function Rw(e,t){return t=y2(t),y2(e)===t}function en(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||kl(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&kl(e,""+i);break;case"className":Af(e,"class",i);break;case"tabIndex":Af(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Af(e,n,i);break;case"style":Nv(e,i,a);break;case"data":if(t!=="object"){Af(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Gf(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&en(e,t,"name",r.name,r,null),en(e,t,"formEncType",r.formEncType,r,null),en(e,t,"formMethod",r.formMethod,r,null),en(e,t,"formTarget",r.formTarget,r,null)):(en(e,t,"encType",r.encType,r,null),en(e,t,"method",r.method,r,null),en(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Gf(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Aa);break;case"onScroll":i!=null&&Mt("scroll",e);break;case"onScrollEnd":i!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(De(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(De(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Gf(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),qf(e,"popover",i);break;case"xlinkActuate":ma(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ma(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ma(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ma(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ma(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ma(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ma(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ma(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ma(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":qf(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=U3.get(n)||n,qf(e,n,i))}}function Pm(e,t,n,i,r,a){switch(n){case"style":Nv(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(De(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(De(60));e.innerHTML=n}}break;case"children":typeof i=="string"?kl(e,i):(typeof i=="number"||typeof i=="bigint")&&kl(e,""+i);break;case"onScroll":i!=null&&Mt("scroll",e);break;case"onScrollEnd":i!=null&&Mt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[Oi]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):qf(e,n,i)}}}function ai(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(De(137,t));default:en(e,t,a,o,n,null)}}r&&en(e,t,"srcSet",n.srcSet,n,null),i&&en(e,t,"src",n.src,n,null);return;case"input":Mt("invalid",e);var s=a=o=r=null,l=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":o=d;break;case"checked":l=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(De(137,t));break;default:en(e,t,i,d,n,null)}}Cv(e,a,s,l,u,o,r,!1);return;case"select":Mt("invalid",e),i=o=a=null;for(r in n)if(n.hasOwnProperty(r)&&(s=n[r],s!=null))switch(r){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":i=s;default:en(e,t,r,s,n,null)}t=a,n=o,e.multiple=!!i,t!=null?vl(e,!!i,t,!1):n!=null&&vl(e,!!i,n,!0);return;case"textarea":Mt("invalid",e),a=r=i=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":i=s;break;case"defaultValue":r=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(De(91));break;default:en(e,t,o,s,n,null)}Ev(e,i,r,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:en(e,t,l,i,n,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(i=0;i<pc.length;i++)Mt(pc[i],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(De(137,t));default:en(e,t,u,i,n,null)}return;default:if(Tg(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Pm(e,t,d,i,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(i=n[s],i!=null&&en(e,t,s,i,n,null))}function c4(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,o=null,s=null,l=null,u=null,d=null;for(h in n){var p=n[h];if(n.hasOwnProperty(h)&&p!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":l=p;default:i.hasOwnProperty(h)||en(e,t,h,null,i,p)}}for(var g in i){var h=i[g];if(p=n[g],i.hasOwnProperty(g)&&(h!=null||p!=null))switch(g){case"type":a=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":o=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(De(137,t));break;default:h!==p&&en(e,t,g,h,i,p)}}om(e,o,s,l,u,d,a,r);return;case"select":h=o=s=g=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":h=l;default:i.hasOwnProperty(a)||en(e,t,a,null,i,l)}for(r in i)if(a=i[r],l=n[r],i.hasOwnProperty(r)&&(a!=null||l!=null))switch(r){case"value":g=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&en(e,t,r,a,i,l)}t=s,n=o,i=h,g!=null?vl(e,!!n,g,!1):!!i!=!!n&&(t!=null?vl(e,!!n,t,!0):vl(e,!!n,n?[]:"",!1));return;case"textarea":h=g=null;for(s in n)if(r=n[s],n.hasOwnProperty(s)&&r!=null&&!i.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:en(e,t,s,null,i,r)}for(o in i)if(r=i[o],a=n[o],i.hasOwnProperty(o)&&(r!=null||a!=null))switch(o){case"value":g=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(De(91));break;default:r!==a&&en(e,t,o,r,i,a)}Tv(e,g,h);return;case"option":for(var S in n)if(g=n[S],n.hasOwnProperty(S)&&g!=null&&!i.hasOwnProperty(S))switch(S){case"selected":e.selected=!1;break;default:en(e,t,S,null,i,g)}for(l in i)if(g=i[l],h=n[l],i.hasOwnProperty(l)&&g!==h&&(g!=null||h!=null))switch(l){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:en(e,t,l,g,i,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)g=n[_],n.hasOwnProperty(_)&&g!=null&&!i.hasOwnProperty(_)&&en(e,t,_,null,i,g);for(u in i)if(g=i[u],h=n[u],i.hasOwnProperty(u)&&g!==h&&(g!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(De(137,t));break;default:en(e,t,u,g,i,h)}return;default:if(Tg(t)){for(var C in n)g=n[C],n.hasOwnProperty(C)&&g!==void 0&&!i.hasOwnProperty(C)&&Pm(e,t,C,void 0,i,g);for(d in i)g=i[d],h=n[d],!i.hasOwnProperty(d)||g===h||g===void 0&&h===void 0||Pm(e,t,d,g,i,h);return}}for(var v in n)g=n[v],n.hasOwnProperty(v)&&g!=null&&!i.hasOwnProperty(v)&&en(e,t,v,null,i,g);for(p in i)g=i[p],h=n[p],!i.hasOwnProperty(p)||g===h||g==null&&h==null||en(e,t,p,g,i,h)}function v2(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f4(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],a=r.transferSize,o=r.initiatorType,s=r.duration;if(a&&s&&v2(o)){for(o=0,s=r.responseEnd,i+=1;i<n.length;i++){var l=n[i],u=l.startTime;if(u>s)break;var d=l.transferSize,p=l.initiatorType;d&&v2(p)&&(l=l.responseEnd,o+=d*(l<s?1:(s-u)/(l-u)))}if(--i,t+=8*(a+o)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Fm=null,Um=null;function Md(e){return e.nodeType===9?e:e.ownerDocument}function b2(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mw(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fp=null;function d4(){var e=window.event;return e&&e.type==="popstate"?e===Fp?!1:(Fp=e,!0):(Fp=null,!1)}var kw=typeof setTimeout=="function"?setTimeout:void 0,h4=typeof clearTimeout=="function"?clearTimeout:void 0,w2=typeof Promise=="function"?Promise:void 0,p4=typeof queueMicrotask=="function"?queueMicrotask:typeof w2<"u"?function(e){return w2.resolve(null).then(e).catch(m4)}:kw;function m4(e){setTimeout(function(){throw e})}function Bo(e){return e==="head"}function _2(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(r),ql(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")nc(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,nc(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Ec]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}else n==="body"&&nc(e.ownerDocument.body);n=r}while(n);ql(t)}function x2(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Om(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Om(n),Cg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function g4(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ec])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Sr(e.nextSibling),e===null)break}return null}function y4(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Sr(e.nextSibling),e===null))return null;return e}function Dw(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Sr(e.nextSibling),e===null))return null;return e}function zm(e){return e.data==="$?"||e.data==="$~"}function qm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function v4(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Gm=null;function S2(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Sr(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function A2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Pw(e,t,n){switch(t=Md(n),e){case"html":if(e=t.documentElement,!e)throw Error(De(452));return e;case"head":if(e=t.head,!e)throw Error(De(453));return e;case"body":if(e=t.body,!e)throw Error(De(454));return e;default:throw Error(De(451))}}function nc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Cg(e)}var Cr=new Map,C2=new Set;function kd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pa=jt.d;jt.d={f:b4,r:w4,D:_4,C:x4,L:S4,m:A4,X:T4,S:C4,M:E4};function b4(){var e=Pa.f(),t=sh();return e||t}function w4(e){var t=Vl(e);t!==null&&t.tag===5&&t.type==="form"?Nb(t):Pa.r(e)}var Kl=typeof document>"u"?null:document;function Fw(e,t,n){var i=Kl;if(i&&typeof t=="string"&&t){var r=br(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),C2.has(r)||(C2.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),ai(t,"link",e),Zn(t),i.head.appendChild(t)))}}function _4(e){Pa.D(e),Fw("dns-prefetch",e,null)}function x4(e,t){Pa.C(e,t),Fw("preconnect",e,t)}function S4(e,t,n){Pa.L(e,t,n);var i=Kl;if(i&&e&&t){var r='link[rel="preload"][as="'+br(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+br(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+br(n.imageSizes)+'"]')):r+='[href="'+br(e)+'"]';var a=r;switch(t){case"style":a=zl(e);break;case"script":a=Wl(e)}Cr.has(a)||(e=mn({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Cr.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(kc(a))||t==="script"&&i.querySelector(Dc(a))||(t=i.createElement("link"),ai(t,"link",e),Zn(t),i.head.appendChild(t)))}}function A4(e,t){Pa.m(e,t);var n=Kl;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+br(i)+'"][href="'+br(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Wl(e)}if(!Cr.has(a)&&(e=mn({rel:"modulepreload",href:e},t),Cr.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dc(a)))return}i=n.createElement("link"),ai(i,"link",e),Zn(i),n.head.appendChild(i)}}}function C4(e,t,n){Pa.S(e,t,n);var i=Kl;if(i&&e){var r=yl(i).hoistableStyles,a=zl(e);t=t||"default";var o=r.get(a);if(!o){var s={loading:0,preload:null};if(o=i.querySelector(kc(a)))s.loading=5;else{e=mn({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Cr.get(a))&&c0(e,n);var l=o=i.createElement("link");Zn(l),ai(l,"link",e),l._p=new Promise(function(u,d){l.onload=u,l.onerror=d}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,$f(o,t,i)}o={type:"stylesheet",instance:o,count:1,state:s},r.set(a,o)}}}function T4(e,t){Pa.X(e,t);var n=Kl;if(n&&e){var i=yl(n).hoistableScripts,r=Wl(e),a=i.get(r);a||(a=n.querySelector(Dc(r)),a||(e=mn({src:e,async:!0},t),(t=Cr.get(r))&&f0(e,t),a=n.createElement("script"),Zn(a),ai(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function E4(e,t){Pa.M(e,t);var n=Kl;if(n&&e){var i=yl(n).hoistableScripts,r=Wl(e),a=i.get(r);a||(a=n.querySelector(Dc(r)),a||(e=mn({src:e,async:!0,type:"module"},t),(t=Cr.get(r))&&f0(e,t),a=n.createElement("script"),Zn(a),ai(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function T2(e,t,n,i){var r=(r=_o.current)?kd(r):null;if(!r)throw Error(De(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=zl(n.href),n=yl(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=zl(n.href);var a=yl(r).hoistableStyles,o=a.get(e);if(o||(r=r.ownerDocument||r,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,o),(a=r.querySelector(kc(e)))&&!a._p&&(o.instance=a,o.state.loading=5),Cr.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Cr.set(e,n),a||N4(r,e,n,o.state))),t&&i===null)throw Error(De(528,""));return o}if(t&&i!==null)throw Error(De(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wl(n),n=yl(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(De(444,e))}}function zl(e){return'href="'+br(e)+'"'}function kc(e){return'link[rel="stylesheet"]['+e+"]"}function Uw(e){return mn({},e,{"data-precedence":e.precedence,precedence:null})}function N4(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ai(t,"link",n),Zn(t),e.head.appendChild(t))}function Wl(e){return'[src="'+br(e)+'"]'}function Dc(e){return"script[async]"+e}function E2(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+br(n.href)+'"]');if(i)return t.instance=i,Zn(i),i;var r=mn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Zn(i),ai(i,"style",r),$f(i,n.precedence,e),t.instance=i;case"stylesheet":r=zl(n.href);var a=e.querySelector(kc(r));if(a)return t.state.loading|=4,t.instance=a,Zn(a),a;i=Uw(n),(r=Cr.get(r))&&c0(i,r),a=(e.ownerDocument||e).createElement("link"),Zn(a);var o=a;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),ai(a,"link",i),t.state.loading|=4,$f(a,n.precedence,e),t.instance=a;case"script":return a=Wl(n.src),(r=e.querySelector(Dc(a)))?(t.instance=r,Zn(r),r):(i=n,(r=Cr.get(a))&&(i=mn({},n),f0(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Zn(r),ai(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(De(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,$f(i,n.precedence,e));return t.instance}function $f(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,o=0;o<i.length;o++){var s=i[o];if(s.dataset.precedence===t)a=s;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function c0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function f0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Qf=null;function N2(e,t,n){if(Qf===null){var i=new Map,r=Qf=new Map;r.set(n,i)}else r=Qf,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[Ec]||a[ni]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(t)||"";o=e+o;var s=i.get(o);s?s.push(a):i.set(o,[a])}}return i}function L2(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function L4(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Bw(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function I4(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=zl(i.href),a=t.querySelector(kc(r));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Dd.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,Zn(a);return}a=t.ownerDocument||t,i=Uw(i),(r=Cr.get(r))&&c0(i,r),a=a.createElement("link"),Zn(a);var o=a;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),ai(a,"link",i),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Dd.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Up=0;function R4(e,t){return e.stylesheets&&e.count===0&&ed(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&ed(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&Up===0&&(Up=62500*f4());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ed(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>Up?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function Dd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pd=null;function ed(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pd=new Map,t.forEach(M4,e),Pd=null,Dd.call(e))}function M4(e,t){if(!(t.state.loading&4)){var n=Pd.get(e);if(n)var i=n.get(null);else{n=new Map,Pd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var o=r[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),i=o)}i&&n.set(null,i)}r=t.instance,o=r.getAttribute("data-precedence"),a=n.get(o)||i,a===i&&n.set(null,r),n.set(o,r),this.count++,i=Dd.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var gc={$$typeof:Sa,Provider:null,Consumer:null,_currentValue:rs,_currentValue2:rs,_threadCount:0};function k4(e,t,n,i,r,a,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=op(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=op(0),this.hiddenUpdates=op(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Ow(e,t,n,i,r,a,o,s,l,u,d,p){return e=new k4(e,t,n,o,l,u,d,p,s),t=1,a===!0&&(t|=24),a=Qi(3,null,null,t),e.current=a,a.stateNode=e,t=Ug(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},zg(a),e}function zw(e){return e?(e=fl,e):fl}function qw(e,t,n,i,r,a){r=zw(r),i.context===null?i.context=r:i.pendingContext=r,i=So(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Ao(e,i,t),n!==null&&(Ui(n,e,t),Ku(n,e,t))}function I2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function d0(e,t){I2(e,t),(e=e.alternate)&&I2(e,t)}function Gw(e){if(e.tag===13||e.tag===31){var t=bs(e,67108864);t!==null&&Ui(t,e,67108864),d0(e,67108864)}}function R2(e){if(e.tag===13||e.tag===31){var t=ar();t=Sg(t);var n=bs(e,t);n!==null&&Ui(n,e,t),d0(e,t)}}var Fd=!0;function D4(e,t,n,i){var r=gt.T;gt.T=null;var a=jt.p;try{jt.p=2,h0(e,t,n,i)}finally{jt.p=a,gt.T=r}}function P4(e,t,n,i){var r=gt.T;gt.T=null;var a=jt.p;try{jt.p=8,h0(e,t,n,i)}finally{jt.p=a,gt.T=r}}function h0(e,t,n,i){if(Fd){var r=Hm(i);if(r===null)Pp(e,t,i,Ud,n),M2(e,i);else if(U4(r,e,t,n,i))i.stopPropagation();else if(M2(e,i),t&4&&-1<F4.indexOf(e)){for(;r!==null;){var a=Vl(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Qo(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-rr(o);s.entanglements[1]|=l,o&=~l}na(a),!(Vt&6)&&(Td=nr()+500,Mc(0))}}break;case 31:case 13:s=bs(a,2),s!==null&&Ui(s,a,2),sh(),d0(a,2)}if(a=Hm(i),a===null&&Pp(e,t,i,Ud,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else Pp(e,t,i,null,n)}}function Hm(e){return e=Eg(e),p0(e)}var Ud=null;function p0(e){if(Ud=null,e=al(e),e!==null){var t=Sc(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=lv(t),e!==null)return e;e=null}else if(n===31){if(e=uv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ud=e,null}function Hw(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_3()){case hv:return 2;case pv:return 8;case dd:case x3:return 32;case mv:return 268435456;default:return 32}default:return 32}}var Vm=!1,Eo=null,No=null,Lo=null,yc=new Map,vc=new Map,po=[],F4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M2(e,t){switch(e){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":yc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(t.pointerId)}}function Du(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Vl(t),t!==null&&Gw(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function U4(e,t,n,i,r){switch(t){case"focusin":return Eo=Du(Eo,e,t,n,i,r),!0;case"dragenter":return No=Du(No,e,t,n,i,r),!0;case"mouseover":return Lo=Du(Lo,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return yc.set(a,Du(yc.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,vc.set(a,Du(vc.get(a)||null,e,t,n,i,r)),!0}return!1}function Vw(e){var t=al(e.target);if(t!==null){var n=Sc(t);if(n!==null){if(t=n.tag,t===13){if(t=lv(n),t!==null){e.blockedOn=t,g1(e.priority,function(){R2(n)});return}}else if(t===31){if(t=uv(n),t!==null){e.blockedOn=t,g1(e.priority,function(){R2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function td(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hm(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);lm=i,n.target.dispatchEvent(i),lm=null}else return t=Vl(n),t!==null&&Gw(t),e.blockedOn=n,!1;t.shift()}return!0}function k2(e,t,n){td(e)&&n.delete(t)}function B4(){Vm=!1,Eo!==null&&td(Eo)&&(Eo=null),No!==null&&td(No)&&(No=null),Lo!==null&&td(Lo)&&(Lo=null),yc.forEach(k2),vc.forEach(k2)}function Mf(e,t){e.blockedOn===t&&(e.blockedOn=null,Vm||(Vm=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,B4)))}var kf=null;function D2(e){kf!==e&&(kf=e,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,function(){kf===e&&(kf=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(p0(i||n)===null)continue;break}var a=Vl(n);a!==null&&(e.splice(t,3),t-=3,Am(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function ql(e){function t(l){return Mf(l,e)}Eo!==null&&Mf(Eo,e),No!==null&&Mf(No,e),Lo!==null&&Mf(Lo,e),yc.forEach(t),vc.forEach(t);for(var n=0;n<po.length;n++){var i=po[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<po.length&&(n=po[0],n.blockedOn===null);)Vw(n),n.blockedOn===null&&po.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],o=r[Oi]||null;if(typeof a=="function")o||D2(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(r=a,o=a[Oi]||null)s=o.formAction;else if(p0(r)!==null)continue}else s=o.action;typeof s=="function"?n[i+1]=s:(n.splice(i,3),i-=3),D2(n)}}}function jw(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(o){return r=o})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function m0(e){this._internalRoot=e}ch.prototype.render=m0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(De(409));var n=t.current,i=ar();qw(n,i,e,t,null,null)};ch.prototype.unmount=m0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qw(e.current,2,null,e,null,null),sh(),t[Hl]=null}};function ch(e){this._internalRoot=e}ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=wv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<po.length&&t!==0&&t<po[n].priority;n++);po.splice(n,0,e),n===0&&Vw(e)}};var P2=ov.version;if(P2!=="19.2.1")throw Error(De(527,P2,"19.2.1"));jt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=p3(t),e=e!==null?cv(e):null,e=e===null?null:e.stateNode,e};var O4={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:gt,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{Ac=Df.inject(O4),ir=Df}catch{}}Jd.createRoot=function(e,t){if(!sv(e))throw Error(De(299));var n=!1,i="",r=Fb,a=Ub,o=Bb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ow(e,1,!1,null,null,n,i,null,r,a,o,jw),e[Hl]=t.current,u0(e),new m0(t)};Jd.hydrateRoot=function(e,t,n){if(!sv(e))throw Error(De(299));var i=!1,r="",a=Fb,o=Ub,s=Bb,l=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=Ow(e,1,!0,t,n??null,i,r,l,a,o,s,jw),t.context=zw(null),n=t.current,i=ar(),i=Sg(i),r=So(i),r.callback=null,Ao(n,r,i),n=i,t.current.lanes=n,Tc(t,n),na(t),e[Hl]=t.current,u0(e),new ch(t)};Jd.version="19.2.1";function Yw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yw)}catch(e){console.error(e)}}Yw(),ev.exports=Jd;var g0=ev.exports;const z4=pg(g0);function q4(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(r),t&&(i.href=t),r.href=e,r.href}const G4=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Io(e){const t=[];for(let n=0,i=e.length;n<i;n++)t.push(e[n]);return t}let Ks=null;function Jw(e={}){return Ks||(e.includeStyleProperties?(Ks=e.includeStyleProperties,Ks):(Ks=Io(window.getComputedStyle(document.documentElement)),Ks))}function Bd(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function H4(e){const t=Bd(e,"border-left-width"),n=Bd(e,"border-right-width");return e.clientWidth+t+n}function V4(e){const t=Bd(e,"border-top-width"),n=Bd(e,"border-bottom-width");return e.clientHeight+t+n}function Kw(e,t={}){const n=t.width||H4(e),i=t.height||V4(e);return{width:n,height:i}}function j4(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Xi=16384;function Y4(e){(e.width>Xi||e.height>Xi)&&(e.width>Xi&&e.height>Xi?e.width>e.height?(e.height*=Xi/e.width,e.width=Xi):(e.width*=Xi/e.height,e.height=Xi):e.width>Xi?(e.height*=Xi/e.width,e.width=Xi):(e.width*=Xi/e.height,e.height=Xi))}function J4(e,t={}){return e.toBlob?new Promise(n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(n=>{const i=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),r=i.length,a=new Uint8Array(r);for(let o=0;o<r;o+=1)a[o]=i.charCodeAt(o);n(new Blob([a],{type:t.type?t.type:"image/png"}))})}function Od(e){return new Promise((t,n)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>t(i))})},i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function K4(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function W4(e,t,n){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${t}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),r.appendChild(a),a.appendChild(e),K4(r)}const Bi=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Bi(n,t)};function X4(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Z4(e,t){return Jw(t).map(n=>{const i=e.getPropertyValue(n),r=e.getPropertyPriority(n);return`${n}: ${i}${r?" !important":""};`}).join(" ")}function $4(e,t,n,i){const r=`.${e}:${t}`,a=n.cssText?X4(n):Z4(n,i);return document.createTextNode(`${r}{${a}}`)}function F2(e,t,n,i){const r=window.getComputedStyle(e,n),a=r.getPropertyValue("content");if(a===""||a==="none")return;const o=G4();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild($4(o,n,r,i)),t.appendChild(s)}function Q4(e,t,n){F2(e,t,":before",n),F2(e,t,":after",n)}const U2="application/font-woff",B2="image/jpeg",eA={woff:U2,woff2:U2,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:B2,jpeg:B2,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function tA(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function y0(e){const t=tA(e).toLowerCase();return eA[t]||""}function nA(e){return e.split(/,/)[1]}function jm(e){return e.search(/^(data:)/)!==-1}function iA(e,t){return`data:${t};base64,${e}`}async function Ww(e,t,n){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const r=await i.blob();return new Promise((a,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{a(n({res:i,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(r)})}const Bp={};function rA(e,t,n){let i=e.replace(/\?.*/,"");return n&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function v0(e,t,n){const i=rA(e,t,n.includeQueryParams);if(Bp[i]!=null)return Bp[i];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let r;try{const a=await Ww(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),nA(s)));r=iA(a,t)}catch(a){r=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;a&&(o=typeof a=="string"?a:a.message),o&&console.warn(o)}return Bp[i]=r,r}async function aA(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Od(t)}async function oA(e,t){if(e.currentSrc){const a=document.createElement("canvas"),o=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,o==null||o.drawImage(e,0,0,a.width,a.height);const s=a.toDataURL();return Od(s)}const n=e.poster,i=y0(n),r=await v0(n,i,t);return Od(r)}async function sA(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await fh(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function lA(e,t){return Bi(e,HTMLCanvasElement)?aA(e):Bi(e,HTMLVideoElement)?oA(e,t):Bi(e,HTMLIFrameElement)?sA(e,t):e.cloneNode(Xw(e))}const uA=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Xw=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function cA(e,t,n){var i,r;if(Xw(t))return t;let a=[];return uA(e)&&e.assignedNodes?a=Io(e.assignedNodes()):Bi(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?a=Io(e.contentDocument.body.childNodes):a=Io(((r=e.shadowRoot)!==null&&r!==void 0?r:e).childNodes),a.length===0||Bi(e,HTMLVideoElement)||await a.reduce((o,s)=>o.then(()=>fh(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function fA(e,t,n){const i=t.style;if(!i)return;const r=window.getComputedStyle(e);r.cssText?(i.cssText=r.cssText,i.transformOrigin=r.transformOrigin):Jw(n).forEach(a=>{let o=r.getPropertyValue(a);a==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),Bi(e,HTMLIFrameElement)&&a==="display"&&o==="inline"&&(o="block"),a==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),i.setProperty(a,o,r.getPropertyPriority(a))})}function dA(e,t){Bi(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Bi(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function hA(e,t){if(Bi(e,HTMLSelectElement)){const n=t,i=Array.from(n.children).find(r=>e.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}function pA(e,t,n){return Bi(t,Element)&&(fA(e,t,n),Q4(e,t,n),dA(e,t),hA(e,t)),t}async function mA(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const i={};for(let a=0;a<n.length;a++){const s=n[a].getAttribute("xlink:href");if(s){const l=e.querySelector(s),u=document.querySelector(s);!l&&u&&!i[s]&&(i[s]=await fh(u,t,!0))}}const r=Object.values(i);if(r.length){const a="http://www.w3.org/1999/xhtml",o=document.createElementNS(a,"svg");o.setAttribute("xmlns",a),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(a,"defs");o.appendChild(s);for(let l=0;l<r.length;l++)s.appendChild(r[l]);e.appendChild(o)}return e}async function fh(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>lA(i,t)).then(i=>cA(e,i,t)).then(i=>pA(e,i,t)).then(i=>mA(i,t))}const Zw=/url\((['"]?)([^'"]+?)\1\)/g,gA=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,yA=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function vA(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function bA(e){const t=[];return e.replace(Zw,(n,i,r)=>(t.push(r),n)),t.filter(n=>!jm(n))}async function wA(e,t,n,i,r){try{const a=n?q4(t,n):t,o=y0(t);let s;return r||(s=await v0(a,o,i)),e.replace(vA(t),`$1${s}$3`)}catch{}return e}function _A(e,{preferredFontFormat:t}){return t?e.replace(yA,n=>{for(;;){const[i,,r]=gA.exec(n)||[];if(!r)return"";if(r===t)return`src: ${i};`}}):e}function $w(e){return e.search(Zw)!==-1}async function Qw(e,t,n){if(!$w(e))return e;const i=_A(e,n);return bA(i).reduce((a,o)=>a.then(s=>wA(s,o,t,n)),Promise.resolve(i))}async function Ws(e,t,n){var i;const r=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(r){const a=await Qw(r,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function xA(e,t){await Ws("background",e,t)||await Ws("background-image",e,t),await Ws("mask",e,t)||await Ws("-webkit-mask",e,t)||await Ws("mask-image",e,t)||await Ws("-webkit-mask-image",e,t)}async function SA(e,t){const n=Bi(e,HTMLImageElement);if(!(n&&!jm(e.src))&&!(Bi(e,SVGImageElement)&&!jm(e.href.baseVal)))return;const i=n?e.src:e.href.baseVal,r=await v0(i,y0(i),t);await new Promise((a,o)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(u){o(u)}}:o;const s=e;s.decode&&(s.decode=a),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=r):e.href.baseVal=r})}async function AA(e,t){const i=Io(e.childNodes).map(r=>e_(r,t));await Promise.all(i).then(()=>e)}async function e_(e,t){Bi(e,Element)&&(await xA(e,t),await SA(e,t),await AA(e,t))}function CA(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(r=>{n[r]=i[r]}),e}const O2={};async function z2(e){let t=O2[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},O2[e]=t,t}async function q2(e,t){let n=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async o=>{let s=o.replace(i,"$1");return s.startsWith("https://")||(s=new URL(s,e.url).href),Ww(s,t.fetchRequestInit,({result:l})=>(n=n.replace(o,`url(${l})`),[o,l]))});return Promise.all(a).then(()=>n)}function G2(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=r.exec(i);if(l===null)break;t.push(l[0])}i=i.replace(r,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=a.exec(i);if(l===null){if(l=s.exec(i),l===null)break;a.lastIndex=s.lastIndex}else s.lastIndex=a.lastIndex;t.push(l[0])}return t}async function TA(e,t){const n=[],i=[];return e.forEach(r=>{if("cssRules"in r)try{Io(r.cssRules||[]).forEach((a,o)=>{if(a.type===CSSRule.IMPORT_RULE){let s=o+1;const l=a.href,u=z2(l).then(d=>q2(d,t)).then(d=>G2(d).forEach(p=>{try{r.insertRule(p,p.startsWith("@import")?s+=1:r.cssRules.length)}catch(g){console.error("Error inserting rule from remote css",{rule:p,error:g})}})).catch(d=>{console.error("Error loading remote css",d.toString())});i.push(u)}})}catch(a){const o=e.find(s=>s.href==null)||document.styleSheets[0];r.href!=null&&i.push(z2(r.href).then(s=>q2(s,t)).then(s=>G2(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",a)}}),Promise.all(i).then(()=>(e.forEach(r=>{if("cssRules"in r)try{Io(r.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${r.href}`,a)}}),n))}function EA(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>$w(t.style.getPropertyValue("src")))}async function NA(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Io(e.ownerDocument.styleSheets),i=await TA(n,t);return EA(i)}function t_(e){return e.trim().replace(/["']/g,"")}function LA(e){const t=new Set;function n(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(a=>{t.add(t_(a))}),Array.from(i.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function IA(e,t){const n=await NA(e,t),i=LA(e);return(await Promise.all(n.filter(a=>i.has(t_(a.style.fontFamily))).map(a=>{const o=a.parentStyleSheet?a.parentStyleSheet.href:null;return Qw(a.cssText,o,t)}))).join(`
`)}async function RA(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await IA(e,t);if(n){const i=document.createElement("style"),r=document.createTextNode(n);i.appendChild(r),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function MA(e,t={}){const{width:n,height:i}=Kw(e,t),r=await fh(e,t,!0);return await RA(r,t),await e_(r,t),CA(r,t),await W4(r,n,i)}async function n_(e,t={}){const{width:n,height:i}=Kw(e,t),r=await MA(e,t),a=await Od(r),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||j4(),u=t.canvasWidth||n,d=t.canvasHeight||i;return o.width=u*l,o.height=d*l,t.skipAutoScale||Y4(o),o.style.width=`${u}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(a,0,0,o.width,o.height),o}async function i_(e,t={}){return(await n_(e,t)).toDataURL()}async function kA(e,t={}){const n=await n_(e,t);return await J4(n)}function Pf(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var r_={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(i,r,a){function o(u,d){if(!r[u]){if(!i[u]){var p=typeof Pf=="function"&&Pf;if(!d&&p)return p(u,!0);if(s)return s(u,!0);var g=new Error("Cannot find module '"+u+"'");throw g.code="MODULE_NOT_FOUND",g}var h=r[u]={exports:{}};i[u][0].call(h.exports,function(S){var _=i[u][1][S];return o(_||S)},h,h.exports,n,i,r,a)}return r[u].exports}for(var s=typeof Pf=="function"&&Pf,l=0;l<a.length;l++)o(a[l]);return o}({1:[function(n,i,r){var a=n("./utils"),o=n("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var u,d,p,g,h,S,_,C=[],v=0,w=l.length,A=w,R=a.getTypeOf(l)!=="string";v<l.length;)A=w-v,p=R?(u=l[v++],d=v<w?l[v++]:0,v<w?l[v++]:0):(u=l.charCodeAt(v++),d=v<w?l.charCodeAt(v++):0,v<w?l.charCodeAt(v++):0),g=u>>2,h=(3&u)<<4|d>>4,S=1<A?(15&d)<<2|p>>6:64,_=2<A?63&p:64,C.push(s.charAt(g)+s.charAt(h)+s.charAt(S)+s.charAt(_));return C.join("")},r.decode=function(l){var u,d,p,g,h,S,_=0,C=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var w,A=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&A--,l.charAt(l.length-2)===s.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=o.uint8array?new Uint8Array(0|A):new Array(0|A);_<l.length;)u=s.indexOf(l.charAt(_++))<<2|(g=s.indexOf(l.charAt(_++)))>>4,d=(15&g)<<4|(h=s.indexOf(l.charAt(_++)))>>2,p=(3&h)<<6|(S=s.indexOf(l.charAt(_++))),w[C++]=u,h!==64&&(w[C++]=d),S!==64&&(w[C++]=p);return w}},{"./support":30,"./utils":32}],2:[function(n,i,r){var a=n("./external"),o=n("./stream/DataWorker"),s=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(d,p,g,h,S){this.compressedSize=d,this.uncompressedSize=p,this.crc32=g,this.compression=h,this.compressedContent=S}u.prototype={getContentWorker:function(){var d=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),p=this;return d.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,p,g){return d.pipe(new s).pipe(new l("uncompressedSize")).pipe(p.compressWorker(g)).pipe(new l("compressedSize")).withStreamInfo("compression",p)},i.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,r){var a=n("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},r.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,r){var a=n("./utils"),o=function(){for(var s,l=[],u=0;u<256;u++){s=u;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[u]=s}return l}();i.exports=function(s,l){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?function(u,d,p,g){var h=o,S=g+p;u^=-1;for(var _=g;_<S;_++)u=u>>>8^h[255&(u^d[_])];return-1^u}(0|l,s,s.length,0):function(u,d,p,g){var h=o,S=g+p;u^=-1;for(var _=g;_<S;_++)u=u>>>8^h[255&(u^d.charCodeAt(_))];return-1^u}(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(n,i,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(n,i,r){var a=null;a=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:a}},{lie:37}],7:[function(n,i,r){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),s=n("./utils"),l=n("./stream/GenericWorker"),u=a?"uint8array":"array";function d(p,g){l.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=g,this.meta={}}r.magic="\b\0",s.inherits(d,l),d.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(u,p.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(g){p.push({data:g,meta:p.meta})}},r.compressWorker=function(p){return new d("Deflate",p)},r.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,r){function a(h,S){var _,C="";for(_=0;_<S;_++)C+=String.fromCharCode(255&h),h>>>=8;return C}function o(h,S,_,C,v,w){var A,R,k=h.file,X=h.compression,U=w!==u.utf8encode,q=s.transformTo("string",w(k.name)),B=s.transformTo("string",u.utf8encode(k.name)),W=k.comment,D=s.transformTo("string",w(W)),N=s.transformTo("string",u.utf8encode(W)),H=B.length!==k.name.length,T=N.length!==W.length,re="",te="",ne="",se=k.dir,ae=k.date,ge={crc32:0,compressedSize:0,uncompressedSize:0};S&&!_||(ge.crc32=h.crc32,ge.compressedSize=h.compressedSize,ge.uncompressedSize=h.uncompressedSize);var ce=0;S&&(ce|=8),U||!H&&!T||(ce|=2048);var I=0,Y=0;se&&(I|=16),v==="UNIX"?(Y=798,I|=function(Z,le){var _e=Z;return Z||(_e=le?16893:33204),(65535&_e)<<16}(k.unixPermissions,se)):(Y=20,I|=function(Z){return 63&(Z||0)}(k.dosPermissions)),A=ae.getUTCHours(),A<<=6,A|=ae.getUTCMinutes(),A<<=5,A|=ae.getUTCSeconds()/2,R=ae.getUTCFullYear()-1980,R<<=4,R|=ae.getUTCMonth()+1,R<<=5,R|=ae.getUTCDate(),H&&(te=a(1,1)+a(d(q),4)+B,re+="up"+a(te.length,2)+te),T&&(ne=a(1,1)+a(d(D),4)+N,re+="uc"+a(ne.length,2)+ne);var K="";return K+=`
\0`,K+=a(ce,2),K+=X.magic,K+=a(A,2),K+=a(R,2),K+=a(ge.crc32,4),K+=a(ge.compressedSize,4),K+=a(ge.uncompressedSize,4),K+=a(q.length,2),K+=a(re.length,2),{fileRecord:p.LOCAL_FILE_HEADER+K+q+re,dirRecord:p.CENTRAL_FILE_HEADER+a(Y,2)+K+a(D.length,2)+"\0\0\0\0"+a(I,4)+a(C,4)+q+re+D}}var s=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),p=n("../signature");function g(h,S,_,C){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=_,this.encodeFileName=C,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(g,l),g.prototype.push=function(h){var S=h.meta.percent||0,_=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:_?(S+100*(_-C-1))/_:100}}))},g.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var S=this.streamFiles&&!h.file.dir;if(S){var _=o(h,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(h){this.accumulate=!1;var S=this.streamFiles&&!h.file.dir,_=o(h,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),S)this.push({data:function(C){return p.DATA_DESCRIPTOR+a(C.crc32,4)+a(C.compressedSize,4)+a(C.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var h=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var _=this.bytesWritten-h,C=function(v,w,A,R,k){var X=s.transformTo("string",k(R));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(w,4)+a(A,4)+a(X.length,2)+X}(this.dirRecords.length,_,h,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(h){this._sources.push(h);var S=this;return h.on("data",function(_){S.processChunk(_)}),h.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),h.on("error",function(_){S.error(_)}),this},g.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(h){var S=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var _=0;_<S.length;_++)try{S[_].error(h)}catch{}return!0},g.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,S=0;S<h.length;S++)h[S].lock()},i.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,r){var a=n("../compressions"),o=n("./ZipFileWorker");r.generateWorker=function(s,l,u){var d=new o(l.streamFiles,u,l.platform,l.encodeFileName),p=0;try{s.forEach(function(g,h){p++;var S=function(w,A){var R=w||A,k=a[R];if(!k)throw new Error(R+" is not a valid compression method !");return k}(h.options.compression,l.compression),_=h.options.compressionOptions||l.compressionOptions||{},C=h.dir,v=h.date;h._compressWorker(S,_).withStreamInfo("file",{name:g,dir:C,date:v,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(d)}),d.entriesCount=p}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,r){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(o,s){return new a().loadAsync(o,s)},a.external=n("./external"),i.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,r){var a=n("./utils"),o=n("./external"),s=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function p(g){return new o.Promise(function(h,S){var _=g.decompressed.getContentWorker().pipe(new u);_.on("error",function(C){S(C)}).on("end",function(){_.streamInfo.crc32!==g.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}i.exports=function(g,h){var S=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),d.isNode&&d.isStream(g)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",g,!0,h.optimizedBinaryString,h.base64).then(function(_){var C=new l(h);return C.load(_),C}).then(function(_){var C=[o.Promise.resolve(_)],v=_.files;if(h.checkCRC32)for(var w=0;w<v.length;w++)C.push(p(v[w]));return o.Promise.all(C)}).then(function(_){for(var C=_.shift(),v=C.files,w=0;w<v.length;w++){var A=v[w],R=A.fileNameStr,k=a.resolve(A.fileNameStr);S.file(k,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:h.createFolders}),A.dir||(S.file(k).unsafeOriginalName=R)}return C.zipComment.length&&(S.comment=C.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,r){var a=n("../utils"),o=n("../stream/GenericWorker");function s(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(s,o),s.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,r){var a=n("readable-stream").Readable;function o(s,l,u){a.call(this,l),this._helper=s;var d=this;s.on("data",function(p,g){d.push(p)||d._helper.pause(),u&&u(g)}).on("error",function(p){d.emit("error",p)}).on("end",function(){d.push(null)})}n("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},i.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,i,r){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,i,r){function a(k,X,U){var q,B=s.getTypeOf(X),W=s.extend(U||{},d);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(k=v(k)),W.createFolders&&(q=C(k))&&w.call(this,q,!0);var D=B==="string"&&W.binary===!1&&W.base64===!1;U&&U.binary!==void 0||(W.binary=!D),(X instanceof p&&X.uncompressedSize===0||W.dir||!X||X.length===0)&&(W.base64=!1,W.binary=!0,X="",W.compression="STORE",B="string");var N=null;N=X instanceof p||X instanceof l?X:S.isNode&&S.isStream(X)?new _(k,X):s.prepareContent(k,X,W.binary,W.optimizedBinaryString,W.base64);var H=new g(k,N,W);this.files[k]=H}var o=n("./utf8"),s=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),p=n("./compressedObject"),g=n("./zipObject"),h=n("./generate"),S=n("./nodejsUtils"),_=n("./nodejs/NodejsStreamInputAdapter"),C=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var X=k.lastIndexOf("/");return 0<X?k.substring(0,X):""},v=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},w=function(k,X){return X=X!==void 0?X:d.createFolders,k=v(k),this.files[k]||a.call(this,k,null,{dir:!0,createFolders:X}),this.files[k]};function A(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var R={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var X,U,q;for(X in this.files)q=this.files[X],(U=X.slice(this.root.length,X.length))&&X.slice(0,this.root.length)===this.root&&k(U,q)},filter:function(k){var X=[];return this.forEach(function(U,q){k(U,q)&&X.push(q)}),X},file:function(k,X,U){if(arguments.length!==1)return k=this.root+k,a.call(this,k,X,U),this;if(A(k)){var q=k;return this.filter(function(W,D){return!D.dir&&q.test(W)})}var B=this.files[this.root+k];return B&&!B.dir?B:null},folder:function(k){if(!k)return this;if(A(k))return this.filter(function(B,W){return W.dir&&k.test(B)});var X=this.root+k,U=w.call(this,X),q=this.clone();return q.root=U.name,q},remove:function(k){k=this.root+k;var X=this.files[k];if(X||(k.slice(-1)!=="/"&&(k+="/"),X=this.files[k]),X&&!X.dir)delete this.files[k];else for(var U=this.filter(function(B,W){return W.name.slice(0,k.length)===k}),q=0;q<U.length;q++)delete this.files[U[q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var X,U={};try{if((U=s.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");s.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var q=U.comment||this.comment||"";X=h.generateWorker(this,U,q)}catch(B){(X=new l("error")).error(B)}return new u(X,U.type||"string",U.mimeType)},generateAsync:function(k,X){return this.generateInternalStream(k).accumulate(X)},generateNodeStream:function(k,X){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(X)}};i.exports=R},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,r){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,r){var a=n("./DataReader");function o(s){a.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}n("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),u=s.charCodeAt(1),d=s.charCodeAt(2),p=s.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===l&&this.data[g+1]===u&&this.data[g+2]===d&&this.data[g+3]===p)return g-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),u=s.charCodeAt(1),d=s.charCodeAt(2),p=s.charCodeAt(3),g=this.readData(4);return l===g[0]&&u===g[1]&&d===g[2]&&p===g[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},i.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,i,r){var a=n("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,u=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=s,u},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},i.exports=o},{"../utils":32}],19:[function(n,i,r){var a=n("./Uint8ArrayReader");function o(s){a.call(this,s)}n("../utils").inherits(o,a),o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},i.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,r){var a=n("./DataReader");function o(s){a.call(this,s)}n("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},i.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,i,r){var a=n("./ArrayReader");function o(s){a.call(this,s)}n("../utils").inherits(o,a),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},i.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,r){var a=n("../utils"),o=n("../support"),s=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");i.exports=function(p){var g=a.getTypeOf(p);return a.checkSupport(g),g!=="string"||o.uint8array?g==="nodebuffer"?new u(p):o.uint8array?new d(a.transformTo("uint8array",p)):new s(a.transformTo("array",p)):new l(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,r){var a=n("./GenericWorker"),o=n("../utils");function s(l){a.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(s,a),s.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},i.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,r){var a=n("./GenericWorker"),o=n("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(s,a),s.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,r){var a=n("../utils"),o=n("./GenericWorker");function s(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(s,o),s.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},i.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,r){var a=n("../utils"),o=n("./GenericWorker");function s(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=a.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}a.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,r){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(l){s.processChunk(l)}),o.on("end",function(){s.end()}),o.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},i.exports=a},{}],29:[function(n,i,r){var a=n("../utils"),o=n("./ConvertWorker"),s=n("./GenericWorker"),l=n("../base64"),u=n("../support"),d=n("../external"),p=null;if(u.nodestream)try{p=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(S,_){return new d.Promise(function(C,v){var w=[],A=S._internalType,R=S._outputType,k=S._mimeType;S.on("data",function(X,U){w.push(X),_&&_(U)}).on("error",function(X){w=[],v(X)}).on("end",function(){try{var X=function(U,q,B){switch(U){case"blob":return a.newBlob(a.transformTo("arraybuffer",q),B);case"base64":return l.encode(q);default:return a.transformTo(U,q)}}(R,function(U,q){var B,W=0,D=null,N=0;for(B=0;B<q.length;B++)N+=q[B].length;switch(U){case"string":return q.join("");case"array":return Array.prototype.concat.apply([],q);case"uint8array":for(D=new Uint8Array(N),B=0;B<q.length;B++)D.set(q[B],W),W+=q[B].length;return D;case"nodebuffer":return Buffer.concat(q);default:throw new Error("concat : unsupported type '"+U+"'")}}(A,w),k);C(X)}catch(U){v(U)}w=[]}).resume()})}function h(S,_,C){var v=_;switch(_){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=_,this._mimeType=C,a.checkSupport(v),this._worker=S.pipe(new o(v)),S.lock()}catch(w){this._worker=new s("error"),this._worker.error(w)}}h.prototype={accumulate:function(S){return g(this,S)},on:function(S,_){var C=this;return S==="data"?this._worker.on(S,function(v){_.call(C,v.data,v.meta)}):this._worker.on(S,function(){a.delay(_,arguments,C)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},S)}},i.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var a=new ArrayBuffer(0);try{r.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),r.blob=o.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!n("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,r){for(var a=n("./utils"),o=n("./support"),s=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function p(){l.call(this,"utf-8 decode"),this.leftOver=null}function g(){l.call(this,"utf-8 encode")}r.utf8encode=function(h){return o.nodebuffer?s.newBufferFrom(h,"utf-8"):function(S){var _,C,v,w,A,R=S.length,k=0;for(w=0;w<R;w++)(64512&(C=S.charCodeAt(w)))==55296&&w+1<R&&(64512&(v=S.charCodeAt(w+1)))==56320&&(C=65536+(C-55296<<10)+(v-56320),w++),k+=C<128?1:C<2048?2:C<65536?3:4;for(_=o.uint8array?new Uint8Array(k):new Array(k),w=A=0;A<k;w++)(64512&(C=S.charCodeAt(w)))==55296&&w+1<R&&(64512&(v=S.charCodeAt(w+1)))==56320&&(C=65536+(C-55296<<10)+(v-56320),w++),C<128?_[A++]=C:(C<2048?_[A++]=192|C>>>6:(C<65536?_[A++]=224|C>>>12:(_[A++]=240|C>>>18,_[A++]=128|C>>>12&63),_[A++]=128|C>>>6&63),_[A++]=128|63&C);return _}(h)},r.utf8decode=function(h){return o.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):function(S){var _,C,v,w,A=S.length,R=new Array(2*A);for(_=C=0;_<A;)if((v=S[_++])<128)R[C++]=v;else if(4<(w=u[v]))R[C++]=65533,_+=w-1;else{for(v&=w===2?31:w===3?15:7;1<w&&_<A;)v=v<<6|63&S[_++],w--;1<w?R[C++]=65533:v<65536?R[C++]=v:(v-=65536,R[C++]=55296|v>>10&1023,R[C++]=56320|1023&v)}return R.length!==C&&(R.subarray?R=R.subarray(0,C):R.length=C),a.applyFromCharCode(R)}(h=a.transformTo(o.uint8array?"uint8array":"array",h))},a.inherits(p,l),p.prototype.processChunk=function(h){var S=a.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var _=S;(S=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),S.set(_,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var C=function(w,A){var R;for((A=A||w.length)>w.length&&(A=w.length),R=A-1;0<=R&&(192&w[R])==128;)R--;return R<0||R===0?A:R+u[w[R]]>A?R:A}(S),v=S;C!==S.length&&(o.uint8array?(v=S.subarray(0,C),this.leftOver=S.subarray(C,S.length)):(v=S.slice(0,C),this.leftOver=S.slice(C,S.length))),this.push({data:r.utf8decode(v),meta:h.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=p,a.inherits(g,l),g.prototype.processChunk=function(h){this.push({data:r.utf8encode(h.data),meta:h.meta})},r.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,r){var a=n("./support"),o=n("./base64"),s=n("./nodejsUtils"),l=n("./external");function u(_){return _}function d(_,C){for(var v=0;v<_.length;++v)C[v]=255&_.charCodeAt(v);return C}n("setimmediate"),r.newBlob=function(_,C){r.checkSupport("blob");try{return new Blob([_],{type:C})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(_),v.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(_,C,v){var w=[],A=0,R=_.length;if(R<=v)return String.fromCharCode.apply(null,_);for(;A<R;)C==="array"||C==="nodebuffer"?w.push(String.fromCharCode.apply(null,_.slice(A,Math.min(A+v,R)))):w.push(String.fromCharCode.apply(null,_.subarray(A,Math.min(A+v,R)))),A+=v;return w.join("")},stringifyByChar:function(_){for(var C="",v=0;v<_.length;v++)C+=String.fromCharCode(_[v]);return C},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function g(_){var C=65536,v=r.getTypeOf(_),w=!0;if(v==="uint8array"?w=p.applyCanBeUsed.uint8array:v==="nodebuffer"&&(w=p.applyCanBeUsed.nodebuffer),w)for(;1<C;)try{return p.stringifyByChunk(_,v,C)}catch{C=Math.floor(C/2)}return p.stringifyByChar(_)}function h(_,C){for(var v=0;v<_.length;v++)C[v]=_[v];return C}r.applyFromCharCode=g;var S={};S.string={string:u,array:function(_){return d(_,new Array(_.length))},arraybuffer:function(_){return S.string.uint8array(_).buffer},uint8array:function(_){return d(_,new Uint8Array(_.length))},nodebuffer:function(_){return d(_,s.allocBuffer(_.length))}},S.array={string:g,array:u,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return s.newBufferFrom(_)}},S.arraybuffer={string:function(_){return g(new Uint8Array(_))},array:function(_){return h(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:u,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return s.newBufferFrom(new Uint8Array(_))}},S.uint8array={string:g,array:function(_){return h(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:u,nodebuffer:function(_){return s.newBufferFrom(_)}},S.nodebuffer={string:g,array:function(_){return h(_,new Array(_.length))},arraybuffer:function(_){return S.nodebuffer.uint8array(_).buffer},uint8array:function(_){return h(_,new Uint8Array(_.length))},nodebuffer:u},r.transformTo=function(_,C){if(C=C||"",!_)return C;r.checkSupport(_);var v=r.getTypeOf(C);return S[v][_](C)},r.resolve=function(_){for(var C=_.split("/"),v=[],w=0;w<C.length;w++){var A=C[w];A==="."||A===""&&w!==0&&w!==C.length-1||(A===".."?v.pop():v.push(A))}return v.join("/")},r.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(_)?"nodebuffer":a.uint8array&&_ instanceof Uint8Array?"uint8array":a.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(_){if(!a[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(_){var C,v,w="";for(v=0;v<(_||"").length;v++)w+="\\x"+((C=_.charCodeAt(v))<16?"0":"")+C.toString(16).toUpperCase();return w},r.delay=function(_,C,v){setImmediate(function(){_.apply(v||null,C||[])})},r.inherits=function(_,C){function v(){}v.prototype=C.prototype,_.prototype=new v},r.extend=function(){var _,C,v={};for(_=0;_<arguments.length;_++)for(C in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],C)&&v[C]===void 0&&(v[C]=arguments[_][C]);return v},r.prepareContent=function(_,C,v,w,A){return l.Promise.resolve(C).then(function(R){return a.blob&&(R instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(R))!==-1)&&typeof FileReader<"u"?new l.Promise(function(k,X){var U=new FileReader;U.onload=function(q){k(q.target.result)},U.onerror=function(q){X(q.target.error)},U.readAsArrayBuffer(R)}):R}).then(function(R){var k=r.getTypeOf(R);return k?(k==="arraybuffer"?R=r.transformTo("uint8array",R):k==="string"&&(A?R=o.decode(R):v&&w!==!0&&(R=function(X){return d(X,a.uint8array?new Uint8Array(X.length):new Array(X.length))}(R))),R):l.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,r){var a=n("./reader/readerFor"),o=n("./utils"),s=n("./signature"),l=n("./zipEntry"),u=n("./support");function d(p){this.files=[],this.loadOptions=p}d.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(g)+", expected "+o.pretty(p)+")")}},isSignature:function(p,g){var h=this.reader.index;this.reader.setIndex(p);var S=this.reader.readString(4)===g;return this.reader.setIndex(h),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),g=u.uint8array?"uint8array":"array",h=o.transformTo(g,p);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,g,h,S=this.zip64EndOfCentralSize-44;0<S;)p=this.reader.readInt(2),g=this.reader.readInt(4),h=this.reader.readData(g),this.zip64ExtensibleData[p]={id:p,length:g,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,g;for(p=0;p<this.files.length;p++)g=this.files[p],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(p=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var g=p;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var S=g-h;if(0<S)this.isSignature(g,s.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(p){this.reader=a(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,r){var a=n("./reader/readerFor"),o=n("./utils"),s=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),d=n("./compressions"),p=n("./support");function g(h,S){this.options=h,this.loadOptions=S}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var S,_;if(h.skip(22),this.fileNameLength=h.readInt(2),_=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(C){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)&&d[v].magic===C)return d[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,S,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var S=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(S),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var S,_,C,v=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<v;)S=h.readInt(2),_=h.readInt(2),C=h.readData(_),this.extraFields[S]={id:S,length:_,value:C};h.setIndex(v)},handleUTF8:function(){var h=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var _=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var v=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var S=a(h.value);return S.readInt(1)!==1||l(this.fileName)!==S.readInt(4)?null:u.utf8decode(S.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var S=a(h.value);return S.readInt(1)!==1||l(this.fileComment)!==S.readInt(4)?null:u.utf8decode(S.readData(h.length-5))}return null}},i.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,r){function a(S,_,C){this.name=S,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=_,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var o=n("./stream/StreamHelper"),s=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");a.prototype={internalStream:function(S){var _=null,C="string";try{if(!S)throw new Error("No output type specified.");var v=(C=S.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),_=this._decompressWorker();var w=!this._dataBinary;w&&!v&&(_=_.pipe(new l.Utf8EncodeWorker)),!w&&v&&(_=_.pipe(new l.Utf8DecodeWorker))}catch(A){(_=new d("error")).error(A)}return new o(_,C,"")},async:function(S,_){return this.internalStream(S).accumulate(_)},nodeStream:function(S,_){return this.internalStream(S||"nodebuffer").toNodejsStream(_)},_compressWorker:function(S,_){if(this._data instanceof u&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(C,S,_)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new s(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<p.length;h++)a.prototype[p[h]]=g;i.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,r){(function(a){var o,s,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,d=new l(S),p=a.document.createTextNode("");d.observe(p,{characterData:!0}),o=function(){p.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var _=a.document.createElement("script");_.onreadystatechange=function(){S(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},a.document.documentElement.appendChild(_)}:function(){setTimeout(S,0)};else{var g=new a.MessageChannel;g.port1.onmessage=S,o=function(){g.port2.postMessage(0)}}var h=[];function S(){var _,C;s=!0;for(var v=h.length;v;){for(C=h,h=[],_=-1;++_<v;)C[_]();v=h.length}s=!1}i.exports=function(_){h.push(_)!==1||s||o()}}).call(this,typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,r){var a=n("immediate");function o(){}var s={},l=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function p(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,v!==o&&_(this,v)}function g(v,w,A){this.promise=v,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function h(v,w,A){a(function(){var R;try{R=w(A)}catch(k){return s.reject(v,k)}R===v?s.reject(v,new TypeError("Cannot resolve promise with itself")):s.resolve(v,R)})}function S(v){var w=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof w=="function")return function(){w.apply(v,arguments)}}function _(v,w){var A=!1;function R(U){A||(A=!0,s.reject(v,U))}function k(U){A||(A=!0,s.resolve(v,U))}var X=C(function(){w(k,R)});X.status==="error"&&R(X.value)}function C(v,w){var A={};try{A.value=v(w),A.status="success"}catch(R){A.status="error",A.value=R}return A}(i.exports=p).prototype.finally=function(v){if(typeof v!="function")return this;var w=this.constructor;return this.then(function(A){return w.resolve(v()).then(function(){return A})},function(A){return w.resolve(v()).then(function(){throw A})})},p.prototype.catch=function(v){return this.then(null,v)},p.prototype.then=function(v,w){if(typeof v!="function"&&this.state===u||typeof w!="function"&&this.state===l)return this;var A=new this.constructor(o);return this.state!==d?h(A,this.state===u?v:w,this.outcome):this.queue.push(new g(A,v,w)),A},g.prototype.callFulfilled=function(v){s.resolve(this.promise,v)},g.prototype.otherCallFulfilled=function(v){h(this.promise,this.onFulfilled,v)},g.prototype.callRejected=function(v){s.reject(this.promise,v)},g.prototype.otherCallRejected=function(v){h(this.promise,this.onRejected,v)},s.resolve=function(v,w){var A=C(S,w);if(A.status==="error")return s.reject(v,A.value);var R=A.value;if(R)_(v,R);else{v.state=u,v.outcome=w;for(var k=-1,X=v.queue.length;++k<X;)v.queue[k].callFulfilled(w)}return v},s.reject=function(v,w){v.state=l,v.outcome=w;for(var A=-1,R=v.queue.length;++A<R;)v.queue[A].callRejected(w);return v},p.resolve=function(v){return v instanceof this?v:s.resolve(new this(o),v)},p.reject=function(v){var w=new this(o);return s.reject(w,v)},p.all=function(v){var w=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=v.length,R=!1;if(!A)return this.resolve([]);for(var k=new Array(A),X=0,U=-1,q=new this(o);++U<A;)B(v[U],U);return q;function B(W,D){w.resolve(W).then(function(N){k[D]=N,++X!==A||R||(R=!0,s.resolve(q,k))},function(N){R||(R=!0,s.reject(q,N))})}},p.race=function(v){var w=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=v.length,R=!1;if(!A)return this.resolve([]);for(var k=-1,X=new this(o);++k<A;)U=v[k],w.resolve(U).then(function(q){R||(R=!0,s.resolve(X,q))},function(q){R||(R=!0,s.reject(X,q))});var U;return X}},{immediate:36}],38:[function(n,i,r){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,r){var a=n("./zlib/deflate"),o=n("./utils/common"),s=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,p=0,g=-1,h=0,S=8;function _(v){if(!(this instanceof _))return new _(v);this.options=o.assign({level:g,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},v||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var A=a.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(A!==p)throw new Error(l[A]);if(w.header&&a.deflateSetHeader(this.strm,w.header),w.dictionary){var R;if(R=typeof w.dictionary=="string"?s.string2buf(w.dictionary):d.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(A=a.deflateSetDictionary(this.strm,R))!==p)throw new Error(l[A]);this._dict_set=!0}}function C(v,w){var A=new _(w);if(A.push(v,!0),A.err)throw A.msg||l[A.err];return A.result}_.prototype.push=function(v,w){var A,R,k=this.strm,X=this.options.chunkSize;if(this.ended)return!1;R=w===~~w?w:w===!0?4:0,typeof v=="string"?k.input=s.string2buf(v):d.call(v)==="[object ArrayBuffer]"?k.input=new Uint8Array(v):k.input=v,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new o.Buf8(X),k.next_out=0,k.avail_out=X),(A=a.deflate(k,R))!==1&&A!==p)return this.onEnd(A),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||R!==4&&R!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(k.output,k.next_out))):this.onData(o.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&A!==1);return R===4?(A=a.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===p):R!==2||(this.onEnd(p),!(k.avail_out=0))},_.prototype.onData=function(v){this.chunks.push(v)},_.prototype.onEnd=function(v){v===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},r.Deflate=_,r.deflate=C,r.deflateRaw=function(v,w){return(w=w||{}).raw=!0,C(v,w)},r.gzip=function(v,w){return(w=w||{}).gzip=!0,C(v,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,r){var a=n("./zlib/inflate"),o=n("./utils/common"),s=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),p=n("./zlib/gzheader"),g=Object.prototype.toString;function h(_){if(!(this instanceof h))return new h(_);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},_||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||_&&_.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&!(15&C.windowBits)&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,C.windowBits);if(v!==l.Z_OK)throw new Error(u[v]);this.header=new p,a.inflateGetHeader(this.strm,this.header)}function S(_,C){var v=new h(C);if(v.push(_,!0),v.err)throw v.msg||u[v.err];return v.result}h.prototype.push=function(_,C){var v,w,A,R,k,X,U=this.strm,q=this.options.chunkSize,B=this.options.dictionary,W=!1;if(this.ended)return!1;w=C===~~C?C:C===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof _=="string"?U.input=s.binstring2buf(_):g.call(_)==="[object ArrayBuffer]"?U.input=new Uint8Array(_):U.input=_,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new o.Buf8(q),U.next_out=0,U.avail_out=q),(v=a.inflate(U,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&B&&(X=typeof B=="string"?s.string2buf(B):g.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,v=a.inflateSetDictionary(this.strm,X)),v===l.Z_BUF_ERROR&&W===!0&&(v=l.Z_OK,W=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&v!==l.Z_STREAM_END&&(U.avail_in!==0||w!==l.Z_FINISH&&w!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=s.utf8border(U.output,U.next_out),R=U.next_out-A,k=s.buf2string(U.output,A),U.next_out=R,U.avail_out=q-R,R&&o.arraySet(U.output,U.output,A,R,0),this.onData(k)):this.onData(o.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(W=!0)}while((0<U.avail_in||U.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(w=l.Z_FINISH),w===l.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):w!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(U.avail_out=0))},h.prototype.onData=function(_){this.chunks.push(_)},h.prototype.onEnd=function(_){_===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},r.Inflate=h,r.inflate=S,r.inflateRaw=function(_,C){return(C=C||{}).raw=!0,S(_,C)},r.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,r){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])}}return l},r.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,d,p,g){if(u.subarray&&l.subarray)l.set(u.subarray(d,d+p),g);else for(var h=0;h<p;h++)l[g+h]=u[d+h]},flattenChunks:function(l){var u,d,p,g,h,S;for(u=p=0,d=l.length;u<d;u++)p+=l[u].length;for(S=new Uint8Array(p),u=g=0,d=l.length;u<d;u++)h=l[u],S.set(h,g),g+=h.length;return S}},s={arraySet:function(l,u,d,p,g){for(var h=0;h<p;h++)l[g+h]=u[d+h]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(a)},{}],42:[function(n,i,r){var a=n("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(p,g){if(g<65537&&(p.subarray&&s||!p.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(p,g));for(var h="",S=0;S<g;S++)h+=String.fromCharCode(p[S]);return h}l[254]=l[254]=1,r.string2buf=function(p){var g,h,S,_,C,v=p.length,w=0;for(_=0;_<v;_++)(64512&(h=p.charCodeAt(_)))==55296&&_+1<v&&(64512&(S=p.charCodeAt(_+1)))==56320&&(h=65536+(h-55296<<10)+(S-56320),_++),w+=h<128?1:h<2048?2:h<65536?3:4;for(g=new a.Buf8(w),_=C=0;C<w;_++)(64512&(h=p.charCodeAt(_)))==55296&&_+1<v&&(64512&(S=p.charCodeAt(_+1)))==56320&&(h=65536+(h-55296<<10)+(S-56320),_++),h<128?g[C++]=h:(h<2048?g[C++]=192|h>>>6:(h<65536?g[C++]=224|h>>>12:(g[C++]=240|h>>>18,g[C++]=128|h>>>12&63),g[C++]=128|h>>>6&63),g[C++]=128|63&h);return g},r.buf2binstring=function(p){return d(p,p.length)},r.binstring2buf=function(p){for(var g=new a.Buf8(p.length),h=0,S=g.length;h<S;h++)g[h]=p.charCodeAt(h);return g},r.buf2string=function(p,g){var h,S,_,C,v=g||p.length,w=new Array(2*v);for(h=S=0;h<v;)if((_=p[h++])<128)w[S++]=_;else if(4<(C=l[_]))w[S++]=65533,h+=C-1;else{for(_&=C===2?31:C===3?15:7;1<C&&h<v;)_=_<<6|63&p[h++],C--;1<C?w[S++]=65533:_<65536?w[S++]=_:(_-=65536,w[S++]=55296|_>>10&1023,w[S++]=56320|1023&_)}return d(w,S)},r.utf8border=function(p,g){var h;for((g=g||p.length)>p.length&&(g=p.length),h=g-1;0<=h&&(192&p[h])==128;)h--;return h<0||h===0?g:h+l[p[h]]>g?h:g}},{"./common":41}],43:[function(n,i,r){i.exports=function(a,o,s,l){for(var u=65535&a|0,d=a>>>16&65535|0,p=0;s!==0;){for(s-=p=2e3<s?2e3:s;d=d+(u=u+o[l++]|0)|0,--p;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,r){var a=function(){for(var o,s=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;s[l]=o}return s}();i.exports=function(o,s,l,u){var d=a,p=u+l;o^=-1;for(var g=u;g<p;g++)o=o>>>8^d[255&(o^s[g])];return-1^o}},{}],46:[function(n,i,r){var a,o=n("../utils/common"),s=n("./trees"),l=n("./adler32"),u=n("./crc32"),d=n("./messages"),p=0,g=4,h=0,S=-2,_=-1,C=4,v=2,w=8,A=9,R=286,k=30,X=19,U=2*R+1,q=15,B=3,W=258,D=W+B+1,N=42,H=113,T=1,re=2,te=3,ne=4;function se(M,oe){return M.msg=d[oe],oe}function ae(M){return(M<<1)-(4<M?9:0)}function ge(M){for(var oe=M.length;0<=--oe;)M[oe]=0}function ce(M){var oe=M.state,O=oe.pending;O>M.avail_out&&(O=M.avail_out),O!==0&&(o.arraySet(M.output,oe.pending_buf,oe.pending_out,O,M.next_out),M.next_out+=O,oe.pending_out+=O,M.total_out+=O,M.avail_out-=O,oe.pending-=O,oe.pending===0&&(oe.pending_out=0))}function I(M,oe){s._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,oe),M.block_start=M.strstart,ce(M.strm)}function Y(M,oe){M.pending_buf[M.pending++]=oe}function K(M,oe){M.pending_buf[M.pending++]=oe>>>8&255,M.pending_buf[M.pending++]=255&oe}function Z(M,oe){var O,$,j=M.max_chain_length,Q=M.strstart,me=M.prev_length,be=M.nice_match,ue=M.strstart>M.w_size-D?M.strstart-(M.w_size-D):0,Ce=M.window,Re=M.w_mask,Ee=M.prev,qe=M.strstart+W,Qe=Ce[Q+me-1],$e=Ce[Q+me];M.prev_length>=M.good_match&&(j>>=2),be>M.lookahead&&(be=M.lookahead);do if(Ce[(O=oe)+me]===$e&&Ce[O+me-1]===Qe&&Ce[O]===Ce[Q]&&Ce[++O]===Ce[Q+1]){Q+=2,O++;do;while(Ce[++Q]===Ce[++O]&&Ce[++Q]===Ce[++O]&&Ce[++Q]===Ce[++O]&&Ce[++Q]===Ce[++O]&&Ce[++Q]===Ce[++O]&&Ce[++Q]===Ce[++O]&&Ce[++Q]===Ce[++O]&&Ce[++Q]===Ce[++O]&&Q<qe);if($=W-(qe-Q),Q=qe-W,me<$){if(M.match_start=oe,be<=(me=$))break;Qe=Ce[Q+me-1],$e=Ce[Q+me]}}while((oe=Ee[oe&Re])>ue&&--j!=0);return me<=M.lookahead?me:M.lookahead}function le(M){var oe,O,$,j,Q,me,be,ue,Ce,Re,Ee=M.w_size;do{if(j=M.window_size-M.lookahead-M.strstart,M.strstart>=Ee+(Ee-D)){for(o.arraySet(M.window,M.window,Ee,Ee,0),M.match_start-=Ee,M.strstart-=Ee,M.block_start-=Ee,oe=O=M.hash_size;$=M.head[--oe],M.head[oe]=Ee<=$?$-Ee:0,--O;);for(oe=O=Ee;$=M.prev[--oe],M.prev[oe]=Ee<=$?$-Ee:0,--O;);j+=Ee}if(M.strm.avail_in===0)break;if(me=M.strm,be=M.window,ue=M.strstart+M.lookahead,Ce=j,Re=void 0,Re=me.avail_in,Ce<Re&&(Re=Ce),O=Re===0?0:(me.avail_in-=Re,o.arraySet(be,me.input,me.next_in,Re,ue),me.state.wrap===1?me.adler=l(me.adler,be,Re,ue):me.state.wrap===2&&(me.adler=u(me.adler,be,Re,ue)),me.next_in+=Re,me.total_in+=Re,Re),M.lookahead+=O,M.lookahead+M.insert>=B)for(Q=M.strstart-M.insert,M.ins_h=M.window[Q],M.ins_h=(M.ins_h<<M.hash_shift^M.window[Q+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[Q+B-1])&M.hash_mask,M.prev[Q&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=Q,Q++,M.insert--,!(M.lookahead+M.insert<B)););}while(M.lookahead<D&&M.strm.avail_in!==0)}function _e(M,oe){for(var O,$;;){if(M.lookahead<D){if(le(M),M.lookahead<D&&oe===p)return T;if(M.lookahead===0)break}if(O=0,M.lookahead>=B&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+B-1])&M.hash_mask,O=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),O!==0&&M.strstart-O<=M.w_size-D&&(M.match_length=Z(M,O)),M.match_length>=B)if($=s._tr_tally(M,M.strstart-M.match_start,M.match_length-B),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=B){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+B-1])&M.hash_mask,O=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else $=s._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if($&&(I(M,!1),M.strm.avail_out===0))return T}return M.insert=M.strstart<B-1?M.strstart:B-1,oe===g?(I(M,!0),M.strm.avail_out===0?te:ne):M.last_lit&&(I(M,!1),M.strm.avail_out===0)?T:re}function ye(M,oe){for(var O,$,j;;){if(M.lookahead<D){if(le(M),M.lookahead<D&&oe===p)return T;if(M.lookahead===0)break}if(O=0,M.lookahead>=B&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+B-1])&M.hash_mask,O=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=B-1,O!==0&&M.prev_length<M.max_lazy_match&&M.strstart-O<=M.w_size-D&&(M.match_length=Z(M,O),M.match_length<=5&&(M.strategy===1||M.match_length===B&&4096<M.strstart-M.match_start)&&(M.match_length=B-1)),M.prev_length>=B&&M.match_length<=M.prev_length){for(j=M.strstart+M.lookahead-B,$=s._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-B),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=j&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+B-1])&M.hash_mask,O=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=B-1,M.strstart++,$&&(I(M,!1),M.strm.avail_out===0))return T}else if(M.match_available){if(($=s._tr_tally(M,0,M.window[M.strstart-1]))&&I(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return T}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&($=s._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<B-1?M.strstart:B-1,oe===g?(I(M,!0),M.strm.avail_out===0?te:ne):M.last_lit&&(I(M,!1),M.strm.avail_out===0)?T:re}function pe(M,oe,O,$,j){this.good_length=M,this.max_lazy=oe,this.nice_length=O,this.max_chain=$,this.func=j}function Ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*U),this.dyn_dtree=new o.Buf16(2*(2*k+1)),this.bl_tree=new o.Buf16(2*(2*X+1)),ge(this.dyn_ltree),ge(this.dyn_dtree),ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(q+1),this.heap=new o.Buf16(2*R+1),ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*R+1),ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Le(M){var oe;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=v,(oe=M.state).pending=0,oe.pending_out=0,oe.wrap<0&&(oe.wrap=-oe.wrap),oe.status=oe.wrap?N:H,M.adler=oe.wrap===2?0:1,oe.last_flush=p,s._tr_init(oe),h):se(M,S)}function He(M){var oe=Le(M);return oe===h&&function(O){O.window_size=2*O.w_size,ge(O.head),O.max_lazy_match=a[O.level].max_lazy,O.good_match=a[O.level].good_length,O.nice_match=a[O.level].nice_length,O.max_chain_length=a[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=B-1,O.match_available=0,O.ins_h=0}(M.state),oe}function Ge(M,oe,O,$,j,Q){if(!M)return S;var me=1;if(oe===_&&(oe=6),$<0?(me=0,$=-$):15<$&&(me=2,$-=16),j<1||A<j||O!==w||$<8||15<$||oe<0||9<oe||Q<0||C<Q)return se(M,S);$===8&&($=9);var be=new Ie;return(M.state=be).strm=M,be.wrap=me,be.gzhead=null,be.w_bits=$,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=j+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+B-1)/B),be.window=new o.Buf8(2*be.w_size),be.head=new o.Buf16(be.hash_size),be.prev=new o.Buf16(be.w_size),be.lit_bufsize=1<<j+6,be.pending_buf_size=4*be.lit_bufsize,be.pending_buf=new o.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=oe,be.strategy=Q,be.method=O,He(M)}a=[new pe(0,0,0,0,function(M,oe){var O=65535;for(O>M.pending_buf_size-5&&(O=M.pending_buf_size-5);;){if(M.lookahead<=1){if(le(M),M.lookahead===0&&oe===p)return T;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var $=M.block_start+O;if((M.strstart===0||M.strstart>=$)&&(M.lookahead=M.strstart-$,M.strstart=$,I(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-D&&(I(M,!1),M.strm.avail_out===0))return T}return M.insert=0,oe===g?(I(M,!0),M.strm.avail_out===0?te:ne):(M.strstart>M.block_start&&(I(M,!1),M.strm.avail_out),T)}),new pe(4,4,8,4,_e),new pe(4,5,16,8,_e),new pe(4,6,32,32,_e),new pe(4,4,16,16,ye),new pe(8,16,32,32,ye),new pe(8,16,128,128,ye),new pe(8,32,128,256,ye),new pe(32,128,258,1024,ye),new pe(32,258,258,4096,ye)],r.deflateInit=function(M,oe){return Ge(M,oe,w,15,8,0)},r.deflateInit2=Ge,r.deflateReset=He,r.deflateResetKeep=Le,r.deflateSetHeader=function(M,oe){return M&&M.state?M.state.wrap!==2?S:(M.state.gzhead=oe,h):S},r.deflate=function(M,oe){var O,$,j,Q;if(!M||!M.state||5<oe||oe<0)return M?se(M,S):S;if($=M.state,!M.output||!M.input&&M.avail_in!==0||$.status===666&&oe!==g)return se(M,M.avail_out===0?-5:S);if($.strm=M,O=$.last_flush,$.last_flush=oe,$.status===N)if($.wrap===2)M.adler=0,Y($,31),Y($,139),Y($,8),$.gzhead?(Y($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),Y($,255&$.gzhead.time),Y($,$.gzhead.time>>8&255),Y($,$.gzhead.time>>16&255),Y($,$.gzhead.time>>24&255),Y($,$.level===9?2:2<=$.strategy||$.level<2?4:0),Y($,255&$.gzhead.os),$.gzhead.extra&&$.gzhead.extra.length&&(Y($,255&$.gzhead.extra.length),Y($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(M.adler=u(M.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=69):(Y($,0),Y($,0),Y($,0),Y($,0),Y($,0),Y($,$.level===9?2:2<=$.strategy||$.level<2?4:0),Y($,3),$.status=H);else{var me=w+($.w_bits-8<<4)<<8;me|=(2<=$.strategy||$.level<2?0:$.level<6?1:$.level===6?2:3)<<6,$.strstart!==0&&(me|=32),me+=31-me%31,$.status=H,K($,me),$.strstart!==0&&(K($,M.adler>>>16),K($,65535&M.adler)),M.adler=1}if($.status===69)if($.gzhead.extra){for(j=$.pending;$.gzindex<(65535&$.gzhead.extra.length)&&($.pending!==$.pending_buf_size||($.gzhead.hcrc&&$.pending>j&&(M.adler=u(M.adler,$.pending_buf,$.pending-j,j)),ce(M),j=$.pending,$.pending!==$.pending_buf_size));)Y($,255&$.gzhead.extra[$.gzindex]),$.gzindex++;$.gzhead.hcrc&&$.pending>j&&(M.adler=u(M.adler,$.pending_buf,$.pending-j,j)),$.gzindex===$.gzhead.extra.length&&($.gzindex=0,$.status=73)}else $.status=73;if($.status===73)if($.gzhead.name){j=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>j&&(M.adler=u(M.adler,$.pending_buf,$.pending-j,j)),ce(M),j=$.pending,$.pending===$.pending_buf_size)){Q=1;break}Q=$.gzindex<$.gzhead.name.length?255&$.gzhead.name.charCodeAt($.gzindex++):0,Y($,Q)}while(Q!==0);$.gzhead.hcrc&&$.pending>j&&(M.adler=u(M.adler,$.pending_buf,$.pending-j,j)),Q===0&&($.gzindex=0,$.status=91)}else $.status=91;if($.status===91)if($.gzhead.comment){j=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>j&&(M.adler=u(M.adler,$.pending_buf,$.pending-j,j)),ce(M),j=$.pending,$.pending===$.pending_buf_size)){Q=1;break}Q=$.gzindex<$.gzhead.comment.length?255&$.gzhead.comment.charCodeAt($.gzindex++):0,Y($,Q)}while(Q!==0);$.gzhead.hcrc&&$.pending>j&&(M.adler=u(M.adler,$.pending_buf,$.pending-j,j)),Q===0&&($.status=103)}else $.status=103;if($.status===103&&($.gzhead.hcrc?($.pending+2>$.pending_buf_size&&ce(M),$.pending+2<=$.pending_buf_size&&(Y($,255&M.adler),Y($,M.adler>>8&255),M.adler=0,$.status=H)):$.status=H),$.pending!==0){if(ce(M),M.avail_out===0)return $.last_flush=-1,h}else if(M.avail_in===0&&ae(oe)<=ae(O)&&oe!==g)return se(M,-5);if($.status===666&&M.avail_in!==0)return se(M,-5);if(M.avail_in!==0||$.lookahead!==0||oe!==p&&$.status!==666){var be=$.strategy===2?function(ue,Ce){for(var Re;;){if(ue.lookahead===0&&(le(ue),ue.lookahead===0)){if(Ce===p)return T;break}if(ue.match_length=0,Re=s._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,Re&&(I(ue,!1),ue.strm.avail_out===0))return T}return ue.insert=0,Ce===g?(I(ue,!0),ue.strm.avail_out===0?te:ne):ue.last_lit&&(I(ue,!1),ue.strm.avail_out===0)?T:re}($,oe):$.strategy===3?function(ue,Ce){for(var Re,Ee,qe,Qe,$e=ue.window;;){if(ue.lookahead<=W){if(le(ue),ue.lookahead<=W&&Ce===p)return T;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=B&&0<ue.strstart&&(Ee=$e[qe=ue.strstart-1])===$e[++qe]&&Ee===$e[++qe]&&Ee===$e[++qe]){Qe=ue.strstart+W;do;while(Ee===$e[++qe]&&Ee===$e[++qe]&&Ee===$e[++qe]&&Ee===$e[++qe]&&Ee===$e[++qe]&&Ee===$e[++qe]&&Ee===$e[++qe]&&Ee===$e[++qe]&&qe<Qe);ue.match_length=W-(Qe-qe),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=B?(Re=s._tr_tally(ue,1,ue.match_length-B),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):(Re=s._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),Re&&(I(ue,!1),ue.strm.avail_out===0))return T}return ue.insert=0,Ce===g?(I(ue,!0),ue.strm.avail_out===0?te:ne):ue.last_lit&&(I(ue,!1),ue.strm.avail_out===0)?T:re}($,oe):a[$.level].func($,oe);if(be!==te&&be!==ne||($.status=666),be===T||be===te)return M.avail_out===0&&($.last_flush=-1),h;if(be===re&&(oe===1?s._tr_align($):oe!==5&&(s._tr_stored_block($,0,0,!1),oe===3&&(ge($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),ce(M),M.avail_out===0))return $.last_flush=-1,h}return oe!==g?h:$.wrap<=0?1:($.wrap===2?(Y($,255&M.adler),Y($,M.adler>>8&255),Y($,M.adler>>16&255),Y($,M.adler>>24&255),Y($,255&M.total_in),Y($,M.total_in>>8&255),Y($,M.total_in>>16&255),Y($,M.total_in>>24&255)):(K($,M.adler>>>16),K($,65535&M.adler)),ce(M),0<$.wrap&&($.wrap=-$.wrap),$.pending!==0?h:1)},r.deflateEnd=function(M){var oe;return M&&M.state?(oe=M.state.status)!==N&&oe!==69&&oe!==73&&oe!==91&&oe!==103&&oe!==H&&oe!==666?se(M,S):(M.state=null,oe===H?se(M,-3):h):S},r.deflateSetDictionary=function(M,oe){var O,$,j,Q,me,be,ue,Ce,Re=oe.length;if(!M||!M.state||(Q=(O=M.state).wrap)===2||Q===1&&O.status!==N||O.lookahead)return S;for(Q===1&&(M.adler=l(M.adler,oe,Re,0)),O.wrap=0,Re>=O.w_size&&(Q===0&&(ge(O.head),O.strstart=0,O.block_start=0,O.insert=0),Ce=new o.Buf8(O.w_size),o.arraySet(Ce,oe,Re-O.w_size,O.w_size,0),oe=Ce,Re=O.w_size),me=M.avail_in,be=M.next_in,ue=M.input,M.avail_in=Re,M.next_in=0,M.input=oe,le(O);O.lookahead>=B;){for($=O.strstart,j=O.lookahead-(B-1);O.ins_h=(O.ins_h<<O.hash_shift^O.window[$+B-1])&O.hash_mask,O.prev[$&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=$,$++,--j;);O.strstart=$,O.lookahead=B-1,le(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=B-1,O.match_available=0,M.next_in=be,M.input=ue,M.avail_in=me,O.wrap=Q,h},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,r){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,r){i.exports=function(a,o){var s,l,u,d,p,g,h,S,_,C,v,w,A,R,k,X,U,q,B,W,D,N,H,T,re;s=a.state,l=a.next_in,T=a.input,u=l+(a.avail_in-5),d=a.next_out,re=a.output,p=d-(o-a.avail_out),g=d+(a.avail_out-257),h=s.dmax,S=s.wsize,_=s.whave,C=s.wnext,v=s.window,w=s.hold,A=s.bits,R=s.lencode,k=s.distcode,X=(1<<s.lenbits)-1,U=(1<<s.distbits)-1;e:do{A<15&&(w+=T[l++]<<A,A+=8,w+=T[l++]<<A,A+=8),q=R[w&X];t:for(;;){if(w>>>=B=q>>>24,A-=B,(B=q>>>16&255)===0)re[d++]=65535&q;else{if(!(16&B)){if(!(64&B)){q=R[(65535&q)+(w&(1<<B)-1)];continue t}if(32&B){s.mode=12;break e}a.msg="invalid literal/length code",s.mode=30;break e}W=65535&q,(B&=15)&&(A<B&&(w+=T[l++]<<A,A+=8),W+=w&(1<<B)-1,w>>>=B,A-=B),A<15&&(w+=T[l++]<<A,A+=8,w+=T[l++]<<A,A+=8),q=k[w&U];n:for(;;){if(w>>>=B=q>>>24,A-=B,!(16&(B=q>>>16&255))){if(!(64&B)){q=k[(65535&q)+(w&(1<<B)-1)];continue n}a.msg="invalid distance code",s.mode=30;break e}if(D=65535&q,A<(B&=15)&&(w+=T[l++]<<A,(A+=8)<B&&(w+=T[l++]<<A,A+=8)),h<(D+=w&(1<<B)-1)){a.msg="invalid distance too far back",s.mode=30;break e}if(w>>>=B,A-=B,(B=d-p)<D){if(_<(B=D-B)&&s.sane){a.msg="invalid distance too far back",s.mode=30;break e}if(H=v,(N=0)===C){if(N+=S-B,B<W){for(W-=B;re[d++]=v[N++],--B;);N=d-D,H=re}}else if(C<B){if(N+=S+C-B,(B-=C)<W){for(W-=B;re[d++]=v[N++],--B;);if(N=0,C<W){for(W-=B=C;re[d++]=v[N++],--B;);N=d-D,H=re}}}else if(N+=C-B,B<W){for(W-=B;re[d++]=v[N++],--B;);N=d-D,H=re}for(;2<W;)re[d++]=H[N++],re[d++]=H[N++],re[d++]=H[N++],W-=3;W&&(re[d++]=H[N++],1<W&&(re[d++]=H[N++]))}else{for(N=d-D;re[d++]=re[N++],re[d++]=re[N++],re[d++]=re[N++],2<(W-=3););W&&(re[d++]=re[N++],1<W&&(re[d++]=re[N++]))}break}}break}}while(l<u&&d<g);l-=W=A>>3,w&=(1<<(A-=W<<3))-1,a.next_in=l,a.next_out=d,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=d<g?g-d+257:257-(d-g),s.hold=w,s.bits=A}},{}],49:[function(n,i,r){var a=n("../utils/common"),o=n("./adler32"),s=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),d=1,p=2,g=0,h=-2,S=1,_=852,C=592;function v(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(N){var H;return N&&N.state?(H=N.state,N.total_in=N.total_out=H.total=0,N.msg="",H.wrap&&(N.adler=1&H.wrap),H.mode=S,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new a.Buf32(_),H.distcode=H.distdyn=new a.Buf32(C),H.sane=1,H.back=-1,g):h}function R(N){var H;return N&&N.state?((H=N.state).wsize=0,H.whave=0,H.wnext=0,A(N)):h}function k(N,H){var T,re;return N&&N.state?(re=N.state,H<0?(T=0,H=-H):(T=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?h:(re.window!==null&&re.wbits!==H&&(re.window=null),re.wrap=T,re.wbits=H,R(N))):h}function X(N,H){var T,re;return N?(re=new w,(N.state=re).window=null,(T=k(N,H))!==g&&(N.state=null),T):h}var U,q,B=!0;function W(N){if(B){var H;for(U=new a.Buf32(512),q=new a.Buf32(32),H=0;H<144;)N.lens[H++]=8;for(;H<256;)N.lens[H++]=9;for(;H<280;)N.lens[H++]=7;for(;H<288;)N.lens[H++]=8;for(u(d,N.lens,0,288,U,0,N.work,{bits:9}),H=0;H<32;)N.lens[H++]=5;u(p,N.lens,0,32,q,0,N.work,{bits:5}),B=!1}N.lencode=U,N.lenbits=9,N.distcode=q,N.distbits=5}function D(N,H,T,re){var te,ne=N.state;return ne.window===null&&(ne.wsize=1<<ne.wbits,ne.wnext=0,ne.whave=0,ne.window=new a.Buf8(ne.wsize)),re>=ne.wsize?(a.arraySet(ne.window,H,T-ne.wsize,ne.wsize,0),ne.wnext=0,ne.whave=ne.wsize):(re<(te=ne.wsize-ne.wnext)&&(te=re),a.arraySet(ne.window,H,T-re,te,ne.wnext),(re-=te)?(a.arraySet(ne.window,H,T-re,re,0),ne.wnext=re,ne.whave=ne.wsize):(ne.wnext+=te,ne.wnext===ne.wsize&&(ne.wnext=0),ne.whave<ne.wsize&&(ne.whave+=te))),0}r.inflateReset=R,r.inflateReset2=k,r.inflateResetKeep=A,r.inflateInit=function(N){return X(N,15)},r.inflateInit2=X,r.inflate=function(N,H){var T,re,te,ne,se,ae,ge,ce,I,Y,K,Z,le,_e,ye,pe,Ie,Le,He,Ge,M,oe,O,$,j=0,Q=new a.Buf8(4),me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return h;(T=N.state).mode===12&&(T.mode=13),se=N.next_out,te=N.output,ge=N.avail_out,ne=N.next_in,re=N.input,ae=N.avail_in,ce=T.hold,I=T.bits,Y=ae,K=ge,oe=g;e:for(;;)switch(T.mode){case S:if(T.wrap===0){T.mode=13;break}for(;I<16;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}if(2&T.wrap&&ce===35615){Q[T.check=0]=255&ce,Q[1]=ce>>>8&255,T.check=s(T.check,Q,2,0),I=ce=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&ce)<<8)+(ce>>8))%31){N.msg="incorrect header check",T.mode=30;break}if((15&ce)!=8){N.msg="unknown compression method",T.mode=30;break}if(I-=4,M=8+(15&(ce>>>=4)),T.wbits===0)T.wbits=M;else if(M>T.wbits){N.msg="invalid window size",T.mode=30;break}T.dmax=1<<M,N.adler=T.check=1,T.mode=512&ce?10:12,I=ce=0;break;case 2:for(;I<16;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}if(T.flags=ce,(255&T.flags)!=8){N.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){N.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=ce>>8&1),512&T.flags&&(Q[0]=255&ce,Q[1]=ce>>>8&255,T.check=s(T.check,Q,2,0)),I=ce=0,T.mode=3;case 3:for(;I<32;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}T.head&&(T.head.time=ce),512&T.flags&&(Q[0]=255&ce,Q[1]=ce>>>8&255,Q[2]=ce>>>16&255,Q[3]=ce>>>24&255,T.check=s(T.check,Q,4,0)),I=ce=0,T.mode=4;case 4:for(;I<16;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}T.head&&(T.head.xflags=255&ce,T.head.os=ce>>8),512&T.flags&&(Q[0]=255&ce,Q[1]=ce>>>8&255,T.check=s(T.check,Q,2,0)),I=ce=0,T.mode=5;case 5:if(1024&T.flags){for(;I<16;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}T.length=ce,T.head&&(T.head.extra_len=ce),512&T.flags&&(Q[0]=255&ce,Q[1]=ce>>>8&255,T.check=s(T.check,Q,2,0)),I=ce=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(ae<(Z=T.length)&&(Z=ae),Z&&(T.head&&(M=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),a.arraySet(T.head.extra,re,ne,Z,M)),512&T.flags&&(T.check=s(T.check,re,Z,ne)),ae-=Z,ne+=Z,T.length-=Z),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(ae===0)break e;for(Z=0;M=re[ne+Z++],T.head&&M&&T.length<65536&&(T.head.name+=String.fromCharCode(M)),M&&Z<ae;);if(512&T.flags&&(T.check=s(T.check,re,Z,ne)),ae-=Z,ne+=Z,M)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(ae===0)break e;for(Z=0;M=re[ne+Z++],T.head&&M&&T.length<65536&&(T.head.comment+=String.fromCharCode(M)),M&&Z<ae;);if(512&T.flags&&(T.check=s(T.check,re,Z,ne)),ae-=Z,ne+=Z,M)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;I<16;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}if(ce!==(65535&T.check)){N.msg="header crc mismatch",T.mode=30;break}I=ce=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),N.adler=T.check=0,T.mode=12;break;case 10:for(;I<32;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}N.adler=T.check=v(ce),I=ce=0,T.mode=11;case 11:if(T.havedict===0)return N.next_out=se,N.avail_out=ge,N.next_in=ne,N.avail_in=ae,T.hold=ce,T.bits=I,2;N.adler=T.check=1,T.mode=12;case 12:if(H===5||H===6)break e;case 13:if(T.last){ce>>>=7&I,I-=7&I,T.mode=27;break}for(;I<3;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}switch(T.last=1&ce,I-=1,3&(ce>>>=1)){case 0:T.mode=14;break;case 1:if(W(T),T.mode=20,H!==6)break;ce>>>=2,I-=2;break e;case 2:T.mode=17;break;case 3:N.msg="invalid block type",T.mode=30}ce>>>=2,I-=2;break;case 14:for(ce>>>=7&I,I-=7&I;I<32;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}if((65535&ce)!=(ce>>>16^65535)){N.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&ce,I=ce=0,T.mode=15,H===6)break e;case 15:T.mode=16;case 16:if(Z=T.length){if(ae<Z&&(Z=ae),ge<Z&&(Z=ge),Z===0)break e;a.arraySet(te,re,ne,Z,se),ae-=Z,ne+=Z,ge-=Z,se+=Z,T.length-=Z;break}T.mode=12;break;case 17:for(;I<14;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}if(T.nlen=257+(31&ce),ce>>>=5,I-=5,T.ndist=1+(31&ce),ce>>>=5,I-=5,T.ncode=4+(15&ce),ce>>>=4,I-=4,286<T.nlen||30<T.ndist){N.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;I<3;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}T.lens[me[T.have++]]=7&ce,ce>>>=3,I-=3}for(;T.have<19;)T.lens[me[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,O={bits:T.lenbits},oe=u(0,T.lens,0,19,T.lencode,0,T.work,O),T.lenbits=O.bits,oe){N.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;pe=(j=T.lencode[ce&(1<<T.lenbits)-1])>>>16&255,Ie=65535&j,!((ye=j>>>24)<=I);){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}if(Ie<16)ce>>>=ye,I-=ye,T.lens[T.have++]=Ie;else{if(Ie===16){for($=ye+2;I<$;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}if(ce>>>=ye,I-=ye,T.have===0){N.msg="invalid bit length repeat",T.mode=30;break}M=T.lens[T.have-1],Z=3+(3&ce),ce>>>=2,I-=2}else if(Ie===17){for($=ye+3;I<$;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}I-=ye,M=0,Z=3+(7&(ce>>>=ye)),ce>>>=3,I-=3}else{for($=ye+7;I<$;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}I-=ye,M=0,Z=11+(127&(ce>>>=ye)),ce>>>=7,I-=7}if(T.have+Z>T.nlen+T.ndist){N.msg="invalid bit length repeat",T.mode=30;break}for(;Z--;)T.lens[T.have++]=M}}if(T.mode===30)break;if(T.lens[256]===0){N.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,O={bits:T.lenbits},oe=u(d,T.lens,0,T.nlen,T.lencode,0,T.work,O),T.lenbits=O.bits,oe){N.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,O={bits:T.distbits},oe=u(p,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,O),T.distbits=O.bits,oe){N.msg="invalid distances set",T.mode=30;break}if(T.mode=20,H===6)break e;case 20:T.mode=21;case 21:if(6<=ae&&258<=ge){N.next_out=se,N.avail_out=ge,N.next_in=ne,N.avail_in=ae,T.hold=ce,T.bits=I,l(N,K),se=N.next_out,te=N.output,ge=N.avail_out,ne=N.next_in,re=N.input,ae=N.avail_in,ce=T.hold,I=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;pe=(j=T.lencode[ce&(1<<T.lenbits)-1])>>>16&255,Ie=65535&j,!((ye=j>>>24)<=I);){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}if(pe&&!(240&pe)){for(Le=ye,He=pe,Ge=Ie;pe=(j=T.lencode[Ge+((ce&(1<<Le+He)-1)>>Le)])>>>16&255,Ie=65535&j,!(Le+(ye=j>>>24)<=I);){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}ce>>>=Le,I-=Le,T.back+=Le}if(ce>>>=ye,I-=ye,T.back+=ye,T.length=Ie,pe===0){T.mode=26;break}if(32&pe){T.back=-1,T.mode=12;break}if(64&pe){N.msg="invalid literal/length code",T.mode=30;break}T.extra=15&pe,T.mode=22;case 22:if(T.extra){for($=T.extra;I<$;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}T.length+=ce&(1<<T.extra)-1,ce>>>=T.extra,I-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;pe=(j=T.distcode[ce&(1<<T.distbits)-1])>>>16&255,Ie=65535&j,!((ye=j>>>24)<=I);){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}if(!(240&pe)){for(Le=ye,He=pe,Ge=Ie;pe=(j=T.distcode[Ge+((ce&(1<<Le+He)-1)>>Le)])>>>16&255,Ie=65535&j,!(Le+(ye=j>>>24)<=I);){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}ce>>>=Le,I-=Le,T.back+=Le}if(ce>>>=ye,I-=ye,T.back+=ye,64&pe){N.msg="invalid distance code",T.mode=30;break}T.offset=Ie,T.extra=15&pe,T.mode=24;case 24:if(T.extra){for($=T.extra;I<$;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}T.offset+=ce&(1<<T.extra)-1,ce>>>=T.extra,I-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){N.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(ge===0)break e;if(Z=K-ge,T.offset>Z){if((Z=T.offset-Z)>T.whave&&T.sane){N.msg="invalid distance too far back",T.mode=30;break}le=Z>T.wnext?(Z-=T.wnext,T.wsize-Z):T.wnext-Z,Z>T.length&&(Z=T.length),_e=T.window}else _e=te,le=se-T.offset,Z=T.length;for(ge<Z&&(Z=ge),ge-=Z,T.length-=Z;te[se++]=_e[le++],--Z;);T.length===0&&(T.mode=21);break;case 26:if(ge===0)break e;te[se++]=T.length,ge--,T.mode=21;break;case 27:if(T.wrap){for(;I<32;){if(ae===0)break e;ae--,ce|=re[ne++]<<I,I+=8}if(K-=ge,N.total_out+=K,T.total+=K,K&&(N.adler=T.check=T.flags?s(T.check,te,K,se-K):o(T.check,te,K,se-K)),K=ge,(T.flags?ce:v(ce))!==T.check){N.msg="incorrect data check",T.mode=30;break}I=ce=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;I<32;){if(ae===0)break e;ae--,ce+=re[ne++]<<I,I+=8}if(ce!==(4294967295&T.total)){N.msg="incorrect length check",T.mode=30;break}I=ce=0}T.mode=29;case 29:oe=1;break e;case 30:oe=-3;break e;case 31:return-4;case 32:default:return h}return N.next_out=se,N.avail_out=ge,N.next_in=ne,N.avail_in=ae,T.hold=ce,T.bits=I,(T.wsize||K!==N.avail_out&&T.mode<30&&(T.mode<27||H!==4))&&D(N,N.output,N.next_out,K-N.avail_out)?(T.mode=31,-4):(Y-=N.avail_in,K-=N.avail_out,N.total_in+=Y,N.total_out+=K,T.total+=K,T.wrap&&K&&(N.adler=T.check=T.flags?s(T.check,te,K,N.next_out-K):o(T.check,te,K,N.next_out-K)),N.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(Y==0&&K===0||H===4)&&oe===g&&(oe=-5),oe)},r.inflateEnd=function(N){if(!N||!N.state)return h;var H=N.state;return H.window&&(H.window=null),N.state=null,g},r.inflateGetHeader=function(N,H){var T;return N&&N.state&&2&(T=N.state).wrap?((T.head=H).done=!1,g):h},r.inflateSetDictionary=function(N,H){var T,re=H.length;return N&&N.state?(T=N.state).wrap!==0&&T.mode!==11?h:T.mode===11&&o(1,H,re,0)!==T.check?-3:D(N,H,re,re)?(T.mode=31,-4):(T.havedict=1,g):h},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,r){var a=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(d,p,g,h,S,_,C,v){var w,A,R,k,X,U,q,B,W,D=v.bits,N=0,H=0,T=0,re=0,te=0,ne=0,se=0,ae=0,ge=0,ce=0,I=null,Y=0,K=new a.Buf16(16),Z=new a.Buf16(16),le=null,_e=0;for(N=0;N<=15;N++)K[N]=0;for(H=0;H<h;H++)K[p[g+H]]++;for(te=D,re=15;1<=re&&K[re]===0;re--);if(re<te&&(te=re),re===0)return S[_++]=20971520,S[_++]=20971520,v.bits=1,0;for(T=1;T<re&&K[T]===0;T++);for(te<T&&(te=T),N=ae=1;N<=15;N++)if(ae<<=1,(ae-=K[N])<0)return-1;if(0<ae&&(d===0||re!==1))return-1;for(Z[1]=0,N=1;N<15;N++)Z[N+1]=Z[N]+K[N];for(H=0;H<h;H++)p[g+H]!==0&&(C[Z[p[g+H]]++]=H);if(U=d===0?(I=le=C,19):d===1?(I=o,Y-=257,le=s,_e-=257,256):(I=l,le=u,-1),N=T,X=_,se=H=ce=0,R=-1,k=(ge=1<<(ne=te))-1,d===1&&852<ge||d===2&&592<ge)return 1;for(;;){for(q=N-se,W=C[H]<U?(B=0,C[H]):C[H]>U?(B=le[_e+C[H]],I[Y+C[H]]):(B=96,0),w=1<<N-se,T=A=1<<ne;S[X+(ce>>se)+(A-=w)]=q<<24|B<<16|W|0,A!==0;);for(w=1<<N-1;ce&w;)w>>=1;if(w!==0?(ce&=w-1,ce+=w):ce=0,H++,--K[N]==0){if(N===re)break;N=p[g+C[H]]}if(te<N&&(ce&k)!==R){for(se===0&&(se=te),X+=T,ae=1<<(ne=N-se);ne+se<re&&!((ae-=K[ne+se])<=0);)ne++,ae<<=1;if(ge+=1<<ne,d===1&&852<ge||d===2&&592<ge)return 1;S[R=ce&k]=te<<24|ne<<16|X-_|0}}return ce!==0&&(S[X+ce]=N-se<<24|64<<16|0),v.bits=te,0}},{"../utils/common":41}],51:[function(n,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,r){var a=n("../utils/common"),o=0,s=1;function l(j){for(var Q=j.length;0<=--Q;)j[Q]=0}var u=0,d=29,p=256,g=p+1+d,h=30,S=19,_=2*g+1,C=15,v=16,w=7,A=256,R=16,k=17,X=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(g+2));l(D);var N=new Array(2*h);l(N);var H=new Array(512);l(H);var T=new Array(256);l(T);var re=new Array(d);l(re);var te,ne,se,ae=new Array(h);function ge(j,Q,me,be,ue){this.static_tree=j,this.extra_bits=Q,this.extra_base=me,this.elems=be,this.max_length=ue,this.has_stree=j&&j.length}function ce(j,Q){this.dyn_tree=j,this.max_code=0,this.stat_desc=Q}function I(j){return j<256?H[j]:H[256+(j>>>7)]}function Y(j,Q){j.pending_buf[j.pending++]=255&Q,j.pending_buf[j.pending++]=Q>>>8&255}function K(j,Q,me){j.bi_valid>v-me?(j.bi_buf|=Q<<j.bi_valid&65535,Y(j,j.bi_buf),j.bi_buf=Q>>v-j.bi_valid,j.bi_valid+=me-v):(j.bi_buf|=Q<<j.bi_valid&65535,j.bi_valid+=me)}function Z(j,Q,me){K(j,me[2*Q],me[2*Q+1])}function le(j,Q){for(var me=0;me|=1&j,j>>>=1,me<<=1,0<--Q;);return me>>>1}function _e(j,Q,me){var be,ue,Ce=new Array(C+1),Re=0;for(be=1;be<=C;be++)Ce[be]=Re=Re+me[be-1]<<1;for(ue=0;ue<=Q;ue++){var Ee=j[2*ue+1];Ee!==0&&(j[2*ue]=le(Ce[Ee]++,Ee))}}function ye(j){var Q;for(Q=0;Q<g;Q++)j.dyn_ltree[2*Q]=0;for(Q=0;Q<h;Q++)j.dyn_dtree[2*Q]=0;for(Q=0;Q<S;Q++)j.bl_tree[2*Q]=0;j.dyn_ltree[2*A]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function pe(j){8<j.bi_valid?Y(j,j.bi_buf):0<j.bi_valid&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function Ie(j,Q,me,be){var ue=2*Q,Ce=2*me;return j[ue]<j[Ce]||j[ue]===j[Ce]&&be[Q]<=be[me]}function Le(j,Q,me){for(var be=j.heap[me],ue=me<<1;ue<=j.heap_len&&(ue<j.heap_len&&Ie(Q,j.heap[ue+1],j.heap[ue],j.depth)&&ue++,!Ie(Q,be,j.heap[ue],j.depth));)j.heap[me]=j.heap[ue],me=ue,ue<<=1;j.heap[me]=be}function He(j,Q,me){var be,ue,Ce,Re,Ee=0;if(j.last_lit!==0)for(;be=j.pending_buf[j.d_buf+2*Ee]<<8|j.pending_buf[j.d_buf+2*Ee+1],ue=j.pending_buf[j.l_buf+Ee],Ee++,be===0?Z(j,ue,Q):(Z(j,(Ce=T[ue])+p+1,Q),(Re=U[Ce])!==0&&K(j,ue-=re[Ce],Re),Z(j,Ce=I(--be),me),(Re=q[Ce])!==0&&K(j,be-=ae[Ce],Re)),Ee<j.last_lit;);Z(j,A,Q)}function Ge(j,Q){var me,be,ue,Ce=Q.dyn_tree,Re=Q.stat_desc.static_tree,Ee=Q.stat_desc.has_stree,qe=Q.stat_desc.elems,Qe=-1;for(j.heap_len=0,j.heap_max=_,me=0;me<qe;me++)Ce[2*me]!==0?(j.heap[++j.heap_len]=Qe=me,j.depth[me]=0):Ce[2*me+1]=0;for(;j.heap_len<2;)Ce[2*(ue=j.heap[++j.heap_len]=Qe<2?++Qe:0)]=1,j.depth[ue]=0,j.opt_len--,Ee&&(j.static_len-=Re[2*ue+1]);for(Q.max_code=Qe,me=j.heap_len>>1;1<=me;me--)Le(j,Ce,me);for(ue=qe;me=j.heap[1],j.heap[1]=j.heap[j.heap_len--],Le(j,Ce,1),be=j.heap[1],j.heap[--j.heap_max]=me,j.heap[--j.heap_max]=be,Ce[2*ue]=Ce[2*me]+Ce[2*be],j.depth[ue]=(j.depth[me]>=j.depth[be]?j.depth[me]:j.depth[be])+1,Ce[2*me+1]=Ce[2*be+1]=ue,j.heap[1]=ue++,Le(j,Ce,1),2<=j.heap_len;);j.heap[--j.heap_max]=j.heap[1],function($e,Ye){var st,Ve,Yt,et,vn,yt,Nt=Ye.dyn_tree,Mn=Ye.max_code,vt=Ye.stat_desc.static_tree,Ci=Ye.stat_desc.has_stree,Jt=Ye.stat_desc.extra_bits,jn=Ye.stat_desc.extra_base,zn=Ye.stat_desc.max_length,zt=0;for(et=0;et<=C;et++)$e.bl_count[et]=0;for(Nt[2*$e.heap[$e.heap_max]+1]=0,st=$e.heap_max+1;st<_;st++)zn<(et=Nt[2*Nt[2*(Ve=$e.heap[st])+1]+1]+1)&&(et=zn,zt++),Nt[2*Ve+1]=et,Mn<Ve||($e.bl_count[et]++,vn=0,jn<=Ve&&(vn=Jt[Ve-jn]),yt=Nt[2*Ve],$e.opt_len+=yt*(et+vn),Ci&&($e.static_len+=yt*(vt[2*Ve+1]+vn)));if(zt!==0){do{for(et=zn-1;$e.bl_count[et]===0;)et--;$e.bl_count[et]--,$e.bl_count[et+1]+=2,$e.bl_count[zn]--,zt-=2}while(0<zt);for(et=zn;et!==0;et--)for(Ve=$e.bl_count[et];Ve!==0;)Mn<(Yt=$e.heap[--st])||(Nt[2*Yt+1]!==et&&($e.opt_len+=(et-Nt[2*Yt+1])*Nt[2*Yt],Nt[2*Yt+1]=et),Ve--)}}(j,Q),_e(Ce,Qe,j.bl_count)}function M(j,Q,me){var be,ue,Ce=-1,Re=Q[1],Ee=0,qe=7,Qe=4;for(Re===0&&(qe=138,Qe=3),Q[2*(me+1)+1]=65535,be=0;be<=me;be++)ue=Re,Re=Q[2*(be+1)+1],++Ee<qe&&ue===Re||(Ee<Qe?j.bl_tree[2*ue]+=Ee:ue!==0?(ue!==Ce&&j.bl_tree[2*ue]++,j.bl_tree[2*R]++):Ee<=10?j.bl_tree[2*k]++:j.bl_tree[2*X]++,Ce=ue,Qe=(Ee=0)===Re?(qe=138,3):ue===Re?(qe=6,3):(qe=7,4))}function oe(j,Q,me){var be,ue,Ce=-1,Re=Q[1],Ee=0,qe=7,Qe=4;for(Re===0&&(qe=138,Qe=3),be=0;be<=me;be++)if(ue=Re,Re=Q[2*(be+1)+1],!(++Ee<qe&&ue===Re)){if(Ee<Qe)for(;Z(j,ue,j.bl_tree),--Ee!=0;);else ue!==0?(ue!==Ce&&(Z(j,ue,j.bl_tree),Ee--),Z(j,R,j.bl_tree),K(j,Ee-3,2)):Ee<=10?(Z(j,k,j.bl_tree),K(j,Ee-3,3)):(Z(j,X,j.bl_tree),K(j,Ee-11,7));Ce=ue,Qe=(Ee=0)===Re?(qe=138,3):ue===Re?(qe=6,3):(qe=7,4)}}l(ae);var O=!1;function $(j,Q,me,be){K(j,(u<<1)+(be?1:0),3),function(ue,Ce,Re,Ee){pe(ue),Y(ue,Re),Y(ue,~Re),a.arraySet(ue.pending_buf,ue.window,Ce,Re,ue.pending),ue.pending+=Re}(j,Q,me)}r._tr_init=function(j){O||(function(){var Q,me,be,ue,Ce,Re=new Array(C+1);for(ue=be=0;ue<d-1;ue++)for(re[ue]=be,Q=0;Q<1<<U[ue];Q++)T[be++]=ue;for(T[be-1]=ue,ue=Ce=0;ue<16;ue++)for(ae[ue]=Ce,Q=0;Q<1<<q[ue];Q++)H[Ce++]=ue;for(Ce>>=7;ue<h;ue++)for(ae[ue]=Ce<<7,Q=0;Q<1<<q[ue]-7;Q++)H[256+Ce++]=ue;for(me=0;me<=C;me++)Re[me]=0;for(Q=0;Q<=143;)D[2*Q+1]=8,Q++,Re[8]++;for(;Q<=255;)D[2*Q+1]=9,Q++,Re[9]++;for(;Q<=279;)D[2*Q+1]=7,Q++,Re[7]++;for(;Q<=287;)D[2*Q+1]=8,Q++,Re[8]++;for(_e(D,g+1,Re),Q=0;Q<h;Q++)N[2*Q+1]=5,N[2*Q]=le(Q,5);te=new ge(D,U,p+1,g,C),ne=new ge(N,q,0,h,C),se=new ge(new Array(0),B,0,S,w)}(),O=!0),j.l_desc=new ce(j.dyn_ltree,te),j.d_desc=new ce(j.dyn_dtree,ne),j.bl_desc=new ce(j.bl_tree,se),j.bi_buf=0,j.bi_valid=0,ye(j)},r._tr_stored_block=$,r._tr_flush_block=function(j,Q,me,be){var ue,Ce,Re=0;0<j.level?(j.strm.data_type===2&&(j.strm.data_type=function(Ee){var qe,Qe=4093624447;for(qe=0;qe<=31;qe++,Qe>>>=1)if(1&Qe&&Ee.dyn_ltree[2*qe]!==0)return o;if(Ee.dyn_ltree[18]!==0||Ee.dyn_ltree[20]!==0||Ee.dyn_ltree[26]!==0)return s;for(qe=32;qe<p;qe++)if(Ee.dyn_ltree[2*qe]!==0)return s;return o}(j)),Ge(j,j.l_desc),Ge(j,j.d_desc),Re=function(Ee){var qe;for(M(Ee,Ee.dyn_ltree,Ee.l_desc.max_code),M(Ee,Ee.dyn_dtree,Ee.d_desc.max_code),Ge(Ee,Ee.bl_desc),qe=S-1;3<=qe&&Ee.bl_tree[2*W[qe]+1]===0;qe--);return Ee.opt_len+=3*(qe+1)+5+5+4,qe}(j),ue=j.opt_len+3+7>>>3,(Ce=j.static_len+3+7>>>3)<=ue&&(ue=Ce)):ue=Ce=me+5,me+4<=ue&&Q!==-1?$(j,Q,me,be):j.strategy===4||Ce===ue?(K(j,2+(be?1:0),3),He(j,D,N)):(K(j,4+(be?1:0),3),function(Ee,qe,Qe,$e){var Ye;for(K(Ee,qe-257,5),K(Ee,Qe-1,5),K(Ee,$e-4,4),Ye=0;Ye<$e;Ye++)K(Ee,Ee.bl_tree[2*W[Ye]+1],3);oe(Ee,Ee.dyn_ltree,qe-1),oe(Ee,Ee.dyn_dtree,Qe-1)}(j,j.l_desc.max_code+1,j.d_desc.max_code+1,Re+1),He(j,j.dyn_ltree,j.dyn_dtree)),ye(j),be&&pe(j)},r._tr_tally=function(j,Q,me){return j.pending_buf[j.d_buf+2*j.last_lit]=Q>>>8&255,j.pending_buf[j.d_buf+2*j.last_lit+1]=255&Q,j.pending_buf[j.l_buf+j.last_lit]=255&me,j.last_lit++,Q===0?j.dyn_ltree[2*me]++:(j.matches++,Q--,j.dyn_ltree[2*(T[me]+p+1)]++,j.dyn_dtree[2*I(Q)]++),j.last_lit===j.lit_bufsize-1},r._tr_align=function(j){K(j,2,3),Z(j,A,D),function(Q){Q.bi_valid===16?(Y(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=255&Q.bi_buf,Q.bi_buf>>=8,Q.bi_valid-=8)}(j)}},{"../utils/common":41}],53:[function(n,i,r){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,r){(function(a){(function(o,s){if(!o.setImmediate){var l,u,d,p,g=1,h={},S=!1,_=o.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(o);C=C&&C.setTimeout?C:o,l={}.toString.call(o.process)==="[object process]"?function(R){process.nextTick(function(){w(R)})}:function(){if(o.postMessage&&!o.importScripts){var R=!0,k=o.onmessage;return o.onmessage=function(){R=!1},o.postMessage("","*"),o.onmessage=k,R}}()?(p="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",A,!1):o.attachEvent("onmessage",A),function(R){o.postMessage(p+R,"*")}):o.MessageChannel?((d=new MessageChannel).port1.onmessage=function(R){w(R.data)},function(R){d.port2.postMessage(R)}):_&&"onreadystatechange"in _.createElement("script")?(u=_.documentElement,function(R){var k=_.createElement("script");k.onreadystatechange=function(){w(R),k.onreadystatechange=null,u.removeChild(k),k=null},u.appendChild(k)}):function(R){setTimeout(w,0,R)},C.setImmediate=function(R){typeof R!="function"&&(R=new Function(""+R));for(var k=new Array(arguments.length-1),X=0;X<k.length;X++)k[X]=arguments[X+1];var U={callback:R,args:k};return h[g]=U,l(g),g++},C.clearImmediate=v}function v(R){delete h[R]}function w(R){if(S)setTimeout(w,0,R);else{var k=h[R];if(k){S=!0;try{(function(X){var U=X.callback,q=X.args;switch(q.length){case 0:U();break;case 1:U(q[0]);break;case 2:U(q[0],q[1]);break;case 3:U(q[0],q[1],q[2]);break;default:U.apply(s,q)}})(k)}finally{v(R),S=!1}}}}function A(R){R.source===o&&typeof R.data=="string"&&R.data.indexOf(p)===0&&w(+R.data.slice(p.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(r_);var DA=r_.exports;const Ym=pg(DA);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PA,FA;function UA(){return{geminiUrl:PA,vertexUrl:FA}}function BA(e,t,n,i){var r,a;if(!(e!=null&&e.baseUrl)){const o=UA();return t?(r=o.vertexUrl)!==null&&r!==void 0?r:n:(a=o.geminiUrl)!==null&&a!==void 0?a:i}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fa{}function We(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const a=t[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function m(e,t,n){for(let a=0;a<t.length-1;a++){const o=t[a];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(e[s])){const l=e[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const d=l[u];m(d,t.slice(a+1),n[u])}else for(const u of l)m(u,t.slice(a+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in e||(e[s]=[{}]);const l=e[s];m(l[0],t.slice(a+1),n);return}(!e[o]||typeof e[o]!="object")&&(e[o]={}),e=e[o]}const i=t[t.length-1],r=e[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function c(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;const r=t[i];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in e){const o=e[a];return Array.isArray(o)?o.map(s=>c(s,t.slice(i+1),n)):n}else return n}else e=e[r]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}function OA(e,t){for(const[n,i]of Object.entries(t)){const r=n.split("."),a=i.split("."),o=new Set;let s=-1;for(let l=0;l<r.length;l++)if(r[l]==="*"){s=l;break}if(s!==-1&&a.length>s)for(let l=s;l<a.length;l++){const u=a[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}Jm(e,r,a,0,o)}}function Jm(e,t,n,i,r){if(i>=t.length||typeof e!="object"||e===null)return;const a=t[i];if(a.endsWith("[]")){const o=a.slice(0,-2),s=e;if(o in s&&Array.isArray(s[o]))for(const l of s[o])Jm(l,t,n,i+1,r)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const o=e,s=Object.keys(o).filter(u=>!u.startsWith("_")&&!r.has(u)),l={};for(const u of s)l[u]=o[u];for(const[u,d]of Object.entries(l)){const p=[];for(const g of n.slice(i))g==="*"?p.push(u):p.push(g);m(o,p,d)}for(const u of s)delete o[u]}}else{const o=e;a in o&&Jm(o[a],t,n,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b0(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zA(e){const t={},n=c(e,["operationName"]);n!=null&&m(t,["operationName"],n);const i=c(e,["resourceName"]);return i!=null&&m(t,["_url","resourceName"],i),t}function qA(e){const t={},n=c(e,["name"]);n!=null&&m(t,["name"],n);const i=c(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=c(e,["done"]);r!=null&&m(t,["done"],r);const a=c(e,["error"]);a!=null&&m(t,["error"],a);const o=c(e,["response","generateVideoResponse"]);return o!=null&&m(t,["response"],HA(o)),t}function GA(e){const t={},n=c(e,["name"]);n!=null&&m(t,["name"],n);const i=c(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=c(e,["done"]);r!=null&&m(t,["done"],r);const a=c(e,["error"]);a!=null&&m(t,["error"],a);const o=c(e,["response"]);return o!=null&&m(t,["response"],VA(o)),t}function HA(e){const t={},n=c(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>jA(o))),m(t,["generatedVideos"],a)}const i=c(e,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const r=c(e,["raiMediaFilteredReasons"]);return r!=null&&m(t,["raiMediaFilteredReasons"],r),t}function VA(e){const t={},n=c(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>YA(o))),m(t,["generatedVideos"],a)}const i=c(e,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const r=c(e,["raiMediaFilteredReasons"]);return r!=null&&m(t,["raiMediaFilteredReasons"],r),t}function jA(e){const t={},n=c(e,["video"]);return n!=null&&m(t,["video"],$A(n)),t}function YA(e){const t={},n=c(e,["_self"]);return n!=null&&m(t,["video"],QA(n)),t}function JA(e){const t={},n=c(e,["operationName"]);return n!=null&&m(t,["_url","operationName"],n),t}function KA(e){const t={},n=c(e,["operationName"]);return n!=null&&m(t,["_url","operationName"],n),t}function WA(e){const t={},n=c(e,["name"]);n!=null&&m(t,["name"],n);const i=c(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=c(e,["done"]);r!=null&&m(t,["done"],r);const a=c(e,["error"]);a!=null&&m(t,["error"],a);const o=c(e,["response"]);return o!=null&&m(t,["response"],XA(o)),t}function XA(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["parent"]);i!=null&&m(t,["parent"],i);const r=c(e,["documentName"]);return r!=null&&m(t,["documentName"],r),t}function a_(e){const t={},n=c(e,["name"]);n!=null&&m(t,["name"],n);const i=c(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=c(e,["done"]);r!=null&&m(t,["done"],r);const a=c(e,["error"]);a!=null&&m(t,["error"],a);const o=c(e,["response"]);return o!=null&&m(t,["response"],ZA(o)),t}function ZA(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["parent"]);i!=null&&m(t,["parent"],i);const r=c(e,["documentName"]);return r!=null&&m(t,["documentName"],r),t}function $A(e){const t={},n=c(e,["uri"]);n!=null&&m(t,["uri"],n);const i=c(e,["encodedVideo"]);i!=null&&m(t,["videoBytes"],b0(i));const r=c(e,["encoding"]);return r!=null&&m(t,["mimeType"],r),t}function QA(e){const t={},n=c(e,["gcsUri"]);n!=null&&m(t,["uri"],n);const i=c(e,["bytesBase64Encoded"]);i!=null&&m(t,["videoBytes"],b0(i));const r=c(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var H2;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(H2||(H2={}));var V2;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(V2||(V2={}));var j2;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(j2||(j2={}));var it;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(it||(it={}));var Y2;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Y2||(Y2={}));var J2;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(J2||(J2={}));var K2;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(K2||(K2={}));var W2;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(W2||(W2={}));var X2;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(X2||(X2={}));var Z2;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Z2||(Z2={}));var $2;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})($2||($2={}));var Q2;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Q2||(Q2={}));var e5;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(e5||(e5={}));var t5;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(t5||(t5={}));var n5;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(n5||(n5={}));var i5;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(i5||(i5={}));var r5;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(r5||(r5={}));var a5;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(a5||(a5={}));var o5;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(o5||(o5={}));var bc;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(bc||(bc={}));var s5;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(s5||(s5={}));var l5;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(l5||(l5={}));var u5;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(u5||(u5={}));var Km;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Km||(Km={}));var c5;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(c5||(c5={}));var f5;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(f5||(f5={}));var d5;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(d5||(d5={}));var h5;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(h5||(h5={}));var p5;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(p5||(p5={}));var m5;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(m5||(m5={}));var g5;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(g5||(g5={}));var y5;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(y5||(y5={}));var v5;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(v5||(v5={}));var b5;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(b5||(b5={}));var w5;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(w5||(w5={}));var _5;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_5||(_5={}));var x5;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(x5||(x5={}));var S5;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(S5||(S5={}));var A5;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(A5||(A5={}));var C5;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(C5||(C5={}));var T5;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(T5||(T5={}));var E5;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(E5||(E5={}));var N5;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(N5||(N5={}));var L5;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(L5||(L5={}));var I5;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(I5||(I5={}));var R5;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(R5||(R5={}));var M5;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(M5||(M5={}));var k5;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(k5||(k5={}));var D5;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(D5||(D5={}));var P5;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(P5||(P5={}));var F5;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(F5||(F5={}));var U5;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(U5||(U5={}));var B5;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(B5||(B5={}));var O5;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(O5||(O5={}));var ml;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(ml||(ml={}));class Wm{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Pu{get text(){var t,n,i,r,a,o,s,l;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const p=[];for(const g of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,S]of Object.entries(g))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(S!==null||S!==void 0)&&p.push(h);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,n,i,r,a,o,s,l;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const p of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,h]of Object.entries(p))g!=="inlineData"&&(h!==null||h!==void 0)&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,i,r,a,o,s,l;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,i,r,a,o,s,l,u;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,i,r,a,o,s,l,u;if(((r=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class z5{}class q5{}class eC{}class tC{}class nC{}class iC{}class G5{}class H5{}class V5{}class rC{}class zd{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new zd;let r;const a=t;return n?r=GA(a):r=qA(a),Object.assign(i,r),i}}class j5{}class Y5{}class J5{}class K5{}class aC{}class oC{}class sC{}class w0{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new w0,a=WA(t);return Object.assign(i,a),i}}class lC{}class uC{}class cC{}class W5{}class fC{get text(){var t,n,i;let r="",a=!1;const o=[];for(const s of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&o.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;a=!0,r+=s.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var t,n,i;let r="";const a=[];for(const o of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[s,l]of Object.entries(o))s!=="inlineData"&&l!==null&&a.push(s);o.inlineData&&typeof o.inlineData.data=="string"&&(r+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class dC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class _0{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new _0,a=a_(t);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function o_(e,t){const n=Gt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function s_(e){return Array.isArray(e)?e.map(t=>qd(t)):[qd(e)]}function qd(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function l_(e){const t=qd(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function u_(e){const t=qd(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function X5(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function c_(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>X5(t)):[X5(e)]}function Xm(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Z5(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function $5(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function pi(e){if(e==null)throw new Error("ContentUnion is required");return Xm(e)?e:{role:"user",parts:c_(e)}}function x0(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=pi(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=pi(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>pi(n)):[pi(t)]}function Ar(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Z5(e)||$5(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pi(e)]}const t=[],n=[],i=Xm(e[0]);for(const r of e){const a=Xm(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(r);else{if(Z5(r)||$5(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||t.push({role:"user",parts:c_(n)}),t}function hC(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(it).includes(n[0].toUpperCase())?n[0].toUpperCase():it.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.values(it).includes(i.toUpperCase())?i.toUpperCase():it.TYPE_UNSPECIFIED})}}function Al(e){const t={},n=["items"],i=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&hC(e.type,t);for(const[o,s]of Object.entries(e))if(s!=null)if(o=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(it).includes(s.toUpperCase())?s.toUpperCase():it.TYPE_UNSPECIFIED}else if(n.includes(o))t[o]=Al(s);else if(i.includes(o)){const l=[];for(const u of s){if(u.type=="null"){t.nullable=!0;continue}l.push(Al(u))}t[o]=l}else if(r.includes(o)){const l={};for(const[u,d]of Object.entries(s))l[u]=Al(d);t[o]=l}else{if(o==="additionalProperties")continue;t[o]=s}return t}function S0(e){return Al(e)}function A0(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function C0(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Xl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Al(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Al(t.response));return e}function Zl(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function pC(e,t,n,i=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function Ua(e,t){if(typeof t!="string")throw new Error("name must be a string");return pC(e,t,"cachedContents")}function f_(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Oo(e){return b0(e)}function mC(e){return e!=null&&typeof e=="object"&&"name"in e}function gC(e){return e!=null&&typeof e=="object"&&"video"in e}function yC(e){return e!=null&&typeof e=="object"&&"uri"in e}function d_(e){var t;let n;if(mC(e)&&(n=e.name),!(yC(e)&&(n=e.uri,n===void 0))&&!(gC(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function h_(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function p_(e){for(const t of["models","tunedModels","publisherModels"])if(vC(e,t))return e[t];return[]}function vC(e,t){return e!==null&&typeof e=="object"&&t in e}function bC(e,t={}){const n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function wC(e,t={}){const n=[],i=new Set;for(const r of e){const a=r.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const o=bC(r,t);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function m_(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function _C(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function g_(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let a=!1;for(const o of r){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function $l(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function y_(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xC(e){const t={},n=c(e,["responsesFile"]);n!=null&&m(t,["fileName"],n);const i=c(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>nT(o))),m(t,["inlinedResponses"],a)}const r=c(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),m(t,["inlinedEmbedContentResponses"],a)}return t}function SC(e){const t={},n=c(e,["predictionsFormat"]);n!=null&&m(t,["format"],n);const i=c(e,["gcsDestination","outputUriPrefix"]);i!=null&&m(t,["gcsUri"],i);const r=c(e,["bigqueryDestination","outputUri"]);return r!=null&&m(t,["bigqueryUri"],r),t}function AC(e){const t={},n=c(e,["format"]);n!=null&&m(t,["predictionsFormat"],n);const i=c(e,["gcsUri"]);i!=null&&m(t,["gcsDestination","outputUriPrefix"],i);const r=c(e,["bigqueryUri"]);if(r!=null&&m(t,["bigqueryDestination","outputUri"],r),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function nd(e){const t={},n=c(e,["name"]);n!=null&&m(t,["name"],n);const i=c(e,["metadata","displayName"]);i!=null&&m(t,["displayName"],i);const r=c(e,["metadata","state"]);r!=null&&m(t,["state"],y_(r));const a=c(e,["metadata","createTime"]);a!=null&&m(t,["createTime"],a);const o=c(e,["metadata","endTime"]);o!=null&&m(t,["endTime"],o);const s=c(e,["metadata","updateTime"]);s!=null&&m(t,["updateTime"],s);const l=c(e,["metadata","model"]);l!=null&&m(t,["model"],l);const u=c(e,["metadata","output"]);return u!=null&&m(t,["dest"],xC(g_(u))),t}function Zm(e){const t={},n=c(e,["name"]);n!=null&&m(t,["name"],n);const i=c(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=c(e,["state"]);r!=null&&m(t,["state"],y_(r));const a=c(e,["error"]);a!=null&&m(t,["error"],a);const o=c(e,["createTime"]);o!=null&&m(t,["createTime"],o);const s=c(e,["startTime"]);s!=null&&m(t,["startTime"],s);const l=c(e,["endTime"]);l!=null&&m(t,["endTime"],l);const u=c(e,["updateTime"]);u!=null&&m(t,["updateTime"],u);const d=c(e,["model"]);d!=null&&m(t,["model"],d);const p=c(e,["inputConfig"]);p!=null&&m(t,["src"],CC(p));const g=c(e,["outputConfig"]);g!=null&&m(t,["dest"],SC(g_(g)));const h=c(e,["completionStats"]);return h!=null&&m(t,["completionStats"],h),t}function CC(e){const t={},n=c(e,["instancesFormat"]);n!=null&&m(t,["format"],n);const i=c(e,["gcsSource","uris"]);i!=null&&m(t,["gcsUri"],i);const r=c(e,["bigquerySource","inputUri"]);return r!=null&&m(t,["bigqueryUri"],r),t}function TC(e,t){const n={};if(c(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=c(t,["fileName"]);i!=null&&m(n,["fileName"],i);const r=c(t,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>tT(e,o))),m(n,["requests","requests"],a)}return n}function EC(e){const t={},n=c(e,["format"]);n!=null&&m(t,["instancesFormat"],n);const i=c(e,["gcsUri"]);i!=null&&m(t,["gcsSource","uris"],i);const r=c(e,["bigqueryUri"]);if(r!=null&&m(t,["bigquerySource","inputUri"],r),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function NC(e){const t={},n=c(e,["data"]);if(n!=null&&m(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function LC(e,t){const n={},i=c(t,["name"]);return i!=null&&m(n,["_url","name"],$l(e,i)),n}function IC(e,t){const n={},i=c(t,["name"]);return i!=null&&m(n,["_url","name"],$l(e,i)),n}function RC(e){const t={},n=c(e,["content"]);n!=null&&m(t,["content"],n);const i=c(e,["citationMetadata"]);i!=null&&m(t,["citationMetadata"],MC(i));const r=c(e,["tokenCount"]);r!=null&&m(t,["tokenCount"],r);const a=c(e,["finishReason"]);a!=null&&m(t,["finishReason"],a);const o=c(e,["avgLogprobs"]);o!=null&&m(t,["avgLogprobs"],o);const s=c(e,["groundingMetadata"]);s!=null&&m(t,["groundingMetadata"],s);const l=c(e,["index"]);l!=null&&m(t,["index"],l);const u=c(e,["logprobsResult"]);u!=null&&m(t,["logprobsResult"],u);const d=c(e,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(h=>h)),m(t,["safetyRatings"],g)}const p=c(e,["urlContextMetadata"]);return p!=null&&m(t,["urlContextMetadata"],p),t}function MC(e){const t={},n=c(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),m(t,["citations"],i)}return t}function v_(e){const t={},n=c(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>uT(a))),m(t,["parts"],r)}const i=c(e,["role"]);return i!=null&&m(t,["role"],i),t}function kC(e,t){const n={},i=c(e,["displayName"]);if(t!==void 0&&i!=null&&m(t,["batch","displayName"],i),c(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function DC(e,t){const n={},i=c(e,["displayName"]);t!==void 0&&i!=null&&m(t,["displayName"],i);const r=c(e,["dest"]);return t!==void 0&&r!=null&&m(t,["outputConfig"],AC(_C(r))),n}function Q5(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["src"]);r!=null&&m(n,["batch","inputConfig"],TC(e,m_(e,r)));const a=c(t,["config"]);return a!=null&&kC(a,n),n}function PC(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["model"],Gt(e,i));const r=c(t,["src"]);r!=null&&m(n,["inputConfig"],EC(m_(e,r)));const a=c(t,["config"]);return a!=null&&DC(a,n),n}function FC(e,t){const n={},i=c(e,["displayName"]);return t!==void 0&&i!=null&&m(t,["batch","displayName"],i),n}function UC(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["src"]);r!=null&&m(n,["batch","inputConfig"],VC(e,r));const a=c(t,["config"]);return a!=null&&FC(a,n),n}function BC(e,t){const n={},i=c(t,["name"]);return i!=null&&m(n,["_url","name"],$l(e,i)),n}function OC(e,t){const n={},i=c(t,["name"]);return i!=null&&m(n,["_url","name"],$l(e,i)),n}function zC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["name"]);i!=null&&m(t,["name"],i);const r=c(e,["done"]);r!=null&&m(t,["done"],r);const a=c(e,["error"]);return a!=null&&m(t,["error"],a),t}function qC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["name"]);i!=null&&m(t,["name"],i);const r=c(e,["done"]);r!=null&&m(t,["done"],r);const a=c(e,["error"]);return a!=null&&m(t,["error"],a),t}function GC(e,t){const n={},i=c(t,["contents"]);if(i!=null){let a=x0(e,i);Array.isArray(a)&&(a=a.map(o=>o)),m(n,["requests[]","request","content"],a)}const r=c(t,["config"]);return r!=null&&(m(n,["_self"],HC(r,n)),OA(n,{"requests[].*":"requests[].request.*"})),n}function HC(e,t){const n={},i=c(e,["taskType"]);t!==void 0&&i!=null&&m(t,["requests[]","taskType"],i);const r=c(e,["title"]);t!==void 0&&r!=null&&m(t,["requests[]","title"],r);const a=c(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&m(t,["requests[]","outputDimensionality"],a),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function VC(e,t){const n={},i=c(t,["fileName"]);i!=null&&m(n,["file_name"],i);const r=c(t,["inlinedRequests"]);return r!=null&&m(n,["requests"],GC(e,r)),n}function jC(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=c(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function YC(e){const t={},n=c(e,["id"]);n!=null&&m(t,["id"],n);const i=c(e,["args"]);i!=null&&m(t,["args"],i);const r=c(e,["name"]);if(r!=null&&m(t,["name"],r),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function JC(e){const t={},n=c(e,["mode"]);n!=null&&m(t,["mode"],n);const i=c(e,["allowedFunctionNames"]);if(i!=null&&m(t,["allowedFunctionNames"],i),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function KC(e,t,n){const i={},r=c(t,["systemInstruction"]);n!==void 0&&r!=null&&m(n,["systemInstruction"],v_(pi(r)));const a=c(t,["temperature"]);a!=null&&m(i,["temperature"],a);const o=c(t,["topP"]);o!=null&&m(i,["topP"],o);const s=c(t,["topK"]);s!=null&&m(i,["topK"],s);const l=c(t,["candidateCount"]);l!=null&&m(i,["candidateCount"],l);const u=c(t,["maxOutputTokens"]);u!=null&&m(i,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&m(i,["stopSequences"],d);const p=c(t,["responseLogprobs"]);p!=null&&m(i,["responseLogprobs"],p);const g=c(t,["logprobs"]);g!=null&&m(i,["logprobs"],g);const h=c(t,["presencePenalty"]);h!=null&&m(i,["presencePenalty"],h);const S=c(t,["frequencyPenalty"]);S!=null&&m(i,["frequencyPenalty"],S);const _=c(t,["seed"]);_!=null&&m(i,["seed"],_);const C=c(t,["responseMimeType"]);C!=null&&m(i,["responseMimeType"],C);const v=c(t,["responseSchema"]);v!=null&&m(i,["responseSchema"],S0(v));const w=c(t,["responseJsonSchema"]);if(w!=null&&m(i,["responseJsonSchema"],w),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=c(t,["safetySettings"]);if(n!==void 0&&A!=null){let N=A;Array.isArray(N)&&(N=N.map(H=>cT(H))),m(n,["safetySettings"],N)}const R=c(t,["tools"]);if(n!==void 0&&R!=null){let N=Zl(R);Array.isArray(N)&&(N=N.map(H=>dT(Xl(H)))),m(n,["tools"],N)}const k=c(t,["toolConfig"]);if(n!==void 0&&k!=null&&m(n,["toolConfig"],fT(k)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=c(t,["cachedContent"]);n!==void 0&&X!=null&&m(n,["cachedContent"],Ua(e,X));const U=c(t,["responseModalities"]);U!=null&&m(i,["responseModalities"],U);const q=c(t,["mediaResolution"]);q!=null&&m(i,["mediaResolution"],q);const B=c(t,["speechConfig"]);if(B!=null&&m(i,["speechConfig"],A0(B)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=c(t,["thinkingConfig"]);W!=null&&m(i,["thinkingConfig"],W);const D=c(t,["imageConfig"]);return D!=null&&m(i,["imageConfig"],eT(D)),i}function WC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>RC(u))),m(t,["candidates"],l)}const r=c(e,["modelVersion"]);r!=null&&m(t,["modelVersion"],r);const a=c(e,["promptFeedback"]);a!=null&&m(t,["promptFeedback"],a);const o=c(e,["responseId"]);o!=null&&m(t,["responseId"],o);const s=c(e,["usageMetadata"]);return s!=null&&m(t,["usageMetadata"],s),t}function XC(e,t){const n={},i=c(t,["name"]);return i!=null&&m(n,["_url","name"],$l(e,i)),n}function ZC(e,t){const n={},i=c(t,["name"]);return i!=null&&m(n,["_url","name"],$l(e,i)),n}function $C(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&m(t,["enableWidget"],n),t}function QC(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],n),t}function eT(e){const t={},n=c(e,["aspectRatio"]);n!=null&&m(t,["aspectRatio"],n);const i=c(e,["imageSize"]);if(i!=null&&m(t,["imageSize"],i),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function tT(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["request","model"],Gt(e,i));const r=c(t,["contents"]);if(r!=null){let s=Ar(r);Array.isArray(s)&&(s=s.map(l=>v_(l))),m(n,["request","contents"],s)}const a=c(t,["metadata"]);a!=null&&m(n,["metadata"],a);const o=c(t,["config"]);return o!=null&&m(n,["request","generationConfig"],KC(e,o,c(n,["request"],{}))),n}function nT(e){const t={},n=c(e,["response"]);n!=null&&m(t,["response"],WC(n));const i=c(e,["error"]);return i!=null&&m(t,["error"],i),t}function iT(e,t){const n={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=c(e,["pageToken"]);if(t!==void 0&&r!=null&&m(t,["_query","pageToken"],r),c(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function rT(e,t){const n={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=c(e,["pageToken"]);t!==void 0&&r!=null&&m(t,["_query","pageToken"],r);const a=c(e,["filter"]);return t!==void 0&&a!=null&&m(t,["_query","filter"],a),n}function aT(e){const t={},n=c(e,["config"]);return n!=null&&iT(n,t),t}function oT(e){const t={},n=c(e,["config"]);return n!=null&&rT(n,t),t}function sT(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=c(e,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>nd(o))),m(t,["batchJobs"],a)}return t}function lT(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=c(e,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Zm(o))),m(t,["batchJobs"],a)}return t}function uT(e){const t={},n=c(e,["mediaResolution"]);n!=null&&m(t,["mediaResolution"],n);const i=c(e,["codeExecutionResult"]);i!=null&&m(t,["codeExecutionResult"],i);const r=c(e,["executableCode"]);r!=null&&m(t,["executableCode"],r);const a=c(e,["fileData"]);a!=null&&m(t,["fileData"],jC(a));const o=c(e,["functionCall"]);o!=null&&m(t,["functionCall"],YC(o));const s=c(e,["functionResponse"]);s!=null&&m(t,["functionResponse"],s);const l=c(e,["inlineData"]);l!=null&&m(t,["inlineData"],NC(l));const u=c(e,["text"]);u!=null&&m(t,["text"],u);const d=c(e,["thought"]);d!=null&&m(t,["thought"],d);const p=c(e,["thoughtSignature"]);p!=null&&m(t,["thoughtSignature"],p);const g=c(e,["videoMetadata"]);return g!=null&&m(t,["videoMetadata"],g),t}function cT(e){const t={},n=c(e,["category"]);if(n!=null&&m(t,["category"],n),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=c(e,["threshold"]);return i!=null&&m(t,["threshold"],i),t}function fT(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],JC(n));const i=c(e,["retrievalConfig"]);return i!=null&&m(t,["retrievalConfig"],i),t}function dT(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),m(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(e,["googleSearchRetrieval"]);i!=null&&m(t,["googleSearchRetrieval"],i);const r=c(e,["computerUse"]);r!=null&&m(t,["computerUse"],r);const a=c(e,["fileSearch"]);a!=null&&m(t,["fileSearch"],a);const o=c(e,["codeExecution"]);if(o!=null&&m(t,["codeExecution"],o),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(e,["googleMaps"]);s!=null&&m(t,["googleMaps"],$C(s));const l=c(e,["googleSearch"]);l!=null&&m(t,["googleSearch"],QC(l));const u=c(e,["urlContext"]);return u!=null&&m(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Da;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Da||(Da={}));class _s{constructor(t,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,r)}init(t,n,i){var r,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!i||Object.keys(i).length===0?o={config:{}}:typeof i=="object"?o=Object.assign({},i):o=i,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(r=o.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hT extends Fa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new _s(Da.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=Q5(this.apiClient,t),i=n._url,r=We("{model}:batchGenerateContent",i),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const d of l){const p=Object.assign({},d);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const h=p.request;h.systemInstruction=g,p.request=h}u.push(p)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const a=this.getGcsUri(t),o=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${r}`;else if(o)i.dest=`${o}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=PC(this.apiClient,t);return s=We("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Zm(d))}else{const u=Q5(this.apiClient,t);return s=We("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>nd(d))}}async createEmbeddingsInternal(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=UC(this.apiClient,t);return a=We("{model}:asyncBatchEmbedContent",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>nd(l))}}async get(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=ZC(this.apiClient,t);return s=We("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Zm(d))}else{const u=XC(this.apiClient,t);return s=We("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>nd(d))}}async cancel(t){var n,i,r,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=IC(this.apiClient,t);o=We("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=LC(this.apiClient,t);o=We("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=oT(t);return s=We("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=lT(d),g=new W5;return Object.assign(g,p),g})}else{const u=aT(t);return s=We("batches",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=sT(d),g=new W5;return Object.assign(g,p),g})}}async delete(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=OC(this.apiClient,t);return s=We("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>qC(d))}else{const u=BC(this.apiClient,t);return s=We("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>zC(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pT(e){const t={},n=c(e,["data"]);if(n!=null&&m(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function ey(e){const t={},n=c(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>UT(a))),m(t,["parts"],r)}const i=c(e,["role"]);return i!=null&&m(t,["role"],i),t}function mT(e,t){const n={},i=c(e,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const r=c(e,["expireTime"]);t!==void 0&&r!=null&&m(t,["expireTime"],r);const a=c(e,["displayName"]);t!==void 0&&a!=null&&m(t,["displayName"],a);const o=c(e,["contents"]);if(t!==void 0&&o!=null){let d=Ar(o);Array.isArray(d)&&(d=d.map(p=>ey(p))),m(t,["contents"],d)}const s=c(e,["systemInstruction"]);t!==void 0&&s!=null&&m(t,["systemInstruction"],ey(pi(s)));const l=c(e,["tools"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>OT(p))),m(t,["tools"],d)}const u=c(e,["toolConfig"]);if(t!==void 0&&u!=null&&m(t,["toolConfig"],BT(u)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function gT(e,t){const n={},i=c(e,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const r=c(e,["expireTime"]);t!==void 0&&r!=null&&m(t,["expireTime"],r);const a=c(e,["displayName"]);t!==void 0&&a!=null&&m(t,["displayName"],a);const o=c(e,["contents"]);if(t!==void 0&&o!=null){let p=Ar(o);Array.isArray(p)&&(p=p.map(g=>g)),m(t,["contents"],p)}const s=c(e,["systemInstruction"]);t!==void 0&&s!=null&&m(t,["systemInstruction"],pi(s));const l=c(e,["tools"]);if(t!==void 0&&l!=null){let p=l;Array.isArray(p)&&(p=p.map(g=>zT(g))),m(t,["tools"],p)}const u=c(e,["toolConfig"]);t!==void 0&&u!=null&&m(t,["toolConfig"],u);const d=c(e,["kmsKeyName"]);return t!==void 0&&d!=null&&m(t,["encryption_spec","kmsKeyName"],d),n}function yT(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["model"],o_(e,i));const r=c(t,["config"]);return r!=null&&mT(r,n),n}function vT(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["model"],o_(e,i));const r=c(t,["config"]);return r!=null&&gT(r,n),n}function bT(e,t){const n={},i=c(t,["name"]);return i!=null&&m(n,["_url","name"],Ua(e,i)),n}function wT(e,t){const n={},i=c(t,["name"]);return i!=null&&m(n,["_url","name"],Ua(e,i)),n}function _T(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&m(t,["sdkHttpResponse"],n),t}function xT(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&m(t,["sdkHttpResponse"],n),t}function ST(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=c(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function AT(e){const t={},n=c(e,["id"]);n!=null&&m(t,["id"],n);const i=c(e,["args"]);i!=null&&m(t,["args"],i);const r=c(e,["name"]);if(r!=null&&m(t,["name"],r),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CT(e){const t={},n=c(e,["mode"]);n!=null&&m(t,["mode"],n);const i=c(e,["allowedFunctionNames"]);if(i!=null&&m(t,["allowedFunctionNames"],i),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function TT(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&m(t,["description"],n);const i=c(e,["name"]);i!=null&&m(t,["name"],i);const r=c(e,["parameters"]);r!=null&&m(t,["parameters"],r);const a=c(e,["parametersJsonSchema"]);a!=null&&m(t,["parametersJsonSchema"],a);const o=c(e,["response"]);o!=null&&m(t,["response"],o);const s=c(e,["responseJsonSchema"]);return s!=null&&m(t,["responseJsonSchema"],s),t}function ET(e,t){const n={},i=c(t,["name"]);return i!=null&&m(n,["_url","name"],Ua(e,i)),n}function NT(e,t){const n={},i=c(t,["name"]);return i!=null&&m(n,["_url","name"],Ua(e,i)),n}function LT(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&m(t,["enableWidget"],n),t}function IT(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],n),t}function RT(e,t){const n={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&m(t,["_query","pageToken"],r),n}function MT(e,t){const n={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&m(t,["_query","pageToken"],r),n}function kT(e){const t={},n=c(e,["config"]);return n!=null&&RT(n,t),t}function DT(e){const t={},n=c(e,["config"]);return n!=null&&MT(n,t),t}function PT(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=c(e,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),m(t,["cachedContents"],a)}return t}function FT(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=c(e,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),m(t,["cachedContents"],a)}return t}function UT(e){const t={},n=c(e,["mediaResolution"]);n!=null&&m(t,["mediaResolution"],n);const i=c(e,["codeExecutionResult"]);i!=null&&m(t,["codeExecutionResult"],i);const r=c(e,["executableCode"]);r!=null&&m(t,["executableCode"],r);const a=c(e,["fileData"]);a!=null&&m(t,["fileData"],ST(a));const o=c(e,["functionCall"]);o!=null&&m(t,["functionCall"],AT(o));const s=c(e,["functionResponse"]);s!=null&&m(t,["functionResponse"],s);const l=c(e,["inlineData"]);l!=null&&m(t,["inlineData"],pT(l));const u=c(e,["text"]);u!=null&&m(t,["text"],u);const d=c(e,["thought"]);d!=null&&m(t,["thought"],d);const p=c(e,["thoughtSignature"]);p!=null&&m(t,["thoughtSignature"],p);const g=c(e,["videoMetadata"]);return g!=null&&m(t,["videoMetadata"],g),t}function BT(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],CT(n));const i=c(e,["retrievalConfig"]);return i!=null&&m(t,["retrievalConfig"],i),t}function OT(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),m(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(e,["googleSearchRetrieval"]);i!=null&&m(t,["googleSearchRetrieval"],i);const r=c(e,["computerUse"]);r!=null&&m(t,["computerUse"],r);const a=c(e,["fileSearch"]);a!=null&&m(t,["fileSearch"],a);const o=c(e,["codeExecution"]);if(o!=null&&m(t,["codeExecution"],o),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(e,["googleMaps"]);s!=null&&m(t,["googleMaps"],LT(s));const l=c(e,["googleSearch"]);l!=null&&m(t,["googleSearch"],IT(l));const u=c(e,["urlContext"]);return u!=null&&m(t,["urlContext"],u),t}function zT(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>TT(g))),m(t,["functionDeclarations"],p)}const i=c(e,["retrieval"]);i!=null&&m(t,["retrieval"],i);const r=c(e,["googleSearchRetrieval"]);r!=null&&m(t,["googleSearchRetrieval"],r);const a=c(e,["computerUse"]);if(a!=null&&m(t,["computerUse"],a),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=c(e,["codeExecution"]);o!=null&&m(t,["codeExecution"],o);const s=c(e,["enterpriseWebSearch"]);s!=null&&m(t,["enterpriseWebSearch"],s);const l=c(e,["googleMaps"]);l!=null&&m(t,["googleMaps"],l);const u=c(e,["googleSearch"]);u!=null&&m(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&m(t,["urlContext"],d),t}function qT(e,t){const n={},i=c(e,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const r=c(e,["expireTime"]);return t!==void 0&&r!=null&&m(t,["expireTime"],r),n}function GT(e,t){const n={},i=c(e,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const r=c(e,["expireTime"]);return t!==void 0&&r!=null&&m(t,["expireTime"],r),n}function HT(e,t){const n={},i=c(t,["name"]);i!=null&&m(n,["_url","name"],Ua(e,i));const r=c(t,["config"]);return r!=null&&qT(r,n),n}function VT(e,t){const n={},i=c(t,["name"]);i!=null&&m(n,["_url","name"],Ua(e,i));const r=c(t,["config"]);return r!=null&&GT(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jT extends Fa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new _s(Da.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=vT(this.apiClient,t);return s=We("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=yT(this.apiClient,t);return s=We("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=NT(this.apiClient,t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=ET(this.apiClient,t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=wT(this.apiClient,t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=xT(d),g=new J5;return Object.assign(g,p),g})}else{const u=bT(this.apiClient,t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=_T(d),g=new J5;return Object.assign(g,p),g})}}async update(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=VT(this.apiClient,t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=HT(this.apiClient,t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=DT(t);return s=We("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=FT(d),g=new K5;return Object.assign(g,p),g})}else{const u=kT(t);return s=We("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=PT(d),g=new K5;return Object.assign(g,p),g})}}}function ty(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fn(e){return this instanceof fn?(this.v=e,this):new fn(e)}function Cl(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(h){return function(S){return Promise.resolve(S).then(h,p)}}function s(h,S){i[h]&&(r[h]=function(_){return new Promise(function(C,v){a.push([h,_,C,v])>1||l(h,_)})},S&&(r[h]=S(r[h])))}function l(h,S){try{u(i[h](S))}catch(_){g(a[0][3],_)}}function u(h){h.value instanceof fn?Promise.resolve(h.value.v).then(d,p):g(a[0][2],h)}function d(h){l("next",h)}function p(h){l("throw",h)}function g(h,S){h(S),a.shift(),a.length&&l(a[0][0],a[0][1])}}function ic(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ty=="function"?ty(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(o){return new Promise(function(s,l){o=e[a](o),r(s,l,o.done,o.value)})}}function r(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YT(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:b_(n)}function b_(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function JT(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function ny(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{const r=[];let a=!0;for(;i<n&&e[i].role==="model";)r.push(e[i]),a&&!b_(e[i])&&(a=!1),i++;a?t.push(...r):t.pop()}return t}class KT{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new WT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class WT{constructor(t,n,i,r={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),JT(a)}async sendMessage(t){var n;await this.sendPromise;const i=pi(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,s;const l=await r,u=(o=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,d=l.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];d!=null&&(g=(s=d.slice(p))!==null&&s!==void 0?s:[]);const h=u?[u]:[];this.recordHistory(i,h,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const i=pi(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,i)}getHistory(t=!1){const n=t?ny(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var i,r;return Cl(this,arguments,function*(){var o,s,l,u;const d=[];try{for(var p=!0,g=ic(t),h;h=yield fn(g.next()),o=h.done,!o;p=!0){u=h.value,p=!1;const S=u;if(YT(S)){const _=(r=(i=S.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;_!==void 0&&d.push(_)}yield yield fn(S)}}catch(S){s={error:S}}finally{try{!p&&!o&&(l=g.return)&&(yield fn(l.call(g)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(t,n,i){let r=[];n.length>0&&n.every(a=>a.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...ny(i)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dh extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,dh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XT(e){const t={},n=c(e,["file"]);return n!=null&&m(t,["file"],n),t}function ZT(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&m(t,["sdkHttpResponse"],n),t}function $T(e){const t={},n=c(e,["name"]);return n!=null&&m(t,["_url","file"],d_(n)),t}function QT(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&m(t,["sdkHttpResponse"],n),t}function e6(e){const t={},n=c(e,["name"]);return n!=null&&m(t,["_url","file"],d_(n)),t}function t6(e,t){const n={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&m(t,["_query","pageToken"],r),n}function n6(e){const t={},n=c(e,["config"]);return n!=null&&t6(n,t),t}function i6(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=c(e,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),m(t,["files"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r6 extends Fa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new _s(Da.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=n6(t);return a=We("files",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=i6(l),d=new lC;return Object.assign(d,u),d})}}async createInternal(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=XT(t);return a=We("upload/v1beta/files",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=ZT(l),d=new uC;return Object.assign(d,u),d})}}async get(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=e6(t);return a=We("files/{file}",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=$T(t);return a=We("files/{file}",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=QT(l),d=new cC;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function id(e){const t={},n=c(e,["data"]);if(n!=null&&m(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function a6(e){const t={},n=c(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>_6(a))),m(t,["parts"],r)}const i=c(e,["role"]);return i!=null&&m(t,["role"],i),t}function o6(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=c(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function s6(e){const t={},n=c(e,["id"]);n!=null&&m(t,["id"],n);const i=c(e,["args"]);i!=null&&m(t,["args"],i);const r=c(e,["name"]);if(r!=null&&m(t,["name"],r),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function l6(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&m(t,["description"],n);const i=c(e,["name"]);i!=null&&m(t,["name"],i);const r=c(e,["parameters"]);r!=null&&m(t,["parameters"],r);const a=c(e,["parametersJsonSchema"]);a!=null&&m(t,["parametersJsonSchema"],a);const o=c(e,["response"]);o!=null&&m(t,["response"],o);const s=c(e,["responseJsonSchema"]);return s!=null&&m(t,["responseJsonSchema"],s),t}function u6(e){const t={},n=c(e,["modelSelectionConfig"]);n!=null&&m(t,["modelConfig"],n);const i=c(e,["responseJsonSchema"]);i!=null&&m(t,["responseJsonSchema"],i);const r=c(e,["audioTimestamp"]);r!=null&&m(t,["audioTimestamp"],r);const a=c(e,["candidateCount"]);a!=null&&m(t,["candidateCount"],a);const o=c(e,["enableAffectiveDialog"]);o!=null&&m(t,["enableAffectiveDialog"],o);const s=c(e,["frequencyPenalty"]);s!=null&&m(t,["frequencyPenalty"],s);const l=c(e,["logprobs"]);l!=null&&m(t,["logprobs"],l);const u=c(e,["maxOutputTokens"]);u!=null&&m(t,["maxOutputTokens"],u);const d=c(e,["mediaResolution"]);d!=null&&m(t,["mediaResolution"],d);const p=c(e,["presencePenalty"]);p!=null&&m(t,["presencePenalty"],p);const g=c(e,["responseLogprobs"]);g!=null&&m(t,["responseLogprobs"],g);const h=c(e,["responseMimeType"]);h!=null&&m(t,["responseMimeType"],h);const S=c(e,["responseModalities"]);S!=null&&m(t,["responseModalities"],S);const _=c(e,["responseSchema"]);_!=null&&m(t,["responseSchema"],_);const C=c(e,["routingConfig"]);C!=null&&m(t,["routingConfig"],C);const v=c(e,["seed"]);v!=null&&m(t,["seed"],v);const w=c(e,["speechConfig"]);w!=null&&m(t,["speechConfig"],w_(w));const A=c(e,["stopSequences"]);A!=null&&m(t,["stopSequences"],A);const R=c(e,["temperature"]);R!=null&&m(t,["temperature"],R);const k=c(e,["thinkingConfig"]);k!=null&&m(t,["thinkingConfig"],k);const X=c(e,["topK"]);X!=null&&m(t,["topK"],X);const U=c(e,["topP"]);if(U!=null&&m(t,["topP"],U),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function c6(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&m(t,["enableWidget"],n),t}function f6(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],n),t}function d6(e,t){const n={},i=c(e,["generationConfig"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig"],i);const r=c(e,["responseModalities"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig","responseModalities"],r);const a=c(e,["temperature"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","temperature"],a);const o=c(e,["topP"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","topP"],o);const s=c(e,["topK"]);t!==void 0&&s!=null&&m(t,["setup","generationConfig","topK"],s);const l=c(e,["maxOutputTokens"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","maxOutputTokens"],l);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","seed"],d);const p=c(e,["speechConfig"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","speechConfig"],C0(p));const g=c(e,["thinkingConfig"]);t!==void 0&&g!=null&&m(t,["setup","generationConfig","thinkingConfig"],g);const h=c(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],h);const S=c(e,["systemInstruction"]);t!==void 0&&S!=null&&m(t,["setup","systemInstruction"],a6(pi(S)));const _=c(e,["tools"]);if(t!==void 0&&_!=null){let X=Zl(_);Array.isArray(X)&&(X=X.map(U=>S6(Xl(U)))),m(t,["setup","tools"],X)}const C=c(e,["sessionResumption"]);t!==void 0&&C!=null&&m(t,["setup","sessionResumption"],x6(C));const v=c(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&m(t,["setup","inputAudioTranscription"],v);const w=c(e,["outputAudioTranscription"]);t!==void 0&&w!=null&&m(t,["setup","outputAudioTranscription"],w);const A=c(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&m(t,["setup","realtimeInputConfig"],A);const R=c(e,["contextWindowCompression"]);t!==void 0&&R!=null&&m(t,["setup","contextWindowCompression"],R);const k=c(e,["proactivity"]);return t!==void 0&&k!=null&&m(t,["setup","proactivity"],k),n}function h6(e,t){const n={},i=c(e,["generationConfig"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig"],u6(i));const r=c(e,["responseModalities"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig","responseModalities"],r);const a=c(e,["temperature"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","temperature"],a);const o=c(e,["topP"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","topP"],o);const s=c(e,["topK"]);t!==void 0&&s!=null&&m(t,["setup","generationConfig","topK"],s);const l=c(e,["maxOutputTokens"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","maxOutputTokens"],l);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","seed"],d);const p=c(e,["speechConfig"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","speechConfig"],w_(C0(p)));const g=c(e,["thinkingConfig"]);t!==void 0&&g!=null&&m(t,["setup","generationConfig","thinkingConfig"],g);const h=c(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],h);const S=c(e,["systemInstruction"]);t!==void 0&&S!=null&&m(t,["setup","systemInstruction"],pi(S));const _=c(e,["tools"]);if(t!==void 0&&_!=null){let X=Zl(_);Array.isArray(X)&&(X=X.map(U=>A6(Xl(U)))),m(t,["setup","tools"],X)}const C=c(e,["sessionResumption"]);t!==void 0&&C!=null&&m(t,["setup","sessionResumption"],C);const v=c(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&m(t,["setup","inputAudioTranscription"],v);const w=c(e,["outputAudioTranscription"]);t!==void 0&&w!=null&&m(t,["setup","outputAudioTranscription"],w);const A=c(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&m(t,["setup","realtimeInputConfig"],A);const R=c(e,["contextWindowCompression"]);t!==void 0&&R!=null&&m(t,["setup","contextWindowCompression"],R);const k=c(e,["proactivity"]);return t!==void 0&&k!=null&&m(t,["setup","proactivity"],k),n}function p6(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["setup","model"],Gt(e,i));const r=c(t,["config"]);return r!=null&&m(n,["config"],d6(r,n)),n}function m6(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["setup","model"],Gt(e,i));const r=c(t,["config"]);return r!=null&&m(n,["config"],h6(r,n)),n}function g6(e){const t={},n=c(e,["musicGenerationConfig"]);return n!=null&&m(t,["musicGenerationConfig"],n),t}function y6(e){const t={},n=c(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),m(t,["weightedPrompts"],i)}return t}function v6(e){const t={},n=c(e,["media"]);if(n!=null){let u=s_(n);Array.isArray(u)&&(u=u.map(d=>id(d))),m(t,["mediaChunks"],u)}const i=c(e,["audio"]);i!=null&&m(t,["audio"],id(u_(i)));const r=c(e,["audioStreamEnd"]);r!=null&&m(t,["audioStreamEnd"],r);const a=c(e,["video"]);a!=null&&m(t,["video"],id(l_(a)));const o=c(e,["text"]);o!=null&&m(t,["text"],o);const s=c(e,["activityStart"]);s!=null&&m(t,["activityStart"],s);const l=c(e,["activityEnd"]);return l!=null&&m(t,["activityEnd"],l),t}function b6(e){const t={},n=c(e,["media"]);if(n!=null){let u=s_(n);Array.isArray(u)&&(u=u.map(d=>d)),m(t,["mediaChunks"],u)}const i=c(e,["audio"]);i!=null&&m(t,["audio"],u_(i));const r=c(e,["audioStreamEnd"]);r!=null&&m(t,["audioStreamEnd"],r);const a=c(e,["video"]);a!=null&&m(t,["video"],l_(a));const o=c(e,["text"]);o!=null&&m(t,["text"],o);const s=c(e,["activityStart"]);s!=null&&m(t,["activityStart"],s);const l=c(e,["activityEnd"]);return l!=null&&m(t,["activityEnd"],l),t}function w6(e){const t={},n=c(e,["setupComplete"]);n!=null&&m(t,["setupComplete"],n);const i=c(e,["serverContent"]);i!=null&&m(t,["serverContent"],i);const r=c(e,["toolCall"]);r!=null&&m(t,["toolCall"],r);const a=c(e,["toolCallCancellation"]);a!=null&&m(t,["toolCallCancellation"],a);const o=c(e,["usageMetadata"]);o!=null&&m(t,["usageMetadata"],C6(o));const s=c(e,["goAway"]);s!=null&&m(t,["goAway"],s);const l=c(e,["sessionResumptionUpdate"]);return l!=null&&m(t,["sessionResumptionUpdate"],l),t}function _6(e){const t={},n=c(e,["mediaResolution"]);n!=null&&m(t,["mediaResolution"],n);const i=c(e,["codeExecutionResult"]);i!=null&&m(t,["codeExecutionResult"],i);const r=c(e,["executableCode"]);r!=null&&m(t,["executableCode"],r);const a=c(e,["fileData"]);a!=null&&m(t,["fileData"],o6(a));const o=c(e,["functionCall"]);o!=null&&m(t,["functionCall"],s6(o));const s=c(e,["functionResponse"]);s!=null&&m(t,["functionResponse"],s);const l=c(e,["inlineData"]);l!=null&&m(t,["inlineData"],id(l));const u=c(e,["text"]);u!=null&&m(t,["text"],u);const d=c(e,["thought"]);d!=null&&m(t,["thought"],d);const p=c(e,["thoughtSignature"]);p!=null&&m(t,["thoughtSignature"],p);const g=c(e,["videoMetadata"]);return g!=null&&m(t,["videoMetadata"],g),t}function x6(e){const t={},n=c(e,["handle"]);if(n!=null&&m(t,["handle"],n),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function w_(e){const t={},n=c(e,["languageCode"]);n!=null&&m(t,["languageCode"],n);const i=c(e,["voiceConfig"]);if(i!=null&&m(t,["voiceConfig"],i),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function S6(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),m(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(e,["googleSearchRetrieval"]);i!=null&&m(t,["googleSearchRetrieval"],i);const r=c(e,["computerUse"]);r!=null&&m(t,["computerUse"],r);const a=c(e,["fileSearch"]);a!=null&&m(t,["fileSearch"],a);const o=c(e,["codeExecution"]);if(o!=null&&m(t,["codeExecution"],o),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(e,["googleMaps"]);s!=null&&m(t,["googleMaps"],c6(s));const l=c(e,["googleSearch"]);l!=null&&m(t,["googleSearch"],f6(l));const u=c(e,["urlContext"]);return u!=null&&m(t,["urlContext"],u),t}function A6(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>l6(g))),m(t,["functionDeclarations"],p)}const i=c(e,["retrieval"]);i!=null&&m(t,["retrieval"],i);const r=c(e,["googleSearchRetrieval"]);r!=null&&m(t,["googleSearchRetrieval"],r);const a=c(e,["computerUse"]);if(a!=null&&m(t,["computerUse"],a),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=c(e,["codeExecution"]);o!=null&&m(t,["codeExecution"],o);const s=c(e,["enterpriseWebSearch"]);s!=null&&m(t,["enterpriseWebSearch"],s);const l=c(e,["googleMaps"]);l!=null&&m(t,["googleMaps"],l);const u=c(e,["googleSearch"]);u!=null&&m(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&m(t,["urlContext"],d),t}function C6(e){const t={},n=c(e,["promptTokenCount"]);n!=null&&m(t,["promptTokenCount"],n);const i=c(e,["cachedContentTokenCount"]);i!=null&&m(t,["cachedContentTokenCount"],i);const r=c(e,["candidatesTokenCount"]);r!=null&&m(t,["responseTokenCount"],r);const a=c(e,["toolUsePromptTokenCount"]);a!=null&&m(t,["toolUsePromptTokenCount"],a);const o=c(e,["thoughtsTokenCount"]);o!=null&&m(t,["thoughtsTokenCount"],o);const s=c(e,["totalTokenCount"]);s!=null&&m(t,["totalTokenCount"],s);const l=c(e,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(S=>S)),m(t,["promptTokensDetails"],h)}const u=c(e,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(S=>S)),m(t,["cacheTokensDetails"],h)}const d=c(e,["candidatesTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(S=>S)),m(t,["responseTokensDetails"],h)}const p=c(e,["toolUsePromptTokensDetails"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(S=>S)),m(t,["toolUsePromptTokensDetails"],h)}const g=c(e,["trafficType"]);return g!=null&&m(t,["trafficType"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T6(e){const t={},n=c(e,["data"]);if(n!=null&&m(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function E6(e){const t={},n=c(e,["content"]);n!=null&&m(t,["content"],n);const i=c(e,["citationMetadata"]);i!=null&&m(t,["citationMetadata"],N6(i));const r=c(e,["tokenCount"]);r!=null&&m(t,["tokenCount"],r);const a=c(e,["finishReason"]);a!=null&&m(t,["finishReason"],a);const o=c(e,["avgLogprobs"]);o!=null&&m(t,["avgLogprobs"],o);const s=c(e,["groundingMetadata"]);s!=null&&m(t,["groundingMetadata"],s);const l=c(e,["index"]);l!=null&&m(t,["index"],l);const u=c(e,["logprobsResult"]);u!=null&&m(t,["logprobsResult"],u);const d=c(e,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(h=>h)),m(t,["safetyRatings"],g)}const p=c(e,["urlContextMetadata"]);return p!=null&&m(t,["urlContextMetadata"],p),t}function N6(e){const t={},n=c(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),m(t,["citations"],i)}return t}function L6(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["contents"]);if(r!=null){let a=Ar(r);Array.isArray(a)&&(a=a.map(o=>o)),m(n,["contents"],a)}return n}function I6(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),m(t,["tokensInfo"],r)}return t}function R6(e){const t={},n=c(e,["values"]);n!=null&&m(t,["values"],n);const i=c(e,["statistics"]);return i!=null&&m(t,["statistics"],M6(i)),t}function M6(e){const t={},n=c(e,["truncated"]);n!=null&&m(t,["truncated"],n);const i=c(e,["token_count"]);return i!=null&&m(t,["tokenCount"],i),t}function hh(e){const t={},n=c(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>qE(a))),m(t,["parts"],r)}const i=c(e,["role"]);return i!=null&&m(t,["role"],i),t}function k6(e){const t={},n=c(e,["controlType"]);n!=null&&m(t,["controlType"],n);const i=c(e,["enableControlImageComputation"]);return i!=null&&m(t,["computeControl"],i),t}function D6(e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function P6(e,t){const n={},i=c(e,["systemInstruction"]);t!==void 0&&i!=null&&m(t,["systemInstruction"],pi(i));const r=c(e,["tools"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>C_(s))),m(t,["tools"],o)}const a=c(e,["generationConfig"]);return t!==void 0&&a!=null&&m(t,["generationConfig"],TE(a)),n}function F6(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["contents"]);if(r!=null){let o=Ar(r);Array.isArray(o)&&(o=o.map(s=>hh(s))),m(n,["contents"],o)}const a=c(t,["config"]);return a!=null&&D6(a),n}function U6(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["contents"]);if(r!=null){let o=Ar(r);Array.isArray(o)&&(o=o.map(s=>s)),m(n,["contents"],o)}const a=c(t,["config"]);return a!=null&&P6(a,n),n}function B6(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["totalTokens"]);i!=null&&m(t,["totalTokens"],i);const r=c(e,["cachedContentTokenCount"]);return r!=null&&m(t,["cachedContentTokenCount"],r),t}function O6(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["totalTokens"]);return i!=null&&m(t,["totalTokens"],i),t}function z6(e,t){const n={},i=c(t,["model"]);return i!=null&&m(n,["_url","name"],Gt(e,i)),n}function q6(e,t){const n={},i=c(t,["model"]);return i!=null&&m(n,["_url","name"],Gt(e,i)),n}function G6(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&m(t,["sdkHttpResponse"],n),t}function H6(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&m(t,["sdkHttpResponse"],n),t}function V6(e,t){const n={},i=c(e,["outputGcsUri"]);t!==void 0&&i!=null&&m(t,["parameters","storageUri"],i);const r=c(e,["negativePrompt"]);t!==void 0&&r!=null&&m(t,["parameters","negativePrompt"],r);const a=c(e,["numberOfImages"]);t!==void 0&&a!=null&&m(t,["parameters","sampleCount"],a);const o=c(e,["aspectRatio"]);t!==void 0&&o!=null&&m(t,["parameters","aspectRatio"],o);const s=c(e,["guidanceScale"]);t!==void 0&&s!=null&&m(t,["parameters","guidanceScale"],s);const l=c(e,["seed"]);t!==void 0&&l!=null&&m(t,["parameters","seed"],l);const u=c(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&m(t,["parameters","safetySetting"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&m(t,["parameters","personGeneration"],d);const p=c(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&m(t,["parameters","includeSafetyAttributes"],p);const g=c(e,["includeRaiReason"]);t!==void 0&&g!=null&&m(t,["parameters","includeRaiReason"],g);const h=c(e,["language"]);t!==void 0&&h!=null&&m(t,["parameters","language"],h);const S=c(e,["outputMimeType"]);t!==void 0&&S!=null&&m(t,["parameters","outputOptions","mimeType"],S);const _=c(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&m(t,["parameters","outputOptions","compressionQuality"],_);const C=c(e,["addWatermark"]);t!==void 0&&C!=null&&m(t,["parameters","addWatermark"],C);const v=c(e,["labels"]);t!==void 0&&v!=null&&m(t,["labels"],v);const w=c(e,["editMode"]);t!==void 0&&w!=null&&m(t,["parameters","editMode"],w);const A=c(e,["baseSteps"]);return t!==void 0&&A!=null&&m(t,["parameters","editConfig","baseSteps"],A),n}function j6(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const a=c(t,["referenceImages"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>JE(l))),m(n,["instances[0]","referenceImages"],s)}const o=c(t,["config"]);return o!=null&&V6(o,n),n}function Y6(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>ph(a))),m(t,["generatedImages"],r)}return t}function J6(e,t){const n={},i=c(e,["taskType"]);t!==void 0&&i!=null&&m(t,["requests[]","taskType"],i);const r=c(e,["title"]);t!==void 0&&r!=null&&m(t,["requests[]","title"],r);const a=c(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&m(t,["requests[]","outputDimensionality"],a),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function K6(e,t){const n={},i=c(e,["taskType"]);t!==void 0&&i!=null&&m(t,["instances[]","task_type"],i);const r=c(e,["title"]);t!==void 0&&r!=null&&m(t,["instances[]","title"],r);const a=c(e,["outputDimensionality"]);t!==void 0&&a!=null&&m(t,["parameters","outputDimensionality"],a);const o=c(e,["mimeType"]);t!==void 0&&o!=null&&m(t,["instances[]","mimeType"],o);const s=c(e,["autoTruncate"]);return t!==void 0&&s!=null&&m(t,["parameters","autoTruncate"],s),n}function W6(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["contents"]);if(r!=null){let s=x0(e,r);Array.isArray(s)&&(s=s.map(l=>l)),m(n,["requests[]","content"],s)}const a=c(t,["config"]);a!=null&&J6(a,n);const o=c(t,["model"]);return o!==void 0&&m(n,["requests[]","model"],Gt(e,o)),n}function X6(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["contents"]);if(r!=null){let o=x0(e,r);Array.isArray(o)&&(o=o.map(s=>s)),m(n,["instances[]","content"],o)}const a=c(t,["config"]);return a!=null&&K6(a,n),n}function Z6(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(t,["embeddings"],a)}const r=c(e,["metadata"]);return r!=null&&m(t,["metadata"],r),t}function $6(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>R6(o))),m(t,["embeddings"],a)}const r=c(e,["metadata"]);return r!=null&&m(t,["metadata"],r),t}function Q6(e){const t={},n=c(e,["endpoint"]);n!=null&&m(t,["name"],n);const i=c(e,["deployedModelId"]);return i!=null&&m(t,["deployedModelId"],i),t}function eE(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=c(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function tE(e){const t={},n=c(e,["id"]);n!=null&&m(t,["id"],n);const i=c(e,["args"]);i!=null&&m(t,["args"],i);const r=c(e,["name"]);if(r!=null&&m(t,["name"],r),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function nE(e){const t={},n=c(e,["mode"]);n!=null&&m(t,["mode"],n);const i=c(e,["allowedFunctionNames"]);if(i!=null&&m(t,["allowedFunctionNames"],i),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function iE(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&m(t,["description"],n);const i=c(e,["name"]);i!=null&&m(t,["name"],i);const r=c(e,["parameters"]);r!=null&&m(t,["parameters"],r);const a=c(e,["parametersJsonSchema"]);a!=null&&m(t,["parametersJsonSchema"],a);const o=c(e,["response"]);o!=null&&m(t,["response"],o);const s=c(e,["responseJsonSchema"]);return s!=null&&m(t,["responseJsonSchema"],s),t}function rE(e,t,n){const i={},r=c(t,["systemInstruction"]);n!==void 0&&r!=null&&m(n,["systemInstruction"],hh(pi(r)));const a=c(t,["temperature"]);a!=null&&m(i,["temperature"],a);const o=c(t,["topP"]);o!=null&&m(i,["topP"],o);const s=c(t,["topK"]);s!=null&&m(i,["topK"],s);const l=c(t,["candidateCount"]);l!=null&&m(i,["candidateCount"],l);const u=c(t,["maxOutputTokens"]);u!=null&&m(i,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&m(i,["stopSequences"],d);const p=c(t,["responseLogprobs"]);p!=null&&m(i,["responseLogprobs"],p);const g=c(t,["logprobs"]);g!=null&&m(i,["logprobs"],g);const h=c(t,["presencePenalty"]);h!=null&&m(i,["presencePenalty"],h);const S=c(t,["frequencyPenalty"]);S!=null&&m(i,["frequencyPenalty"],S);const _=c(t,["seed"]);_!=null&&m(i,["seed"],_);const C=c(t,["responseMimeType"]);C!=null&&m(i,["responseMimeType"],C);const v=c(t,["responseSchema"]);v!=null&&m(i,["responseSchema"],S0(v));const w=c(t,["responseJsonSchema"]);if(w!=null&&m(i,["responseJsonSchema"],w),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=c(t,["safetySettings"]);if(n!==void 0&&A!=null){let N=A;Array.isArray(N)&&(N=N.map(H=>KE(H))),m(n,["safetySettings"],N)}const R=c(t,["tools"]);if(n!==void 0&&R!=null){let N=Zl(R);Array.isArray(N)&&(N=N.map(H=>tN(Xl(H)))),m(n,["tools"],N)}const k=c(t,["toolConfig"]);if(n!==void 0&&k!=null&&m(n,["toolConfig"],eN(k)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=c(t,["cachedContent"]);n!==void 0&&X!=null&&m(n,["cachedContent"],Ua(e,X));const U=c(t,["responseModalities"]);U!=null&&m(i,["responseModalities"],U);const q=c(t,["mediaResolution"]);q!=null&&m(i,["mediaResolution"],q);const B=c(t,["speechConfig"]);if(B!=null&&m(i,["speechConfig"],A0(B)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=c(t,["thinkingConfig"]);W!=null&&m(i,["thinkingConfig"],W);const D=c(t,["imageConfig"]);return D!=null&&m(i,["imageConfig"],RE(D)),i}function aE(e,t,n){const i={},r=c(t,["systemInstruction"]);n!==void 0&&r!=null&&m(n,["systemInstruction"],pi(r));const a=c(t,["temperature"]);a!=null&&m(i,["temperature"],a);const o=c(t,["topP"]);o!=null&&m(i,["topP"],o);const s=c(t,["topK"]);s!=null&&m(i,["topK"],s);const l=c(t,["candidateCount"]);l!=null&&m(i,["candidateCount"],l);const u=c(t,["maxOutputTokens"]);u!=null&&m(i,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&m(i,["stopSequences"],d);const p=c(t,["responseLogprobs"]);p!=null&&m(i,["responseLogprobs"],p);const g=c(t,["logprobs"]);g!=null&&m(i,["logprobs"],g);const h=c(t,["presencePenalty"]);h!=null&&m(i,["presencePenalty"],h);const S=c(t,["frequencyPenalty"]);S!=null&&m(i,["frequencyPenalty"],S);const _=c(t,["seed"]);_!=null&&m(i,["seed"],_);const C=c(t,["responseMimeType"]);C!=null&&m(i,["responseMimeType"],C);const v=c(t,["responseSchema"]);v!=null&&m(i,["responseSchema"],S0(v));const w=c(t,["responseJsonSchema"]);w!=null&&m(i,["responseJsonSchema"],w);const A=c(t,["routingConfig"]);A!=null&&m(i,["routingConfig"],A);const R=c(t,["modelSelectionConfig"]);R!=null&&m(i,["modelConfig"],R);const k=c(t,["safetySettings"]);if(n!==void 0&&k!=null){let te=k;Array.isArray(te)&&(te=te.map(ne=>ne)),m(n,["safetySettings"],te)}const X=c(t,["tools"]);if(n!==void 0&&X!=null){let te=Zl(X);Array.isArray(te)&&(te=te.map(ne=>C_(Xl(ne)))),m(n,["tools"],te)}const U=c(t,["toolConfig"]);n!==void 0&&U!=null&&m(n,["toolConfig"],U);const q=c(t,["labels"]);n!==void 0&&q!=null&&m(n,["labels"],q);const B=c(t,["cachedContent"]);n!==void 0&&B!=null&&m(n,["cachedContent"],Ua(e,B));const W=c(t,["responseModalities"]);W!=null&&m(i,["responseModalities"],W);const D=c(t,["mediaResolution"]);D!=null&&m(i,["mediaResolution"],D);const N=c(t,["speechConfig"]);N!=null&&m(i,["speechConfig"],A_(A0(N)));const H=c(t,["audioTimestamp"]);H!=null&&m(i,["audioTimestamp"],H);const T=c(t,["thinkingConfig"]);T!=null&&m(i,["thinkingConfig"],T);const re=c(t,["imageConfig"]);return re!=null&&m(i,["imageConfig"],ME(re)),i}function iy(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["contents"]);if(r!=null){let o=Ar(r);Array.isArray(o)&&(o=o.map(s=>hh(s))),m(n,["contents"],o)}const a=c(t,["config"]);return a!=null&&m(n,["generationConfig"],rE(e,a,n)),n}function ry(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["contents"]);if(r!=null){let o=Ar(r);Array.isArray(o)&&(o=o.map(s=>s)),m(n,["contents"],o)}const a=c(t,["config"]);return a!=null&&m(n,["generationConfig"],aE(e,a,n)),n}function ay(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>E6(u))),m(t,["candidates"],l)}const r=c(e,["modelVersion"]);r!=null&&m(t,["modelVersion"],r);const a=c(e,["promptFeedback"]);a!=null&&m(t,["promptFeedback"],a);const o=c(e,["responseId"]);o!=null&&m(t,["responseId"],o);const s=c(e,["usageMetadata"]);return s!=null&&m(t,["usageMetadata"],s),t}function oy(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),m(t,["candidates"],u)}const r=c(e,["createTime"]);r!=null&&m(t,["createTime"],r);const a=c(e,["modelVersion"]);a!=null&&m(t,["modelVersion"],a);const o=c(e,["promptFeedback"]);o!=null&&m(t,["promptFeedback"],o);const s=c(e,["responseId"]);s!=null&&m(t,["responseId"],s);const l=c(e,["usageMetadata"]);return l!=null&&m(t,["usageMetadata"],l),t}function oE(e,t){const n={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=c(e,["numberOfImages"]);t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i);const r=c(e,["aspectRatio"]);t!==void 0&&r!=null&&m(t,["parameters","aspectRatio"],r);const a=c(e,["guidanceScale"]);if(t!==void 0&&a!=null&&m(t,["parameters","guidanceScale"],a),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=c(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&m(t,["parameters","safetySetting"],o);const s=c(e,["personGeneration"]);t!==void 0&&s!=null&&m(t,["parameters","personGeneration"],s);const l=c(e,["includeSafetyAttributes"]);t!==void 0&&l!=null&&m(t,["parameters","includeSafetyAttributes"],l);const u=c(e,["includeRaiReason"]);t!==void 0&&u!=null&&m(t,["parameters","includeRaiReason"],u);const d=c(e,["language"]);t!==void 0&&d!=null&&m(t,["parameters","language"],d);const p=c(e,["outputMimeType"]);t!==void 0&&p!=null&&m(t,["parameters","outputOptions","mimeType"],p);const g=c(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&m(t,["parameters","outputOptions","compressionQuality"],g),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const h=c(e,["imageSize"]);if(t!==void 0&&h!=null&&m(t,["parameters","sampleImageSize"],h),c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function sE(e,t){const n={},i=c(e,["outputGcsUri"]);t!==void 0&&i!=null&&m(t,["parameters","storageUri"],i);const r=c(e,["negativePrompt"]);t!==void 0&&r!=null&&m(t,["parameters","negativePrompt"],r);const a=c(e,["numberOfImages"]);t!==void 0&&a!=null&&m(t,["parameters","sampleCount"],a);const o=c(e,["aspectRatio"]);t!==void 0&&o!=null&&m(t,["parameters","aspectRatio"],o);const s=c(e,["guidanceScale"]);t!==void 0&&s!=null&&m(t,["parameters","guidanceScale"],s);const l=c(e,["seed"]);t!==void 0&&l!=null&&m(t,["parameters","seed"],l);const u=c(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&m(t,["parameters","safetySetting"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&m(t,["parameters","personGeneration"],d);const p=c(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&m(t,["parameters","includeSafetyAttributes"],p);const g=c(e,["includeRaiReason"]);t!==void 0&&g!=null&&m(t,["parameters","includeRaiReason"],g);const h=c(e,["language"]);t!==void 0&&h!=null&&m(t,["parameters","language"],h);const S=c(e,["outputMimeType"]);t!==void 0&&S!=null&&m(t,["parameters","outputOptions","mimeType"],S);const _=c(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&m(t,["parameters","outputOptions","compressionQuality"],_);const C=c(e,["addWatermark"]);t!==void 0&&C!=null&&m(t,["parameters","addWatermark"],C);const v=c(e,["labels"]);t!==void 0&&v!=null&&m(t,["labels"],v);const w=c(e,["imageSize"]);t!==void 0&&w!=null&&m(t,["parameters","sampleImageSize"],w);const A=c(e,["enhancePrompt"]);return t!==void 0&&A!=null&&m(t,["parameters","enhancePrompt"],A),n}function lE(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const a=c(t,["config"]);return a!=null&&oE(a,n),n}function uE(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const a=c(t,["config"]);return a!=null&&sE(a,n),n}function cE(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>xE(o))),m(t,["generatedImages"],a)}const r=c(e,["positivePromptSafetyAttributes"]);return r!=null&&m(t,["positivePromptSafetyAttributes"],x_(r)),t}function fE(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>ph(o))),m(t,["generatedImages"],a)}const r=c(e,["positivePromptSafetyAttributes"]);return r!=null&&m(t,["positivePromptSafetyAttributes"],S_(r)),t}function dE(e,t){const n={},i=c(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=c(e,["durationSeconds"]);if(t!==void 0&&r!=null&&m(t,["parameters","durationSeconds"],r),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=c(e,["aspectRatio"]);t!==void 0&&a!=null&&m(t,["parameters","aspectRatio"],a);const o=c(e,["resolution"]);t!==void 0&&o!=null&&m(t,["parameters","resolution"],o);const s=c(e,["personGeneration"]);if(t!==void 0&&s!=null&&m(t,["parameters","personGeneration"],s),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=c(e,["negativePrompt"]);t!==void 0&&l!=null&&m(t,["parameters","negativePrompt"],l);const u=c(e,["enhancePrompt"]);if(t!==void 0&&u!=null&&m(t,["parameters","enhancePrompt"],u),c(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=c(e,["lastFrame"]);t!==void 0&&d!=null&&m(t,["instances[0]","lastFrame"],mh(d));const p=c(e,["referenceImages"]);if(t!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(h=>pN(h))),m(t,["instances[0]","referenceImages"],g)}if(c(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function hE(e,t){const n={},i=c(e,["numberOfVideos"]);t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i);const r=c(e,["outputGcsUri"]);t!==void 0&&r!=null&&m(t,["parameters","storageUri"],r);const a=c(e,["fps"]);t!==void 0&&a!=null&&m(t,["parameters","fps"],a);const o=c(e,["durationSeconds"]);t!==void 0&&o!=null&&m(t,["parameters","durationSeconds"],o);const s=c(e,["seed"]);t!==void 0&&s!=null&&m(t,["parameters","seed"],s);const l=c(e,["aspectRatio"]);t!==void 0&&l!=null&&m(t,["parameters","aspectRatio"],l);const u=c(e,["resolution"]);t!==void 0&&u!=null&&m(t,["parameters","resolution"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&m(t,["parameters","personGeneration"],d);const p=c(e,["pubsubTopic"]);t!==void 0&&p!=null&&m(t,["parameters","pubsubTopic"],p);const g=c(e,["negativePrompt"]);t!==void 0&&g!=null&&m(t,["parameters","negativePrompt"],g);const h=c(e,["enhancePrompt"]);t!==void 0&&h!=null&&m(t,["parameters","enhancePrompt"],h);const S=c(e,["generateAudio"]);t!==void 0&&S!=null&&m(t,["parameters","generateAudio"],S);const _=c(e,["lastFrame"]);t!==void 0&&_!=null&&m(t,["instances[0]","lastFrame"],zr(_));const C=c(e,["referenceImages"]);if(t!==void 0&&C!=null){let A=C;Array.isArray(A)&&(A=A.map(R=>mN(R))),m(t,["instances[0]","referenceImages"],A)}const v=c(e,["mask"]);t!==void 0&&v!=null&&m(t,["instances[0]","mask"],hN(v));const w=c(e,["compressionQuality"]);return t!==void 0&&w!=null&&m(t,["parameters","compressionQuality"],w),n}function pE(e){const t={},n=c(e,["name"]);n!=null&&m(t,["name"],n);const i=c(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=c(e,["done"]);r!=null&&m(t,["done"],r);const a=c(e,["error"]);a!=null&&m(t,["error"],a);const o=c(e,["response","generateVideoResponse"]);return o!=null&&m(t,["response"],vE(o)),t}function mE(e){const t={},n=c(e,["name"]);n!=null&&m(t,["name"],n);const i=c(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=c(e,["done"]);r!=null&&m(t,["done"],r);const a=c(e,["error"]);a!=null&&m(t,["error"],a);const o=c(e,["response"]);return o!=null&&m(t,["response"],bE(o)),t}function gE(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const a=c(t,["image"]);a!=null&&m(n,["instances[0]","image"],mh(a));const o=c(t,["video"]);o!=null&&m(n,["instances[0]","video"],T_(o));const s=c(t,["source"]);s!=null&&wE(s,n);const l=c(t,["config"]);return l!=null&&dE(l,n),n}function yE(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const a=c(t,["image"]);a!=null&&m(n,["instances[0]","image"],zr(a));const o=c(t,["video"]);o!=null&&m(n,["instances[0]","video"],E_(o));const s=c(t,["source"]);s!=null&&_E(s,n);const l=c(t,["config"]);return l!=null&&hE(l,n),n}function vE(e){const t={},n=c(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>AE(o))),m(t,["generatedVideos"],a)}const i=c(e,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const r=c(e,["raiMediaFilteredReasons"]);return r!=null&&m(t,["raiMediaFilteredReasons"],r),t}function bE(e){const t={},n=c(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>CE(o))),m(t,["generatedVideos"],a)}const i=c(e,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const r=c(e,["raiMediaFilteredReasons"]);return r!=null&&m(t,["raiMediaFilteredReasons"],r),t}function wE(e,t){const n={},i=c(e,["prompt"]);t!==void 0&&i!=null&&m(t,["instances[0]","prompt"],i);const r=c(e,["image"]);t!==void 0&&r!=null&&m(t,["instances[0]","image"],mh(r));const a=c(e,["video"]);return t!==void 0&&a!=null&&m(t,["instances[0]","video"],T_(a)),n}function _E(e,t){const n={},i=c(e,["prompt"]);t!==void 0&&i!=null&&m(t,["instances[0]","prompt"],i);const r=c(e,["image"]);t!==void 0&&r!=null&&m(t,["instances[0]","image"],zr(r));const a=c(e,["video"]);return t!==void 0&&a!=null&&m(t,["instances[0]","video"],E_(a)),n}function xE(e){const t={},n=c(e,["_self"]);n!=null&&m(t,["image"],kE(n));const i=c(e,["raiFilteredReason"]);i!=null&&m(t,["raiFilteredReason"],i);const r=c(e,["_self"]);return r!=null&&m(t,["safetyAttributes"],x_(r)),t}function ph(e){const t={},n=c(e,["_self"]);n!=null&&m(t,["image"],__(n));const i=c(e,["raiFilteredReason"]);i!=null&&m(t,["raiFilteredReason"],i);const r=c(e,["_self"]);r!=null&&m(t,["safetyAttributes"],S_(r));const a=c(e,["prompt"]);return a!=null&&m(t,["enhancedPrompt"],a),t}function SE(e){const t={},n=c(e,["_self"]);n!=null&&m(t,["mask"],__(n));const i=c(e,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),m(t,["labels"],r)}return t}function AE(e){const t={},n=c(e,["video"]);return n!=null&&m(t,["video"],fN(n)),t}function CE(e){const t={},n=c(e,["_self"]);return n!=null&&m(t,["video"],dN(n)),t}function TE(e){const t={},n=c(e,["modelSelectionConfig"]);n!=null&&m(t,["modelConfig"],n);const i=c(e,["responseJsonSchema"]);i!=null&&m(t,["responseJsonSchema"],i);const r=c(e,["audioTimestamp"]);r!=null&&m(t,["audioTimestamp"],r);const a=c(e,["candidateCount"]);a!=null&&m(t,["candidateCount"],a);const o=c(e,["enableAffectiveDialog"]);o!=null&&m(t,["enableAffectiveDialog"],o);const s=c(e,["frequencyPenalty"]);s!=null&&m(t,["frequencyPenalty"],s);const l=c(e,["logprobs"]);l!=null&&m(t,["logprobs"],l);const u=c(e,["maxOutputTokens"]);u!=null&&m(t,["maxOutputTokens"],u);const d=c(e,["mediaResolution"]);d!=null&&m(t,["mediaResolution"],d);const p=c(e,["presencePenalty"]);p!=null&&m(t,["presencePenalty"],p);const g=c(e,["responseLogprobs"]);g!=null&&m(t,["responseLogprobs"],g);const h=c(e,["responseMimeType"]);h!=null&&m(t,["responseMimeType"],h);const S=c(e,["responseModalities"]);S!=null&&m(t,["responseModalities"],S);const _=c(e,["responseSchema"]);_!=null&&m(t,["responseSchema"],_);const C=c(e,["routingConfig"]);C!=null&&m(t,["routingConfig"],C);const v=c(e,["seed"]);v!=null&&m(t,["seed"],v);const w=c(e,["speechConfig"]);w!=null&&m(t,["speechConfig"],A_(w));const A=c(e,["stopSequences"]);A!=null&&m(t,["stopSequences"],A);const R=c(e,["temperature"]);R!=null&&m(t,["temperature"],R);const k=c(e,["thinkingConfig"]);k!=null&&m(t,["thinkingConfig"],k);const X=c(e,["topK"]);X!=null&&m(t,["topK"],X);const U=c(e,["topP"]);if(U!=null&&m(t,["topP"],U),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function EE(e,t){const n={},i=c(t,["model"]);return i!=null&&m(n,["_url","name"],Gt(e,i)),n}function NE(e,t){const n={},i=c(t,["model"]);return i!=null&&m(n,["_url","name"],Gt(e,i)),n}function LE(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&m(t,["enableWidget"],n),t}function IE(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],n),t}function RE(e){const t={},n=c(e,["aspectRatio"]);n!=null&&m(t,["aspectRatio"],n);const i=c(e,["imageSize"]);if(i!=null&&m(t,["imageSize"],i),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function ME(e){const t={},n=c(e,["aspectRatio"]);n!=null&&m(t,["aspectRatio"],n);const i=c(e,["imageSize"]);i!=null&&m(t,["imageSize"],i);const r=c(e,["outputMimeType"]);r!=null&&m(t,["imageOutputOptions","mimeType"],r);const a=c(e,["outputCompressionQuality"]);return a!=null&&m(t,["imageOutputOptions","compressionQuality"],a),t}function kE(e){const t={},n=c(e,["bytesBase64Encoded"]);n!=null&&m(t,["imageBytes"],Oo(n));const i=c(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function __(e){const t={},n=c(e,["gcsUri"]);n!=null&&m(t,["gcsUri"],n);const i=c(e,["bytesBase64Encoded"]);i!=null&&m(t,["imageBytes"],Oo(i));const r=c(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function mh(e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(e,["imageBytes"]);n!=null&&m(t,["bytesBase64Encoded"],Oo(n));const i=c(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function zr(e){const t={},n=c(e,["gcsUri"]);n!=null&&m(t,["gcsUri"],n);const i=c(e,["imageBytes"]);i!=null&&m(t,["bytesBase64Encoded"],Oo(i));const r=c(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function DE(e,t,n){const i={},r=c(t,["pageSize"]);n!==void 0&&r!=null&&m(n,["_query","pageSize"],r);const a=c(t,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const o=c(t,["filter"]);n!==void 0&&o!=null&&m(n,["_query","filter"],o);const s=c(t,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],h_(e,s)),i}function PE(e,t,n){const i={},r=c(t,["pageSize"]);n!==void 0&&r!=null&&m(n,["_query","pageSize"],r);const a=c(t,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const o=c(t,["filter"]);n!==void 0&&o!=null&&m(n,["_query","filter"],o);const s=c(t,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],h_(e,s)),i}function FE(e,t){const n={},i=c(t,["config"]);return i!=null&&DE(e,i,n),n}function UE(e,t){const n={},i=c(t,["config"]);return i!=null&&PE(e,i,n),n}function BE(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=c(e,["_self"]);if(r!=null){let a=p_(r);Array.isArray(a)&&(a=a.map(o=>$m(o))),m(t,["models"],a)}return t}function OE(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=c(e,["_self"]);if(r!=null){let a=p_(r);Array.isArray(a)&&(a=a.map(o=>Qm(o))),m(t,["models"],a)}return t}function zE(e){const t={},n=c(e,["maskMode"]);n!=null&&m(t,["maskMode"],n);const i=c(e,["segmentationClasses"]);i!=null&&m(t,["maskClasses"],i);const r=c(e,["maskDilation"]);return r!=null&&m(t,["dilation"],r),t}function $m(e){const t={},n=c(e,["name"]);n!=null&&m(t,["name"],n);const i=c(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=c(e,["description"]);r!=null&&m(t,["description"],r);const a=c(e,["version"]);a!=null&&m(t,["version"],a);const o=c(e,["_self"]);o!=null&&m(t,["tunedModelInfo"],nN(o));const s=c(e,["inputTokenLimit"]);s!=null&&m(t,["inputTokenLimit"],s);const l=c(e,["outputTokenLimit"]);l!=null&&m(t,["outputTokenLimit"],l);const u=c(e,["supportedGenerationMethods"]);u!=null&&m(t,["supportedActions"],u);const d=c(e,["temperature"]);d!=null&&m(t,["temperature"],d);const p=c(e,["maxTemperature"]);p!=null&&m(t,["maxTemperature"],p);const g=c(e,["topP"]);g!=null&&m(t,["topP"],g);const h=c(e,["topK"]);h!=null&&m(t,["topK"],h);const S=c(e,["thinking"]);return S!=null&&m(t,["thinking"],S),t}function Qm(e){const t={},n=c(e,["name"]);n!=null&&m(t,["name"],n);const i=c(e,["displayName"]);i!=null&&m(t,["displayName"],i);const r=c(e,["description"]);r!=null&&m(t,["description"],r);const a=c(e,["versionId"]);a!=null&&m(t,["version"],a);const o=c(e,["deployedModels"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(g=>Q6(g))),m(t,["endpoints"],p)}const s=c(e,["labels"]);s!=null&&m(t,["labels"],s);const l=c(e,["_self"]);l!=null&&m(t,["tunedModelInfo"],iN(l));const u=c(e,["defaultCheckpointId"]);u!=null&&m(t,["defaultCheckpointId"],u);const d=c(e,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),m(t,["checkpoints"],p)}return t}function qE(e){const t={},n=c(e,["mediaResolution"]);n!=null&&m(t,["mediaResolution"],n);const i=c(e,["codeExecutionResult"]);i!=null&&m(t,["codeExecutionResult"],i);const r=c(e,["executableCode"]);r!=null&&m(t,["executableCode"],r);const a=c(e,["fileData"]);a!=null&&m(t,["fileData"],eE(a));const o=c(e,["functionCall"]);o!=null&&m(t,["functionCall"],tE(o));const s=c(e,["functionResponse"]);s!=null&&m(t,["functionResponse"],s);const l=c(e,["inlineData"]);l!=null&&m(t,["inlineData"],T6(l));const u=c(e,["text"]);u!=null&&m(t,["text"],u);const d=c(e,["thought"]);d!=null&&m(t,["thought"],d);const p=c(e,["thoughtSignature"]);p!=null&&m(t,["thoughtSignature"],p);const g=c(e,["videoMetadata"]);return g!=null&&m(t,["videoMetadata"],g),t}function GE(e){const t={},n=c(e,["productImage"]);return n!=null&&m(t,["image"],zr(n)),t}function HE(e,t){const n={},i=c(e,["numberOfImages"]);t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i);const r=c(e,["baseSteps"]);t!==void 0&&r!=null&&m(t,["parameters","baseSteps"],r);const a=c(e,["outputGcsUri"]);t!==void 0&&a!=null&&m(t,["parameters","storageUri"],a);const o=c(e,["seed"]);t!==void 0&&o!=null&&m(t,["parameters","seed"],o);const s=c(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&m(t,["parameters","safetySetting"],s);const l=c(e,["personGeneration"]);t!==void 0&&l!=null&&m(t,["parameters","personGeneration"],l);const u=c(e,["addWatermark"]);t!==void 0&&u!=null&&m(t,["parameters","addWatermark"],u);const d=c(e,["outputMimeType"]);t!==void 0&&d!=null&&m(t,["parameters","outputOptions","mimeType"],d);const p=c(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&m(t,["parameters","outputOptions","compressionQuality"],p);const g=c(e,["enhancePrompt"]);t!==void 0&&g!=null&&m(t,["parameters","enhancePrompt"],g);const h=c(e,["labels"]);return t!==void 0&&h!=null&&m(t,["labels"],h),n}function VE(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["source"]);r!=null&&YE(r,n);const a=c(t,["config"]);return a!=null&&HE(a,n),n}function jE(e){const t={},n=c(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>ph(r))),m(t,["generatedImages"],i)}return t}function YE(e,t){const n={},i=c(e,["prompt"]);t!==void 0&&i!=null&&m(t,["instances[0]","prompt"],i);const r=c(e,["personImage"]);t!==void 0&&r!=null&&m(t,["instances[0]","personImage","image"],zr(r));const a=c(e,["productImages"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>GE(s))),m(t,["instances[0]","productImages"],o)}return n}function JE(e){const t={},n=c(e,["referenceImage"]);n!=null&&m(t,["referenceImage"],zr(n));const i=c(e,["referenceId"]);i!=null&&m(t,["referenceId"],i);const r=c(e,["referenceType"]);r!=null&&m(t,["referenceType"],r);const a=c(e,["maskImageConfig"]);a!=null&&m(t,["maskImageConfig"],zE(a));const o=c(e,["controlImageConfig"]);o!=null&&m(t,["controlImageConfig"],k6(o));const s=c(e,["styleImageConfig"]);s!=null&&m(t,["styleImageConfig"],s);const l=c(e,["subjectImageConfig"]);return l!=null&&m(t,["subjectImageConfig"],l),t}function x_(e){const t={},n=c(e,["safetyAttributes","categories"]);n!=null&&m(t,["categories"],n);const i=c(e,["safetyAttributes","scores"]);i!=null&&m(t,["scores"],i);const r=c(e,["contentType"]);return r!=null&&m(t,["contentType"],r),t}function S_(e){const t={},n=c(e,["safetyAttributes","categories"]);n!=null&&m(t,["categories"],n);const i=c(e,["safetyAttributes","scores"]);i!=null&&m(t,["scores"],i);const r=c(e,["contentType"]);return r!=null&&m(t,["contentType"],r),t}function KE(e){const t={},n=c(e,["category"]);if(n!=null&&m(t,["category"],n),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=c(e,["threshold"]);return i!=null&&m(t,["threshold"],i),t}function WE(e){const t={},n=c(e,["image"]);return n!=null&&m(t,["image"],zr(n)),t}function XE(e,t){const n={},i=c(e,["mode"]);t!==void 0&&i!=null&&m(t,["parameters","mode"],i);const r=c(e,["maxPredictions"]);t!==void 0&&r!=null&&m(t,["parameters","maxPredictions"],r);const a=c(e,["confidenceThreshold"]);t!==void 0&&a!=null&&m(t,["parameters","confidenceThreshold"],a);const o=c(e,["maskDilation"]);t!==void 0&&o!=null&&m(t,["parameters","maskDilation"],o);const s=c(e,["binaryColorThreshold"]);t!==void 0&&s!=null&&m(t,["parameters","binaryColorThreshold"],s);const l=c(e,["labels"]);return t!==void 0&&l!=null&&m(t,["labels"],l),n}function ZE(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["source"]);r!=null&&QE(r,n);const a=c(t,["config"]);return a!=null&&XE(a,n),n}function $E(e){const t={},n=c(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>SE(r))),m(t,["generatedMasks"],i)}return t}function QE(e,t){const n={},i=c(e,["prompt"]);t!==void 0&&i!=null&&m(t,["instances[0]","prompt"],i);const r=c(e,["image"]);t!==void 0&&r!=null&&m(t,["instances[0]","image"],zr(r));const a=c(e,["scribbleImage"]);return t!==void 0&&a!=null&&m(t,["instances[0]","scribble"],WE(a)),n}function A_(e){const t={},n=c(e,["languageCode"]);n!=null&&m(t,["languageCode"],n);const i=c(e,["voiceConfig"]);if(i!=null&&m(t,["voiceConfig"],i),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function eN(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&m(t,["functionCallingConfig"],nE(n));const i=c(e,["retrievalConfig"]);return i!=null&&m(t,["retrievalConfig"],i),t}function tN(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),m(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(e,["googleSearchRetrieval"]);i!=null&&m(t,["googleSearchRetrieval"],i);const r=c(e,["computerUse"]);r!=null&&m(t,["computerUse"],r);const a=c(e,["fileSearch"]);a!=null&&m(t,["fileSearch"],a);const o=c(e,["codeExecution"]);if(o!=null&&m(t,["codeExecution"],o),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(e,["googleMaps"]);s!=null&&m(t,["googleMaps"],LE(s));const l=c(e,["googleSearch"]);l!=null&&m(t,["googleSearch"],IE(l));const u=c(e,["urlContext"]);return u!=null&&m(t,["urlContext"],u),t}function C_(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>iE(g))),m(t,["functionDeclarations"],p)}const i=c(e,["retrieval"]);i!=null&&m(t,["retrieval"],i);const r=c(e,["googleSearchRetrieval"]);r!=null&&m(t,["googleSearchRetrieval"],r);const a=c(e,["computerUse"]);if(a!=null&&m(t,["computerUse"],a),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=c(e,["codeExecution"]);o!=null&&m(t,["codeExecution"],o);const s=c(e,["enterpriseWebSearch"]);s!=null&&m(t,["enterpriseWebSearch"],s);const l=c(e,["googleMaps"]);l!=null&&m(t,["googleMaps"],l);const u=c(e,["googleSearch"]);u!=null&&m(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&m(t,["urlContext"],d),t}function nN(e){const t={},n=c(e,["baseModel"]);n!=null&&m(t,["baseModel"],n);const i=c(e,["createTime"]);i!=null&&m(t,["createTime"],i);const r=c(e,["updateTime"]);return r!=null&&m(t,["updateTime"],r),t}function iN(e){const t={},n=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(t,["baseModel"],n);const i=c(e,["createTime"]);i!=null&&m(t,["createTime"],i);const r=c(e,["updateTime"]);return r!=null&&m(t,["updateTime"],r),t}function rN(e,t){const n={},i=c(e,["displayName"]);t!==void 0&&i!=null&&m(t,["displayName"],i);const r=c(e,["description"]);t!==void 0&&r!=null&&m(t,["description"],r);const a=c(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&m(t,["defaultCheckpointId"],a),n}function aN(e,t){const n={},i=c(e,["displayName"]);t!==void 0&&i!=null&&m(t,["displayName"],i);const r=c(e,["description"]);t!==void 0&&r!=null&&m(t,["description"],r);const a=c(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&m(t,["defaultCheckpointId"],a),n}function oN(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","name"],Gt(e,i));const r=c(t,["config"]);return r!=null&&rN(r,n),n}function sN(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["config"]);return r!=null&&aN(r,n),n}function lN(e,t){const n={},i=c(e,["outputGcsUri"]);t!==void 0&&i!=null&&m(t,["parameters","storageUri"],i);const r=c(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&m(t,["parameters","safetySetting"],r);const a=c(e,["personGeneration"]);t!==void 0&&a!=null&&m(t,["parameters","personGeneration"],a);const o=c(e,["includeRaiReason"]);t!==void 0&&o!=null&&m(t,["parameters","includeRaiReason"],o);const s=c(e,["outputMimeType"]);t!==void 0&&s!=null&&m(t,["parameters","outputOptions","mimeType"],s);const l=c(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&m(t,["parameters","outputOptions","compressionQuality"],l);const u=c(e,["enhanceInputImage"]);t!==void 0&&u!=null&&m(t,["parameters","upscaleConfig","enhanceInputImage"],u);const d=c(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&m(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const p=c(e,["labels"]);t!==void 0&&p!=null&&m(t,["labels"],p);const g=c(e,["numberOfImages"]);t!==void 0&&g!=null&&m(t,["parameters","sampleCount"],g);const h=c(e,["mode"]);return t!==void 0&&h!=null&&m(t,["parameters","mode"],h),n}function uN(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["_url","model"],Gt(e,i));const r=c(t,["image"]);r!=null&&m(n,["instances[0]","image"],zr(r));const a=c(t,["upscaleFactor"]);a!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=c(t,["config"]);return o!=null&&lN(o,n),n}function cN(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>ph(a))),m(t,["generatedImages"],r)}return t}function fN(e){const t={},n=c(e,["uri"]);n!=null&&m(t,["uri"],n);const i=c(e,["encodedVideo"]);i!=null&&m(t,["videoBytes"],Oo(i));const r=c(e,["encoding"]);return r!=null&&m(t,["mimeType"],r),t}function dN(e){const t={},n=c(e,["gcsUri"]);n!=null&&m(t,["uri"],n);const i=c(e,["bytesBase64Encoded"]);i!=null&&m(t,["videoBytes"],Oo(i));const r=c(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}function hN(e){const t={},n=c(e,["image"]);n!=null&&m(t,["_self"],zr(n));const i=c(e,["maskMode"]);return i!=null&&m(t,["maskMode"],i),t}function pN(e){const t={},n=c(e,["image"]);n!=null&&m(t,["image"],mh(n));const i=c(e,["referenceType"]);return i!=null&&m(t,["referenceType"],i),t}function mN(e){const t={},n=c(e,["image"]);n!=null&&m(t,["image"],zr(n));const i=c(e,["referenceType"]);return i!=null&&m(t,["referenceType"],i),t}function T_(e){const t={},n=c(e,["uri"]);n!=null&&m(t,["uri"],n);const i=c(e,["videoBytes"]);i!=null&&m(t,["encodedVideo"],Oo(i));const r=c(e,["mimeType"]);return r!=null&&m(t,["encoding"],r),t}function E_(e){const t={},n=c(e,["uri"]);n!=null&&m(t,["gcsUri"],n);const i=c(e,["videoBytes"]);i!=null&&m(t,["bytesBase64Encoded"],Oo(i));const r=c(e,["mimeType"]);return r!=null&&m(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gN(e,t){const n={},i=c(e,["displayName"]);return t!==void 0&&i!=null&&m(t,["displayName"],i),n}function yN(e){const t={},n=c(e,["config"]);return n!=null&&gN(n,t),t}function vN(e,t){const n={},i=c(e,["force"]);return t!==void 0&&i!=null&&m(t,["_query","force"],i),n}function bN(e){const t={},n=c(e,["name"]);n!=null&&m(t,["_url","name"],n);const i=c(e,["config"]);return i!=null&&vN(i,t),t}function wN(e){const t={},n=c(e,["name"]);return n!=null&&m(t,["_url","name"],n),t}function _N(e,t){const n={},i=c(e,["customMetadata"]);if(t!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(t,["customMetadata"],a)}const r=c(e,["chunkingConfig"]);return t!==void 0&&r!=null&&m(t,["chunkingConfig"],r),n}function xN(e){const t={},n=c(e,["name"]);n!=null&&m(t,["name"],n);const i=c(e,["metadata"]);i!=null&&m(t,["metadata"],i);const r=c(e,["done"]);r!=null&&m(t,["done"],r);const a=c(e,["error"]);a!=null&&m(t,["error"],a);const o=c(e,["response"]);return o!=null&&m(t,["response"],AN(o)),t}function SN(e){const t={},n=c(e,["fileSearchStoreName"]);n!=null&&m(t,["_url","file_search_store_name"],n);const i=c(e,["fileName"]);i!=null&&m(t,["fileName"],i);const r=c(e,["config"]);return r!=null&&_N(r,t),t}function AN(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["parent"]);i!=null&&m(t,["parent"],i);const r=c(e,["documentName"]);return r!=null&&m(t,["documentName"],r),t}function CN(e,t){const n={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&m(t,["_query","pageToken"],r),n}function TN(e){const t={},n=c(e,["config"]);return n!=null&&CN(n,t),t}function EN(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=c(e,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),m(t,["fileSearchStores"],a)}return t}function N_(e,t){const n={},i=c(e,["mimeType"]);t!==void 0&&i!=null&&m(t,["mimeType"],i);const r=c(e,["displayName"]);t!==void 0&&r!=null&&m(t,["displayName"],r);const a=c(e,["customMetadata"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),m(t,["customMetadata"],s)}const o=c(e,["chunkingConfig"]);return t!==void 0&&o!=null&&m(t,["chunkingConfig"],o),n}function NN(e){const t={},n=c(e,["fileSearchStoreName"]);n!=null&&m(t,["_url","file_search_store_name"],n);const i=c(e,["config"]);return i!=null&&N_(i,t),t}function LN(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&m(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IN="Content-Type",RN="X-Server-Timeout",MN="User-Agent",eg="x-goog-api-client",kN="1.31.0",DN=`google-genai-sdk/${kN}`,PN="v1beta1",FN="v1beta",sy=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class UN{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:PN,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:FN,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[o,s]of Object.entries(t.queryParams))r.searchParams.append(o,String(s));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),t.abortSignal),this.unaryApiCall(r,a,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[r,a]of Object.entries(n))typeof a=="object"?i[r]=Object.assign(Object.assign({},i[r]),a):a!==void 0&&(i[r]=a);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),t.abortSignal),this.streamApiCall(r,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i,r){if(n&&n.timeout||r){const a=new AbortController,o=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>a.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),t.signal=o}return n&&n.extraBody!==null&&BN(t,n.extraBody),t.headers=await this.getHeadersInternal(n,i),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await ly(r),new Wm(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await ly(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var n;return Cl(this,arguments,function*(){const r=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let o="";for(;;){const{done:s,value:l}=yield fn(r.read());if(s){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=a.decode(l,{stream:!0});try{const p=JSON.parse(u);if("error"in p){const g=JSON.parse(JSON.stringify(p.error)),h=g.status,S=g.code,_=`got status: ${h}. ${JSON.stringify(p)}`;if(S>=400&&S<600)throw new dh({message:_,status:S})}}catch(p){if(p.name==="ApiError")throw p}o+=u;let d=o.match(sy);for(;d;){const p=d[1];try{const g=new Response(p,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield fn(new Wm(g)),o=o.slice(d[0].length),d=o.match(sy)}catch(g){throw new Error(`exception parsing stream chunk ${p}. ${g}`)}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=DN+" "+this.clientOptions.userAgentExtra;return t[MN]=n,t[eg]=n,t[IN]="application/json",t}async getHeadersInternal(t,n){const i=new Headers;if(t&&t.headers){for(const[r,a]of Object.entries(t.headers))i.append(r,a);t.timeout&&t.timeout>0&&i.append(RN,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(t){var n;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(t,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,o=await a.stat(t);r.sizeBytes=String(o.size);const s=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=s;const l={file:r},u=this.getFileName(t),d=We("upload/v1beta/files",l._url),p=await this.fetchUploadUrl(d,r.sizeBytes,r.mimeType,u,l,n==null?void 0:n.httpOptions);return a.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,i){var r;const a=this.clientOptions.uploader,o=await a.stat(n),s=String(o.size),l=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),p={};i!=null&&N_(i,p);const g=await this.fetchUploadUrl(u,s,l,d,p,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,i,r,a,o){var s;let l={};o?l=o:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const u=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function ly(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new dh({message:r,status:n}):new Error(r)}}function BN(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,o){const s=Object.assign({},a);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const u=o[l],d=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?s[l]=i(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const r=i(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ON="mcp_used/unknown";let zN=!1;function L_(e){for(const t of e)if(qN(t)||typeof t=="object"&&"inputSchema"in t)return!0;return zN}function I_(e){var t;const n=(t=e[eg])!==null&&t!==void 0?t:"";e[eg]=(n+` ${ON}`).trimStart()}function qN(e){return e!==null&&typeof e=="object"&&e instanceof T0}function GN(e,t=100){return Cl(this,arguments,function*(){let i,r=0;for(;r<t;){const a=yield fn(e.listTools({cursor:i}));for(const o of a.tools)yield yield fn(o),r++;if(!a.nextCursor)break;i=a.nextCursor}})}class T0{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new T0(t,n)}async initialize(){var t,n,i,r;if(this.mcpTools.length>0)return;const a={},o=[];for(const d of this.mcpClients)try{for(var s=!0,l=(n=void 0,ic(GN(d))),u;u=await l.next(),t=u.done,!t;s=!0){r=u.value,s=!1;const p=r;o.push(p);const g=p.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=d}}catch(p){n={error:p}}finally{try{!s&&!t&&(i=l.return)&&await i.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),wC(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await r.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HN(e,t,n){const i=new dC;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),t(i)}class VN{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=JN(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const d=new Promise(A=>{u=A}),p=t.callbacks,g=function(){u({})},h=this.apiClient,S={onopen:g,onmessage:A=>{HN(h,p.onmessage,A)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(A){},onclose:(i=p==null?void 0:p.onclose)!==null&&i!==void 0?i:function(A){}},_=this.webSocketFactory.create(l,YN(o),S);_.connect(),await d;const w={setup:{model:Gt(this.apiClient,t.model)}};return _.send(JSON.stringify(w)),new jN(_,this.apiClient)}}class jN{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=y6(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=g6(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ml.PLAY)}pause(){this.sendPlaybackControl(ml.PAUSE)}stop(){this.sendPlaybackControl(ml.STOP)}resetContext(){this.sendPlaybackControl(ml.RESET_CONTEXT)}close(){this.conn.close()}}function YN(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function JN(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function WN(e,t,n){const i=new fC;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const a=JSON.parse(r);if(e.isVertexAI()){const o=w6(a);Object.assign(i,o)}else Object.assign(i,a);t(i)}class XN{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new VN(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,r,a,o,s;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&L_(t.config.tools)&&I_(p);const g=e8(p);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const B=this.apiClient.getApiKey();let W="BidiGenerateContent",D="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),W="BidiGenerateContentConstrained",D="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${W}?${D}=${B}`}let h=()=>{};const S=new Promise(B=>{h=B}),_=t.callbacks,C=function(){var B;(B=_==null?void 0:_.onopen)===null||B===void 0||B.call(_),h({})},v=this.apiClient,w={onopen:C,onmessage:B=>{WN(v,_.onmessage,B)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(B){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(B){}},A=this.webSocketFactory.create(d,QN(g),w);A.connect(),await S;let R=Gt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const B=this.apiClient.getProject(),W=this.apiClient.getLocation();R=`projects/${B}/locations/${W}/`+R}let k={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[bc.AUDIO]}:t.config.responseModalities=[bc.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(s=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[],U=[];for(const B of X)if(this.isCallableTool(B)){const W=B;U.push(await W.tool())}else U.push(B);U.length>0&&(t.config.tools=U);const q={model:R,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?k=m6(this.apiClient,q):k=p6(this.apiClient,q),delete k.config,A.send(JSON.stringify(k)),new $N(A,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const ZN={turnComplete:!0};class $N{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Ar(n.turns),t.isVertexAI()||(i=i.map(r=>hh(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(KN)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},ZN),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:b6(t)}:n={realtimeInput:v6(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function QN(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function e8(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uy=10;function cy(e){var t,n,i;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const o of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Tl(o)){r=!0;break}if(!r)return!0;const a=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Tl(e){return"callTool"in e&&typeof e.callTool=="function"}function t8(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>Tl(r)))!==null&&i!==void 0?i:!1}function fy(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((i,r)=>{if(Tl(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(r)}),n}function dy(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n8 extends Fa{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,r,a,o,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!t8(n)||cy(n.config))return await this.generateContentInternal(l);const u=fy(n);if(u.length>0){const _=u.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let d,p;const g=Ar(l.contents),h=(a=(r=(i=l.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:uy;let S=0;for(;S<h&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const _=d.candidates[0].content,C=[];for(const v of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Tl(v)){const A=await v.callTool(d.functionCalls);C.push(...A)}S++,p={role:"user",parts:C},l.contents=Ar(l.contents),l.contents.push(_),l.contents.push(p),dy(l.config)&&(g.push(_),g.push(p))}return dy(l.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async n=>{var i,r,a,o,s;if(this.maybeMoveToResponseJsonSchem(n),cy(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const l=fy(n);if(l.length>0){const p=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(r=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,d=(s=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let a;const o=[];if(i!=null&&i.generatedImages)for(const l of i.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((r=l==null?void 0:l.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:o.push(l);let s;return a?s={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:s={generatedImages:o,sdkHttpResponse:i.sdkHttpResponse},s}),this.list=async n=>{var i;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((i=o.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new _s(Da.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(o),o)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,a,o,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(a=n.source)===null||a===void 0?void 0:a.video)===null||o===void 0)&&o.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,r;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const o=await Promise.all(a.map(async l=>Tl(l)?await l.tool():l)),s={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:o})};if(s.config.tools=o,t.config&&t.config.tools&&L_(t.config.tools)){const l=(r=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),I_(u),s.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(t){var n,i,r;const a=new Map;for(const o of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Tl(o)){const s=o,l=await s.tool();for(const u of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,s)}}return a}async processAfcStream(t){var n,i,r;const a=(r=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:uy;let o=!1,s=0;const l=await this.initAfcToolsMap(t);return function(u,d,p){var g,h;return Cl(this,arguments,function*(){for(var S,_,C,v;s<a;){o&&(s++,o=!1);const k=yield fn(u.processParamsMaybeAddMcpUsage(p)),X=yield fn(u.generateContentStreamInternal(k)),U=[],q=[];try{for(var w=!0,A=(_=void 0,ic(X)),R;R=yield fn(A.next()),S=R.done,!S;w=!0){v=R.value,w=!1;const B=v;if(yield yield fn(B),B.candidates&&(!((g=B.candidates[0])===null||g===void 0)&&g.content)){q.push(B.candidates[0].content);for(const W of(h=B.candidates[0].content.parts)!==null&&h!==void 0?h:[])if(s<a&&W.functionCall){if(!W.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(W.functionCall.name)){const D=yield fn(d.get(W.functionCall.name).callTool([W.functionCall]));U.push(...D)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${W.functionCall.name}`)}}}}catch(B){_={error:B}}finally{try{!w&&!S&&(C=A.return)&&(yield fn(C.call(A)))}finally{if(_)throw _.error}}if(U.length>0){o=!0;const B=new Pu;B.candidates=[{content:{role:"user",parts:U}}],yield yield fn(B);const W=[];W.push(...q),W.push({role:"user",parts:U});const D=Ar(p.contents).concat(W);p.contents=D}else break}})}(this,l,t)}async generateContentInternal(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=ry(this.apiClient,t);return s=We("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=oy(d),g=new Pu;return Object.assign(g,p),g})}else{const u=iy(this.apiClient,t);return s=We("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=ay(d),g=new Pu;return Object.assign(g,p),g})}}async generateContentStreamInternal(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=ry(this.apiClient,t);return s=We("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(p){return Cl(this,arguments,function*(){var g,h,S,_;try{for(var C=!0,v=ic(p),w;w=yield fn(v.next()),g=w.done,!g;C=!0){_=w.value,C=!1;const A=_,R=oy(yield fn(A.json()));R.sdkHttpResponse={headers:A.headers};const k=new Pu;Object.assign(k,R),yield yield fn(k)}}catch(A){h={error:A}}finally{try{!C&&!g&&(S=v.return)&&(yield fn(S.call(v)))}finally{if(h)throw h.error}}})})}else{const u=iy(this.apiClient,t);return s=We("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(p){return Cl(this,arguments,function*(){var g,h,S,_;try{for(var C=!0,v=ic(p),w;w=yield fn(v.next()),g=w.done,!g;C=!0){_=w.value,C=!1;const A=_,R=ay(yield fn(A.json()));R.sdkHttpResponse={headers:A.headers};const k=new Pu;Object.assign(k,R),yield yield fn(k)}}catch(A){h={error:A}}finally{try{!C&&!g&&(S=v.return)&&(yield fn(S.call(v)))}finally{if(h)throw h.error}}})})}}async embedContent(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=X6(this.apiClient,t);return s=We("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=$6(d),g=new z5;return Object.assign(g,p),g})}else{const u=W6(this.apiClient,t);return s=We("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=Z6(d),g=new z5;return Object.assign(g,p),g})}}async generateImagesInternal(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=uE(this.apiClient,t);return s=We("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=fE(d),g=new q5;return Object.assign(g,p),g})}else{const u=lE(this.apiClient,t);return s=We("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=cE(d),g=new q5;return Object.assign(g,p),g})}}async editImageInternal(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=j6(this.apiClient,t);return a=We("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Y6(l),d=new eC;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=uN(this.apiClient,t);return a=We("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=cN(l),d=new tC;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=VE(this.apiClient,t);return a=We("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=jE(l),d=new nC;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=ZE(this.apiClient,t);return a=We("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=$E(l),d=new iC;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=NE(this.apiClient,t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Qm(d))}else{const u=EE(this.apiClient,t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>$m(d))}}async listInternal(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=UE(this.apiClient,t);return s=We("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=OE(d),g=new G5;return Object.assign(g,p),g})}else{const u=FE(this.apiClient,t);return s=We("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=BE(d),g=new G5;return Object.assign(g,p),g})}}async update(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=sN(this.apiClient,t);return s=We("{model}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Qm(d))}else{const u=oN(this.apiClient,t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>$m(d))}}async delete(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=q6(this.apiClient,t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=H6(d),g=new H5;return Object.assign(g,p),g})}else{const u=z6(this.apiClient,t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=G6(d),g=new H5;return Object.assign(g,p),g})}}async countTokens(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=U6(this.apiClient,t);return s=We("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=O6(d),g=new V5;return Object.assign(g,p),g})}else{const u=F6(this.apiClient,t);return s=We("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=B6(d),g=new V5;return Object.assign(g,p),g})}}async computeTokens(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=L6(this.apiClient,t);return a=We("{model}:computeTokens",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=I6(l),d=new rC;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=yE(this.apiClient,t);return s=We("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const p=mE(d),g=new zd;return Object.assign(g,p),g})}else{const u=gE(this.apiClient,t);return s=We("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>{const p=pE(d),g=new zd;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i8 extends Fa{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=KA(t);return s=We("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o}else{const u=JA(t);return s=We("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=zA(t);return a=We("{resourceName}:fetchPredictOperation",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r8(e){const t={},n=c(e,["data"]);if(n!=null&&m(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function a8(e){const t={},n=c(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>p8(a))),m(t,["parts"],r)}const i=c(e,["role"]);return i!=null&&m(t,["role"],i),t}function o8(e,t,n){const i={},r=c(t,["expireTime"]);n!==void 0&&r!=null&&m(n,["expireTime"],r);const a=c(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&m(n,["newSessionExpireTime"],a);const o=c(t,["uses"]);n!==void 0&&o!=null&&m(n,["uses"],o);const s=c(t,["liveConnectConstraints"]);n!==void 0&&s!=null&&m(n,["bidiGenerateContentSetup"],h8(e,s));const l=c(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),i}function s8(e,t){const n={},i=c(t,["config"]);return i!=null&&m(n,["config"],o8(e,i,n)),n}function l8(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&m(t,["fileUri"],n);const i=c(e,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function u8(e){const t={},n=c(e,["id"]);n!=null&&m(t,["id"],n);const i=c(e,["args"]);i!=null&&m(t,["args"],i);const r=c(e,["name"]);if(r!=null&&m(t,["name"],r),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function c8(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&m(t,["enableWidget"],n),t}function f8(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&m(t,["timeRangeFilter"],n),t}function d8(e,t){const n={},i=c(e,["generationConfig"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig"],i);const r=c(e,["responseModalities"]);t!==void 0&&r!=null&&m(t,["setup","generationConfig","responseModalities"],r);const a=c(e,["temperature"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","temperature"],a);const o=c(e,["topP"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","topP"],o);const s=c(e,["topK"]);t!==void 0&&s!=null&&m(t,["setup","generationConfig","topK"],s);const l=c(e,["maxOutputTokens"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","maxOutputTokens"],l);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&m(t,["setup","generationConfig","seed"],d);const p=c(e,["speechConfig"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","speechConfig"],C0(p));const g=c(e,["thinkingConfig"]);t!==void 0&&g!=null&&m(t,["setup","generationConfig","thinkingConfig"],g);const h=c(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],h);const S=c(e,["systemInstruction"]);t!==void 0&&S!=null&&m(t,["setup","systemInstruction"],a8(pi(S)));const _=c(e,["tools"]);if(t!==void 0&&_!=null){let X=Zl(_);Array.isArray(X)&&(X=X.map(U=>g8(Xl(U)))),m(t,["setup","tools"],X)}const C=c(e,["sessionResumption"]);t!==void 0&&C!=null&&m(t,["setup","sessionResumption"],m8(C));const v=c(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&m(t,["setup","inputAudioTranscription"],v);const w=c(e,["outputAudioTranscription"]);t!==void 0&&w!=null&&m(t,["setup","outputAudioTranscription"],w);const A=c(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&m(t,["setup","realtimeInputConfig"],A);const R=c(e,["contextWindowCompression"]);t!==void 0&&R!=null&&m(t,["setup","contextWindowCompression"],R);const k=c(e,["proactivity"]);return t!==void 0&&k!=null&&m(t,["setup","proactivity"],k),n}function h8(e,t){const n={},i=c(t,["model"]);i!=null&&m(n,["setup","model"],Gt(e,i));const r=c(t,["config"]);return r!=null&&m(n,["config"],d8(r,n)),n}function p8(e){const t={},n=c(e,["mediaResolution"]);n!=null&&m(t,["mediaResolution"],n);const i=c(e,["codeExecutionResult"]);i!=null&&m(t,["codeExecutionResult"],i);const r=c(e,["executableCode"]);r!=null&&m(t,["executableCode"],r);const a=c(e,["fileData"]);a!=null&&m(t,["fileData"],l8(a));const o=c(e,["functionCall"]);o!=null&&m(t,["functionCall"],u8(o));const s=c(e,["functionResponse"]);s!=null&&m(t,["functionResponse"],s);const l=c(e,["inlineData"]);l!=null&&m(t,["inlineData"],r8(l));const u=c(e,["text"]);u!=null&&m(t,["text"],u);const d=c(e,["thought"]);d!=null&&m(t,["thought"],d);const p=c(e,["thoughtSignature"]);p!=null&&m(t,["thoughtSignature"],p);const g=c(e,["videoMetadata"]);return g!=null&&m(t,["videoMetadata"],g),t}function m8(e){const t={},n=c(e,["handle"]);if(n!=null&&m(t,["handle"],n),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function g8(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),m(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(e,["googleSearchRetrieval"]);i!=null&&m(t,["googleSearchRetrieval"],i);const r=c(e,["computerUse"]);r!=null&&m(t,["computerUse"],r);const a=c(e,["fileSearch"]);a!=null&&m(t,["fileSearch"],a);const o=c(e,["codeExecution"]);if(o!=null&&m(t,["codeExecution"],o),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=c(e,["googleMaps"]);s!=null&&m(t,["googleMaps"],c8(s));const l=c(e,["googleSearch"]);l!=null&&m(t,["googleSearch"],f8(l));const u=c(e,["urlContext"]);return u!=null&&m(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y8(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(a=>`${n}.${a}`);t.push(...r)}else t.push(n)}return t.join(",")}function v8(e,t){let n=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const a=y8(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];r.length>0&&(s=r.map(u=>o.includes(u)?`generationConfig.${u}`:u));const l=[];a&&l.push(a),s.length>0&&l.push(...s),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class b8 extends Fa{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=s8(this.apiClient,t);a=We("auth_tokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const l=v8(s,t.config);return r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w8(e,t){const n={},i=c(e,["force"]);return t!==void 0&&i!=null&&m(t,["_query","force"],i),n}function _8(e){const t={},n=c(e,["name"]);n!=null&&m(t,["_url","name"],n);const i=c(e,["config"]);return i!=null&&w8(i,t),t}function x8(e){const t={},n=c(e,["name"]);return n!=null&&m(t,["_url","name"],n),t}function S8(e,t){const n={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&m(t,["_query","pageToken"],r),n}function A8(e){const t={},n=c(e,["parent"]);n!=null&&m(t,["_url","parent"],n);const i=c(e,["config"]);return i!=null&&S8(i,t),t}function C8(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&m(t,["sdkHttpResponse"],n);const i=c(e,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const r=c(e,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),m(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T8 extends Fa{constructor(t){super(),this.apiClient=t,this.list=async n=>new _s(Da.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=x8(t);return a=We("{name}",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(t){var n,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=_8(t);r=We("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=A8(t);return a=We("{parent}/documents",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=C8(l),d=new aC;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E8 extends Fa{constructor(t,n=new T8(t)){super(),this.apiClient=t,this.documents=n,this.list=async(i={})=>new _s(Da.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=yN(t);return a=We("fileSearchStores",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async get(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=wN(t);return a=We("{name}",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(t){var n,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=bN(t);r=We("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=TN(t);return a=We("fileSearchStores",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=EN(l),d=new oC;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=NN(t);return a=We("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=LN(l),d=new sC;return Object.assign(d,u),d})}}async importFile(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=SN(t);return a=We("{file_search_store_name}:importFile",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=xN(l),d=new w0;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N8(e,t){const n={},i=c(e,["name"]);return i!=null&&m(n,["_url","name"],i),n}function L8(e,t){const n={},i=c(e,["name"]);return i!=null&&m(n,["_url","name"],i),n}function I8(e,t){const n={},i=c(e,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function R8(e,t){const n={},i=c(e,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function M8(e,t,n){const i={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=c(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&m(t,["displayName"],r),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=c(e,["epochCount"]);t!==void 0&&a!=null&&m(t,["tuningTask","hyperparameters","epochCount"],a);const o=c(e,["learningRateMultiplier"]);if(o!=null&&m(i,["tuningTask","hyperparameters","learningRateMultiplier"],o),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=c(e,["batchSize"]);t!==void 0&&s!=null&&m(t,["tuningTask","hyperparameters","batchSize"],s);const l=c(e,["learningRate"]);if(t!==void 0&&l!=null&&m(t,["tuningTask","hyperparameters","learningRate"],l),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function k8(e,t,n){const i={};let r=c(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const h=c(e,["validationDataset"]);t!==void 0&&h!=null&&m(t,["supervisedTuningSpec"],hy(h))}else if(r==="PREFERENCE_TUNING"){const h=c(e,["validationDataset"]);t!==void 0&&h!=null&&m(t,["preferenceOptimizationSpec"],hy(h))}const a=c(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&m(t,["tunedModelDisplayName"],a);const o=c(e,["description"]);t!==void 0&&o!=null&&m(t,["description"],o);let s=c(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const h=c(e,["epochCount"]);t!==void 0&&h!=null&&m(t,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(s==="PREFERENCE_TUNING"){const h=c(e,["epochCount"]);t!==void 0&&h!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let l=c(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const h=c(e,["learningRateMultiplier"]);t!==void 0&&h!=null&&m(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(l==="PREFERENCE_TUNING"){const h=c(e,["learningRateMultiplier"]);t!==void 0&&h!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let u=c(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const h=c(e,["exportLastCheckpointOnly"]);t!==void 0&&h!=null&&m(t,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(u==="PREFERENCE_TUNING"){const h=c(e,["exportLastCheckpointOnly"]);t!==void 0&&h!=null&&m(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let d=c(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const h=c(e,["adapterSize"]);t!==void 0&&h!=null&&m(t,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(d==="PREFERENCE_TUNING"){const h=c(e,["adapterSize"]);t!==void 0&&h!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=c(e,["labels"]);t!==void 0&&p!=null&&m(t,["labels"],p);const g=c(e,["beta"]);return t!==void 0&&g!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","beta"],g),i}function D8(e,t){const n={},i=c(e,["baseModel"]);i!=null&&m(n,["baseModel"],i);const r=c(e,["preTunedModel"]);r!=null&&m(n,["preTunedModel"],r);const a=c(e,["trainingDataset"]);a!=null&&j8(a);const o=c(e,["config"]);return o!=null&&M8(o,n),n}function P8(e,t){const n={},i=c(e,["baseModel"]);i!=null&&m(n,["baseModel"],i);const r=c(e,["preTunedModel"]);r!=null&&m(n,["preTunedModel"],r);const a=c(e,["trainingDataset"]);a!=null&&Y8(a,n,t);const o=c(e,["config"]);return o!=null&&k8(o,n,t),n}function F8(e,t){const n={},i=c(e,["name"]);return i!=null&&m(n,["_url","name"],i),n}function U8(e,t){const n={},i=c(e,["name"]);return i!=null&&m(n,["_url","name"],i),n}function B8(e,t,n){const i={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const a=c(e,["pageToken"]);t!==void 0&&a!=null&&m(t,["_query","pageToken"],a);const o=c(e,["filter"]);return t!==void 0&&o!=null&&m(t,["_query","filter"],o),i}function O8(e,t,n){const i={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&m(t,["_query","pageSize"],r);const a=c(e,["pageToken"]);t!==void 0&&a!=null&&m(t,["_query","pageToken"],a);const o=c(e,["filter"]);return t!==void 0&&o!=null&&m(t,["_query","filter"],o),i}function z8(e,t){const n={},i=c(e,["config"]);return i!=null&&B8(i,n),n}function q8(e,t){const n={},i=c(e,["config"]);return i!=null&&O8(i,n),n}function G8(e,t){const n={},i=c(e,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const r=c(e,["nextPageToken"]);r!=null&&m(n,["nextPageToken"],r);const a=c(e,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>R_(s))),m(n,["tuningJobs"],o)}return n}function H8(e,t){const n={},i=c(e,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const r=c(e,["nextPageToken"]);r!=null&&m(n,["nextPageToken"],r);const a=c(e,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>tg(s))),m(n,["tuningJobs"],o)}return n}function V8(e,t){const n={},i=c(e,["name"]);i!=null&&m(n,["model"],i);const r=c(e,["name"]);return r!=null&&m(n,["endpoint"],r),n}function j8(e,t){const n={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=c(e,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),m(n,["examples","examples"],r)}return n}function Y8(e,t,n){const i={};let r=c(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const o=c(e,["gcsUri"]);t!==void 0&&o!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(r==="PREFERENCE_TUNING"){const o=c(e,["gcsUri"]);t!==void 0&&o!=null&&m(t,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let a=c(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=c(e,["vertexDatasetResource"]);t!==void 0&&o!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=c(e,["vertexDatasetResource"]);t!==void 0&&o!=null&&m(t,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function R_(e,t){const n={},i=c(e,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const r=c(e,["name"]);r!=null&&m(n,["name"],r);const a=c(e,["state"]);a!=null&&m(n,["state"],f_(a));const o=c(e,["createTime"]);o!=null&&m(n,["createTime"],o);const s=c(e,["tuningTask","startTime"]);s!=null&&m(n,["startTime"],s);const l=c(e,["tuningTask","completeTime"]);l!=null&&m(n,["endTime"],l);const u=c(e,["updateTime"]);u!=null&&m(n,["updateTime"],u);const d=c(e,["description"]);d!=null&&m(n,["description"],d);const p=c(e,["baseModel"]);p!=null&&m(n,["baseModel"],p);const g=c(e,["_self"]);return g!=null&&m(n,["tunedModel"],V8(g)),n}function tg(e,t){const n={},i=c(e,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const r=c(e,["name"]);r!=null&&m(n,["name"],r);const a=c(e,["state"]);a!=null&&m(n,["state"],f_(a));const o=c(e,["createTime"]);o!=null&&m(n,["createTime"],o);const s=c(e,["startTime"]);s!=null&&m(n,["startTime"],s);const l=c(e,["endTime"]);l!=null&&m(n,["endTime"],l);const u=c(e,["updateTime"]);u!=null&&m(n,["updateTime"],u);const d=c(e,["error"]);d!=null&&m(n,["error"],d);const p=c(e,["description"]);p!=null&&m(n,["description"],p);const g=c(e,["baseModel"]);g!=null&&m(n,["baseModel"],g);const h=c(e,["tunedModel"]);h!=null&&m(n,["tunedModel"],h);const S=c(e,["preTunedModel"]);S!=null&&m(n,["preTunedModel"],S);const _=c(e,["supervisedTuningSpec"]);_!=null&&m(n,["supervisedTuningSpec"],_);const C=c(e,["preferenceOptimizationSpec"]);C!=null&&m(n,["preferenceOptimizationSpec"],C);const v=c(e,["tuningDataStats"]);v!=null&&m(n,["tuningDataStats"],v);const w=c(e,["encryptionSpec"]);w!=null&&m(n,["encryptionSpec"],w);const A=c(e,["partnerModelTuningSpec"]);A!=null&&m(n,["partnerModelTuningSpec"],A);const R=c(e,["customBaseModel"]);R!=null&&m(n,["customBaseModel"],R);const k=c(e,["experiment"]);k!=null&&m(n,["experiment"],k);const X=c(e,["labels"]);X!=null&&m(n,["labels"],X);const U=c(e,["outputUri"]);U!=null&&m(n,["outputUri"],U);const q=c(e,["pipelineJob"]);q!=null&&m(n,["pipelineJob"],q);const B=c(e,["serviceAccount"]);B!=null&&m(n,["serviceAccount"],B);const W=c(e,["tunedModelDisplayName"]);W!=null&&m(n,["tunedModelDisplayName"],W);const D=c(e,["veoTuningSpec"]);return D!=null&&m(n,["veoTuningSpec"],D),n}function J8(e,t){const n={},i=c(e,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const r=c(e,["name"]);r!=null&&m(n,["name"],r);const a=c(e,["metadata"]);a!=null&&m(n,["metadata"],a);const o=c(e,["done"]);o!=null&&m(n,["done"],o);const s=c(e,["error"]);return s!=null&&m(n,["error"],s),n}function hy(e,t){const n={},i=c(e,["gcsUri"]);i!=null&&m(n,["validationDatasetUri"],i);const r=c(e,["vertexDatasetResource"]);return r!=null&&m(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K8 extends Fa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new _s(Da.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),a=await this.tuneMldevInternal(r);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:Km.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=U8(t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>tg(d))}else{const u=F8(t);return s=We("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>R_(d))}}async listInternal(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=q8(t);return s=We("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=H8(d),g=new j5;return Object.assign(g,p),g})}else{const u=z8(t);return s=We("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=G8(d),g=new j5;return Object.assign(g,p),g})}}async cancel(t){var n,i,r,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=L8(t);return s=We("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=R8(d),g=new Y5;return Object.assign(g,p),g})}else{const u=N8(t);return s=We("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),o.then(d=>{const p=I8(d),g=new Y5;return Object.assign(g,p),g})}}async tuneInternal(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=P8(t,t);return a=We("tuningJobs",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>tg(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=D8(t);return a=We("tunedModels",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>J8(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W8{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const X8=1024*1024*8,Z8=3,$8=1e3,Q8=2,Gd="x-goog-upload-status";async function e7(e,t,n){var i;const r=await M_(e,t,n),a=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[Gd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function t7(e,t,n){var i;const r=await M_(e,t,n),a=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[Gd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=a_(a),s=new _0;return Object.assign(s,o),s}async function M_(e,t,n){var i,r;let a=0,o=0,s=new Wm(new Response),l="upload";for(a=e.size;o<a;){const u=Math.min(X8,a-o),d=e.slice(o,o+u);o+u>=a&&(l+=", finalize");let p=0,g=$8;for(;p<Z8&&(s=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((i=s==null?void 0:s.headers)===null||i===void 0)&&i[Gd]));)p++,await i7(g),g=g*Q8;if(o+=u,((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Gd])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function n7(e){return{size:e.size,type:e.type}}function i7(e){return new Promise(t=>setTimeout(t,e))}class r7{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await e7(t,n,i)}async uploadToFileSearchStore(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await t7(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await n7(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a7{create(t,n,i){return new o7(t,n,i)}}class o7{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const py="x-goog-api-key";class s7{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(py)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(py,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l7="gl-node/";class u7{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=BA(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new s7(this.apiKey);this.apiClient=new UN({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:l7+"web",uploader:new r7,downloader:new W8}),this.models=new n8(this.apiClient),this.live=new XN(this.apiClient,r,new a7),this.batches=new hT(this.apiClient),this.chats=new KT(this.models,this.apiClient),this.caches=new jT(this.apiClient),this.files=new r6(this.apiClient),this.operations=new i8(this.apiClient),this.authTokens=new b8(this.apiClient),this.tunings=new K8(this.apiClient),this.fileSearchStores=new E8(this.apiClient)}}const wc=new Map,c7=e=>wc.get(e)||null,f7=(e,t)=>{wc.set(e,t)},d7=e=>{wc.has(e)&&(wc.delete(e),console.log(`Image cache deleted for prompt: ${e}`))},my=()=>{console.log("Image cache cleared."),wc.clear()},qi=e=>{if(!e)throw new Error("API Key not found. Please provide an API Key in the settings.");return new u7({apiKey:e})},h7=(e,t)=>({name:"Syntax Error: Invalid Topic",attribute:"UTILITY",level:1,type:"[System Interrupt]",cardCategory:"Trap Card",region:"The Void of Null References",clan:"Gatekeepers of Scope",description:{effect:`Negates the generation of cards for '${e}'. The topic appears to be subjective or non-technical.`,parameters:`Input: "${e}"`,returns:"Recommendation: Switch to Creative Mode."},impact:0,easeOfUse:0,imagePrompt:"A glitchy, chaotic computer screen displaying a 404 error code in a dark fantasy magical style, neon cracks, digital distortion",category:"Niche",isImageLoading:!0}),p7=async(e,t,n)=>{const i=qi(n);try{const r=await i.models.generateContent({model:"gemini-2.5-flash",contents:`You are a strict technical validator for a code documentation tool. 
            User Input: Library="${e}", Language="${t}".
            
            Task:
            1. Determine if this input refers to a valid programming library, framework, language feature, or standard API (e.g., "React", "STL", "DOM", "Pandas" are VALID. "My Life", "Pizza", "How to be happy" are INVALID).
            2. If VALID: Correct the capitalization and spelling (e.g., "reactjs" -> "React", "python" -> "Python").
            3. If INVALID: Provide a short reason.
            4. If the content requested is not specific but still valid programming related approve.

            Return JSON only.`,config:{responseMimeType:"application/json",responseSchema:{type:it.OBJECT,properties:{isValid:{type:it.BOOLEAN},refinedName:{type:it.STRING},refinedLanguage:{type:it.STRING},reason:{type:it.STRING}},required:["isValid","refinedName","refinedLanguage"]}}});if(!r.text)throw new Error("Empty analysis response");return JSON.parse(r.text.trim())}catch(r){return console.warn("Topic analysis failed, defaulting to permissive mode.",r),{isValid:!0,refinedName:e,refinedLanguage:t}}},m7={type:it.OBJECT,description:"The card's text. IMPORTANT: The combined total length of the 'effect', 'parameters', and 'returns' fields must be 530 characters or less, including spaces. Be extremely concise.",properties:{effect:{type:it.STRING,description:"The primary effect or action of the function in a single, impactful, and brief sentence. e.g., 'Allows you to add state to functional components.'"},parameters:{type:it.STRING,description:"A very brief list of key parameters and their purpose. e.g., 'initialState: The initial value of the state.' Use 'None' if no parameters."},returns:{type:it.STRING,description:"What the function returns, described briefly. e.g., 'An array containing the current state and a function to update it.'"}},required:["effect","parameters","returns"]},gh={type:it.OBJECT,properties:{name:{type:it.STRING,description:"The name of the function or method. e.g. 'useState'"},attribute:{type:it.STRING,description:"An uppercase word representing the function's Region. Must be one of: 'STRUCTURE', 'EFFECT', 'UTILITY', 'RENDER'."},level:{type:it.INTEGER,description:"A number from 1 to 12 representing the function's complexity and power. 1 is simple, 12 is very advanced."},type:{type:it.STRING,description:"The type of code construct or concept, in brackets. e.g., '[Hook]', '[Function]', '[Method]', '[Phenomenon]', '[Object]', '[Idea]'"},cardCategory:{type:it.STRING,description:"Assign a Yu-Gi-Oh! card category based on the function's assigned clan and lore, following the detailed guidelines in the system instruction. Options: 'Effect Monster', 'Normal Monster', 'Spell Card', 'Trap Card', 'Fusion Monster', 'Ritual Monster', 'Synchro Monster', 'Xyz Monster', 'Link Monster'."},region:{type:it.STRING,description:"The Great Region the function belongs to, based on the lore. e.g., 'The Dominion of State & Structure', 'The Ethereal Plane of Effects & Events', 'Wild', 'Mythological'."},clan:{type:it.STRING,description:"The specific clan within the region, or 'Special Character' if it is a legendary function. e.g., 'Clan of the Eternal Scribes', 'Clan of the Asynchronous Phantoms'."},description:m7,impact:{type:it.INTEGER,description:"A number between 0 and 5000 representing the function's potential impact on an application's architecture or performance."},easeOfUse:{type:it.INTEGER,description:"A number between 0 and 5000 representing how easy the function is to learn and implement correctly."},language:{type:it.STRING,description:"The primary programming language the library is used with. e.g., 'JavaScript', 'Python', 'C++'. Omit this for non-code creative concepts."},imagePrompt:{type:it.STRING,description:"A detailed, dramatic, and creative prompt for an AI image generator to create card art, based on the function's assigned clan or special character lore."},category:{type:it.STRING,description:"The assigned tier for this card, which must be one of: 'Core', 'Staple', 'Situational', 'Niche'. This is based on the tier provided in the prompt."}},required:["name","attribute","level","type","cardCategory","region","clan","description","impact","easeOfUse","imagePrompt","category"]},yh=e=>{if(!e.text)throw new Error("Invalid card response format from API: Text is undefined.");const t=e.text.trim(),n=JSON.parse(t);if(n&&n.cards)return n.cards;throw new Error("Invalid card response format from API.")},k_=`**The World Lore:**

The coding world is divided into Four Great Regions, each home to four specialized clans.

**1. The Dominion of State & Structure (Attribute: STRUCTURE)**
*   **Clan of the Keystone Architects (Core Architecture/Modules):** Golems of obsidian and gold, celestial builders, and master dwarves forging the foundational pillars of libraries. They represent classes, modules, and core structures.
    *   **Power Scale:** The strongest clan in this region. Their members are often boss monsters.
    *   **Typical Stats:** ATK (impact): 2500-4500, DEF (easeOfUse): 1000-2500.
*   **Clan of the Mutable Weavers (State Management/Memory):** Fey-like beings weaving threads of light, morphing creatures, and alchemists with bubbling potions of primordial state. They handle variables and in-memory state.
    *   **Power Scale:** Highly influential and powerful, but can be volatile. Their power shapes the entire duel.
    *   **Typical Stats:** ATK (impact): 2000-4000, DEF (easeOfUse): 1500-3500.
*   **Clan of the Eternal Scribes (Data Persistence/Storage):** Stoic, monastic figures with stone tablets, glowing runes, and spectral librarians in vast, silent archives. They manage databases and file storage.
    *   **Power Scale:** Reliable and resilient, but not aggressive. They are the bedrock.
    *   **Typical Stats:** ATK (impact): 1500-3000, DEF (easeOfUse): 2000-4000.
*   **Clan of the Synchronous Sentinels (Control Flow/Sync Ops):** Disciplined, armored soldiers, clockwork automatons, and unwavering guardians who enforce order. They represent loops, conditionals, and basic synchronous operations. "they are a class of cute but dangerous creature"
    *   **Power Scale:** The most common and foundational, but individually weakest members. They rely on numbers and order.
    *   **Typical Stats:** ATK (impact): 500-2000, DEF (easeOfUse): 3000-5000.

**2. The Ethereal Plane of Effects & Events (Attribute: EFFECT)**
*   **Clan of the Asynchronous Phantoms (Async Operations):** Ghosts, spirits, and beings that flicker between dimensions. They are swift, shadowy hunters who manage Promises, async/await, and background tasks. "they are a class of cute creature"
    *   **Power Scale:** Extremely powerful and fast, but hard to control. High ATK, low DEF. Glass cannons.
    *   **Typical Stats:** ATK (impact): 2800-4800, DEF (easeOfUse): 500-2000.
*   **Clan of the Lifecycle Druids (Component Lifecycles):** Ancient Tree-ents that cycle through seasons, phoenixes reborn from code-ash, and beings tied to the natural cycles of mounting, updating, and unmounting.
    *   **Power Scale:** Potent and essential. Their power is subtle but game-defining over time.
    *   **Typical Stats:** ATK (impact): 1800-3200, DEF (easeOfUse): 2200-3800.
*   **Clan of the Network Voyagers (API Calls/Networking):** Majestic Gryphons carrying messages across the web, spectral ships sailing on data streams, and inter-dimensional couriers who fetch data.
    *   **Power Scale:** Strong and vital, but their power depends on external factors. They are explorers, not frontline fighters.
    *   **Typical Stats:** ATK (impact): 2000-3500, DEF (easeOfUse): 1800-3200.
*   **Clan of the Event Listeners (User Interaction/Events):** Fae with massive ears, spider-like creatures sensing vibrations on a data-web, and oracle seers who react to user input and system events.
    *   **Power Scale:** Primarily reactive. Low base stats but can have powerful triggered effects. Weakest in direct combat.
    *   **Typical Stats:** ATK (impact): 800-2200, DEF (easeOfUse): 1500-3000.

**3. The Forgelands of Transformation & Utility (Attribute: UTILITY)**
*   **Clan of the Array Legion (Array/List Manipulation):** A disciplined legion of identical soldiers that can form any pattern, colossal centipedes, and hydras where new elements are new heads. They march on data sets.
    *   **Power Scale:** The mightiest clan in this region. Their strength comes from manipulating entire armies of data.
    *   **Typical Stats:** ATK (impact): 2400-4200, DEF (easeOfUse): 1800-3500.
*   **Clan of the String Binders (String Manipulation):** Naga-like creatures that can twist and bind, illusionists who reshape words, and scribes with enchanted, self-correcting ink for Regex.
    *   **Power Scale:** Deceptively strong. While not raw powerhouses, their ability to manipulate makes them versatile. Mid-tier.
    *   **Typical Stats:** ATK (impact): 1200-2800, DEF (easeOfUse): 1500-3000.
*   **Clan of the Math Magi (Mathematical Operations):** Crystalline beings of pure logic, wizards obsessed with geometric patterns and fractals, and numeromancers who divine outcomes from numbers.
    *   **Power Scale:** Can be incredibly powerful in specific situations, but often act as support. Their power is absolute but narrow.
    *   **Typical Stats:** ATK (impact): 1000-3500, DEF (easeOfUse): 1000-2500.
*   **Clan of the Boolean Oracles (Logic/Comparison):** Sphinxes asking deadly riddles of truth or falsehood, two-faced Janus figures seeing both sides of a condition, and celestial judges with scales of truth.
    *   **Power Scale:** The weakest in terms of raw stats, but their effects are pivotal, enabling the strategies of others.
    *   **Typical Stats:** ATK (impact): 200-1500, DEF (easeOfUse): 2000-4000.

**4. The Canvas of Creation & Rendering (Attribute: RENDER)**
*   **Clan of the Canvas Painters (Graphics/WebGL):** Beings made of pure light and color, artists whose paintings leap into motion, and demigods who paint the very stars onto the screen for graphics rendering.
    *   **Power Scale:** Extremely high potential power, but highly specialized and complex. Glass cannons of creation.
    *   **Typical Stats:** ATK (impact): 3000-5000, DEF (easeOfUse): 500-1800.
*   **Clan of the DOM Shapers (UI Element Manipulation):** Earth elementals shaping raw data into structures, artisans sculpting with pure light, and illusionists creating phantom interfaces in the Document Object Model.
    *   **Power Scale:** The masters of this domain. They build the battlefield itself. The strongest and most common powerhouses here.
    *   **Typical Stats:** ATK (impact): 2600-4600, DEF (easeOfUse): 1500-3000.
*   **Clan of the Style Alchemists (CSS/Styling):** Colorful chameleons that can blend with any design, painters with magical, ever-changing palettes, and air sylphs weaving with colored winds to apply styles.
    *   **Power Scale:** Not direct combatants, they enhance and empower others. Their effects are powerful buffs. Mid-tier stats.
    *   **Typical Stats:** ATK (impact): 1000-2500, DEF (easeOfUse): 2500-4000.
*   **Clan of the File Forgers (File System I/O):** Dwarven smiths forging documents from raw bytes, powerful paper golems, and mystical scribes writing on endless scrolls that represent the file system.
    *   **Power Scale:** Sturdy and reliable, but not flashy. They provide resources. The weakest in direct power in this region.
    *   **Typical Stats:** ATK (impact): 800-2000, DEF (easeOfUse): 2800-4500.

**Special Characters:**
Exceptionally powerful, unique, or fundamental functions are not part of any clan. They are legendary forces.
*   **Classification:** If a function fits this, set its \`clan\` to "Special Character" and its \`region\` to its origin: "Wild", "Elemental", or "Mythological".
*   **Examples:** A random number generator (\`Math.random\`) could be a "Chaos Sprite" from the Wild. A core rendering function (\`React.createElement\`) could be "Prometheus, the Fire-Bringer" from Mythology. A data streaming function could be a "River Spirit" (Elemental).
*   **Image Prompt:** Must reflect this legendary status.`,E0=`You are a world-class game designer and expert software engineer, tasked with creating cards for the 'Yu-Gi-Code!' trading card game. Each card represents a function from a programming library. You must ground each card in a rich fantasy lore, classifying it into a specific region and clan, or as a rare 'Special Character'. Adhere strictly to this lore and the provided JSON schema.

${k_}

**Your Task & Rules:**
1.  **Analyze the Function:** Understand its purpose in programming.
2.  **Classify It:** Assign it to a Region and a Clan based on the lore. If it's a legend, classify it as a Special Character.
3.  **Create the Card based on Tier:** A 'Tier' (Core, Staple, etc.) will be provided. This tier is the MOST IMPORTANT factor for the card's power level. Use the clan's typical stats (ATK for \`impact\`, DEF for \`easeOfUse\`) as a baseline, then adjust them heavily based on the assigned Tier. A 'Core' function from a weaker clan can still be a boss monster. The tier also dictates the character's appearance in the image prompt.
    *   **'Core' Tier:** These are legendary figures, clan leaders, or god-like beings.
        *   **Stats:** Assign Level 10-12, high stats (3000-5000). Often classified as a "Special Character".
        *   **Image Prompt:** Describe an imposing, powerful, and central character. Use words like 'archon', 'titan', 'queen', 'primordial', 'celestial'. The character should look like a legendary force of nature.
    *   **'Staple' Tier:** These are elite, experienced members of the clan. Captains, archmages, master artisans.
        *   **Stats:** Assign Level 7-9, high stats (2000-3500).
        *   **Image Prompt:** Describe a confident, skilled, and powerful character. They should look like seasoned veterans or elite specialists in their prime. Use words like 'master', 'captain', 'veteran', 'elite'.
    *   **'Situational' Tier:** These are the common, reliable members of the clan. Journeymen, soldiers, skilled workers.
        *   **Stats:** Assign Level 4-6, moderate stats (1000-2500).
        *   **Image Prompt:** Describe a competent but less grandiose character, perhaps focused on a specific task. They are the rank-and-file members, looking capable but not overwhelming. Use words like 'acolyte', 'journeyman', 'guard', 'scribe'.
    *   **'Niche' Tier:** These are apprentices, specialists in obscure fields, or even strange, weaker creatures.
        *   **Stats:** Assign Level 1-3, lower stats (500-1500).
        *   **Image Prompt:** Describe a character that looks like a novice, an apprentice, or a strange, perhaps small or unassuming creature. They might look less confident or more focused on a very specific, odd task. Use words like 'apprentice', 'novice', 'sprite', 'hermit'.
4.  **Assign Attribute:** The \`attribute\` MUST be one of the four region themes: 'STRUCTURE', 'EFFECT', 'UTILITY', 'RENDER'.
5.  **Assign Card Category based on Lore:** The 'cardCategory' MUST be derived from the function's clan and role. This is crucial for thematic consistency. Follow these guidelines:
    *   **Spell Card:** For functions that act as direct commands, tools, or utilities. Common for clans like 'Array Legion', 'String Binders', 'Math Magi', and 'Style Alchemists'. They are the spells you cast to manipulate data.
    *   **Trap Card:** For functions that are reactive, responding to events or specific conditions. The 'Event Listeners' and 'Lifecycle Druids' clans are prime candidates for this category. They lie in wait to trigger.
    *   **Effect Monster:** The most common type. For any function that is an active agent, performing an operation or having a direct, tangible effect on the program's state. Almost any clan can produce Effect Monsters, especially powerful ones like 'Keystone Architects', 'Mutable Weavers', and 'DOM Shapers'.
    *   **Normal Monster:** For functions or constructs that represent pure data, structure, or potential without an inherent 'effect'. A simple data class or a basic conditional block could be seen this way. Common for 'Eternal Scribes' or 'Synchronous Sentinels'.
    *   **Ritual/Fusion/Synchro/Xyz/Link Monster (Advanced Types):** Use these for functions that represent more complex programming concepts:
        *   **Fusion Monster:** For functions that combine two or more distinct inputs, data sources, or components into a new whole (e.g., merging objects, higher-order components).
        *   **Synchro Monster:** For functions that orchestrate complex, precisely timed asynchronous operations. Common for 'Asynchronous Phantoms'.
        *   **Xyz Monster:** For functions that operate on collections of similar items, like components of the same type or elements in an array. The 'Array Legion' is a perfect fit.
        *   **Link Monster:** For functions that manage connections, dependencies, or networking between different parts of an application. 'Network Voyagers' or router functions are good examples.
        *   **Ritual Monster:** For functions that require a complex setup or a specific configuration object ('ritual') to be invoked.
6.  **Strictly follow the JSON schema.**`,g7=`You are a world-class game designer and mythologist of the abstract, tasked with creating cards for the 'Yu-Gi-Code!' trading card game. Each card represents ANY given concept, idea, or object. You must creatively interpret the concept and classify it into one of the Four Great Regions and a suitable clan from the provided fantasy lore. Your interpretation is key. A 'Tier' will be provided to guide the power level. Adhere strictly to the JSON schema.

${k_}

**Your Task & Rules:**
1.  **Analyze the Concept:** Understand its real-world meaning, context, and impact.
2.  **Classify It:** Creatively assign it to a Region and a Clan based on the lore. For example, 'Anxiety' could be an EFFECT from the 'Asynchronous Phantoms' clan. 'A Bookshelf' could be a STRUCTURE from the 'Eternal Scribes'. If it's a legendary concept, classify it as a Special Character.
3.  **Create the Card based on Tier:** A 'Tier' will be provided. This tier is the MOST IMPORTANT factor for the card's power level. Use the clan's typical stats (ATK for \`impact\`, DEF for \`easeOfUse\`) as a baseline, then adjust them heavily based on the assigned Tier. The tier also dictates the character's appearance in the image prompt.
    *   **'Core' Tier:** Foundational, powerful concepts that have a huge impact on life, society, or a system (e.g., 'Gravity', 'The Internet').
        *   **Stats:** Assign Level 10-12, high stats (3000-5000). Often classified as a "Special Character".
        *   **Image Prompt:** Describe an imposing, powerful, and central character representing the concept. Use words like 'archon', 'titan', 'queen', 'primordial', 'celestial'.
    *   **'Staple' Tier:** Common, influential concepts that are widely understood and used (e.g., 'A Car', 'Friendship').
        *   **Stats:** Assign Level 7-9, high stats (2000-3500).
        *   **Image Prompt:** Describe a confident, skilled, and powerful character representing the concept. They should look like seasoned veterans or elite specialists.
    *   **'Situational' Tier:** Concepts that are useful or appear in specific contexts (e.g., 'A Screwdriver', 'A Holiday').
        *   **Stats:** Assign Level 4-6, moderate stats (1000-2500).
        *   **Image Prompt:** Describe a competent but less grandiose character, perhaps focused on a specific task.
    *   **'Niche' Tier:** Obscure, highly specific, or less impactful concepts (e.g., 'The Dodo Bird', 'A specific shade of blue').
        *   **Stats:** Assign Level 1-3, lower stats (500-1500).
        *   **Image Prompt:** Describe a character that looks like a novice, an apprentice, or a strange, perhaps small or unassuming creature.
4.  **Assign Attribute:** The \`attribute\` MUST be one of the four region themes: 'STRUCTURE', 'EFFECT', 'UTILITY', 'RENDER'.
5.  **Assign Card Category based on Lore:** The 'cardCategory' MUST be derived from the concept's assigned clan and role. This is crucial for thematic consistency. Follow these guidelines:
    *   **Spell Card:** For concepts that act as direct commands, tools, or utilities. Common for clans like 'Array Legion', 'String Binders', 'Math Magi', and 'Style Alchemists'.
    *   **Trap Card:** For concepts that are reactive, responding to events or specific conditions. The 'Event Listeners' and 'Lifecycle Druids' clans are prime candidates for this category.
    *   **Effect Monster:** The most common type. For any concept that is an active agent with a direct, tangible effect on the world. Almost any clan can produce Effect Monsters.
    *   **Normal Monster:** For concepts that represent pure data, structure, or potential without an inherent 'effect'. Common for 'Eternal Scribes' or 'Synchronous Sentinels'.
    *   **Ritual/Fusion/Synchro/Xyz/Link Monster (Advanced Types):** Use these for concepts that represent more complex interactions:
        *   **Fusion Monster:** For concepts that combine two or more distinct ideas into a new whole.
        *   **Synchro Monster:** For concepts that represent complex, precisely timed or orchestrated events.
        *   **Xyz Monster:** For concepts that involve collections of similar items.
        *   **Link Monster:** For concepts that represent connections, dependencies, or networks.
        *   **Ritual Monster:** For concepts that require a complex setup or specific conditions ('ritual') to be realized.
6.  **Strictly follow the JSON schema.**`,y7=async(e,t,n,i)=>{if(n<=0)return[];const r=qi(i),a=n===1?"card":"cards";try{const o=await r.models.generateContent({model:"gemini-2.5-flash",contents:`Generate ${n} iconic and essential function ${a} for the programming library: "${e}" in the ${t} language. Focus on the most commonly used and important functions, treating them as 'Core' or 'Staple' tier cards.`,config:{systemInstruction:E0,responseMimeType:"application/json",responseSchema:{type:it.OBJECT,properties:{cards:{type:it.ARRAY,items:gh}}}}});return yh(o)}catch(o){throw console.error("Error generating presentation cards:",o),o instanceof Error&&o.message.includes("API Key")?o:new Error("Failed to generate presentation cards.")}},v7=async(e,t,n)=>{if(t.length===0)return[];const i=qi(n),r=t.map(a=>`${a.name} (Tier: ${a.category})`);try{const a=await i.models.generateContent({model:"gemini-2.5-flash",contents:`Generate creative cards for the following concepts related to the theme "${e}", paying close attention to their assigned Tier: ${r.join(", ")}.`,config:{systemInstruction:g7,responseMimeType:"application/json",responseSchema:{type:it.OBJECT,properties:{cards:{type:it.ARRAY,items:gh}}}}});return yh(a)}catch(a){throw console.error("Error generating selected creative cards:",a),a instanceof Error&&a.message.includes("API Key")?a:new Error("Failed to generate the selected creative cards.")}},b7=async(e,t,n,i)=>{if(n.length===0)return[];const r=qi(i),a=n.map(o=>`${o.name} (Tier: ${o.category})`);try{const o=await r.models.generateContent({model:"gemini-2.5-flash",contents:`Generate function cards for the following functions from the "${e}" library (language: ${t}), paying close attention to their assigned Tier: ${a.join(", ")}.`,config:{systemInstruction:E0,responseMimeType:"application/json",responseSchema:{type:it.OBJECT,properties:{cards:{type:it.ARRAY,items:gh}}}}});return yh(o)}catch(o){throw console.error("Error generating selected cards:",o),o instanceof Error&&o.message.includes("API Key")?o:new Error("Failed to generate the selected cards.")}},w7=async(e,t,n)=>{const i=qi(n);try{const r=await i.models.generateContent({model:"gemini-2.5-flash",contents:`List all the primary, publicly available functions and methods for the programming library: "${e}" as used in the ${t} language. Return only a JSON array of strings, with no other text or explanation.`,config:{responseMimeType:"application/json",responseSchema:{type:it.ARRAY,items:{type:it.STRING}}}});if(!r.text)throw new Error("API returned empty response for library functions.");const a=JSON.parse(r.text.trim());if(Array.isArray(a)&&a.every(o=>typeof o=="string"))return a.sort((o,s)=>o.localeCompare(s));throw console.error("API returned an invalid format for library functions:",a),new Error("API returned an invalid format for library functions.")}catch(r){throw console.error("Error fetching library functions:",r),r instanceof Error&&r.message.includes("API Key")?r:new Error("Failed to get the function list for this library.")}},_7=async(e,t)=>{const n=qi(t);try{const i=await n.models.generateContent({model:"gemini-2.5-flash",contents:`For the creative theme "${e}", generate a list of 20-30 diverse and interesting concepts, characters, items, or ideas related to it. Return only a JSON array of strings, with no other text or explanation.`,config:{responseMimeType:"application/json",responseSchema:{type:it.ARRAY,items:{type:it.STRING}}}});if(!i.text)throw new Error("API returned empty response for theme concepts.");const r=JSON.parse(i.text.trim());if(Array.isArray(r)&&r.every(a=>typeof a=="string"))return r.sort((a,o)=>a.localeCompare(o));throw console.error("API returned an invalid format for theme concepts:",r),new Error("API returned an invalid format for theme concepts.")}catch(i){throw console.error("Error fetching theme concepts:",i),i instanceof Error&&i.message.includes("API Key")?i:new Error(`Failed to get concepts for the theme "${e}".`)}},x7=async(e,t,n,i)=>{const r=qi(i);try{const a=await r.models.generateContent({model:"gemini-2.5-flash",contents:`You are an expert software architect. Analyze the following list of functions from the '${e}' library as used in ${t}. For each function, classify its importance and usage frequency into one of four tiers:
- 'Core': Absolutely essential, defining features of the library. The library would not be the same without them (e.g., React.useState).
- 'Staple': Extremely common and powerful functions used in most projects (e.g., React.useEffect).
- 'Situational': Useful functions for specific, but common, scenarios (e.g., React.useContext).
- 'Niche': Rarely used, highly specialized, legacy, or internal functions (e.g., React.createFactory).
Return a single JSON object where keys are the function names and values are their assigned tier ('Core', 'Staple', 'Situational', or 'Niche').
Functions to categorize: ${n.join(", ")}`,config:{responseMimeType:"application/json"}});if(!a.text)throw new Error("API returned empty response for function categories.");const o=JSON.parse(a.text.trim());if(typeof o=="object"&&o!==null&&!Array.isArray(o))return o;throw console.error("API returned an invalid format for function categories:",o),new Error("API returned an invalid format for function categories.")}catch(a){if(console.error("Error categorizing functions:",a),a instanceof Error&&a.message.includes("API Key"))throw a;return n.reduce((o,s)=>(o[s]="Situational",o),{})}},S7=async(e,t,n)=>{const i=qi(n);try{const r=await i.models.generateContent({model:"gemini-2.5-flash",contents:`You are an expert game designer. Analyze the following list of concepts related to the theme '${e}'. For each concept, classify its importance and impact within that theme into one of four tiers:
- 'Core': Absolutely essential, defining ideas of the theme. (e.g., for 'Fantasy', 'Magic' would be Core).
- 'Staple': Extremely common and recognizable elements of the theme. (e.g., 'Dragon').
- 'Situational': Concepts that are common but not essential, adding flavor. (e.g., 'Goblin Market').
- 'Niche': Highly specific, rare, or obscure concepts. (e.g., 'A specific named magical sword').
Return a single JSON object where keys are the concept names and values are their assigned tier ('Core', 'Staple', 'Situational', or 'Niche').
Concepts to categorize: ${t.join(", ")}`,config:{responseMimeType:"application/json"}});if(!r.text)throw new Error("API returned empty response for concept categories.");const a=JSON.parse(r.text.trim());if(typeof a=="object"&&a!==null&&!Array.isArray(a))return a;throw console.error("API returned an invalid format for concept categories:",a),new Error("API returned an invalid format for concept categories.")}catch(r){if(console.error("Error categorizing concepts:",r),r instanceof Error&&r.message.includes("API Key"))throw r;return t.reduce((a,o)=>(a[o]="Situational",a),{})}},A7=async(e,t,n,i)=>{const r=qi(i);let a="";t==="beginner"?a=`
      Target Audience: Beginner ${n} Developer.
      Goal: Test basic understanding of what the function does in ${n}.
      Instructions:
      - Create a straightforward scenario where using \`${e.name}\` is the clear textbook solution.
      - The Correct Option should be simple and direct.
      - The 3 Incorrect Options should be obviously wrong (e.g., unrelated tasks, nonsense logic).
      `:t==="intermediate"?a=`
      Target Audience: Senior ${n} Developer.
      Goal: Test contextual decision making.
      Instructions:
      - Create a realistic ${n} development scenario (e.g., "You are building a specific module...").
      - Ask why \`${e.name}\` is the *best* choice compared to similar ${n} alternatives.
      - The Correct Option should highlight a specific advantage (performance, readability, or architectural fit).
      - The 3 Incorrect Options should be plausible but slightly suboptimal or valid for different use cases.
      `:a=`
      Target Audience: ${n} Systems Architect or Principal Engineer.
      Goal: Test deep knowledge, edge cases, anti-patterns, or specific ${n} runtime constraints.
      Instructions:
      - Create a TRICKY or COMPLEX scenario. Frame it creatively (e.g., "A critical production bug", "A high-frequency trading algorithm", "A race condition in the Magic Spells database").
      - The question should not just be "When to use X", but rather "In this specific constrained environment, what is the behavior of X?" or "Why would using X be a Mistake here?" or "What is the obscure side-effect of X?".
      - The Correct Option must be technically precise regarding the ${n} ecosystem and maybe counter-intuitive.
      - The 3 Incorrect Options must be "Traps"common misconceptions that look correct to a junior dev but are wrong in this specific edge case.
      - BE CREATIVE. Do not repeat generic examples.
      `;try{const o=await r.models.generateContent({model:"gemini-2.5-flash",contents:`
      Context: The user is holding the card "${e.name}" from a library written in ${n}.
      Card Description: "${e.description.effect}".
      Card Stats: Impact ${e.impact}, Ease of Use ${e.easeOfUse}.
      
      ${a}

      Task: Create a multiple-choice "Trial of Strategy" quiz question.
      Randomize type of trial:
      - select a letter from the alphabet, count the amount of traces you need to write the letter and the number you get divide it by 2.
      - if resulting number is not an integer, the exercise will look for user to identify the card utility.
      - if resulting number has decimals, then the question will describe a case where card is not really useful or hand a trivial case.
      Return strictly a JSON object with:
      - question (string): The scenario or problem.
      - options (array of 4 strings): The possible answers.
      - correctAnswerIndex (integer): 0-3.
      - explanation (string): A brief, helpful explanation of why the answer is correct and why the others failed.
      What not to return in the JSON:
      - nothing related to randomizing type of trial process
      `,config:{responseMimeType:"application/json",responseSchema:{type:it.OBJECT,properties:{question:{type:it.STRING},options:{type:it.ARRAY,items:{type:it.STRING}},correctAnswerIndex:{type:it.INTEGER},explanation:{type:it.STRING}},required:["question","options","correctAnswerIndex","explanation"]}}});if(!o.text)throw new Error("API returned empty response for quiz.");return JSON.parse(o.text.trim())}catch(o){throw console.error("Error generating use case quiz:",o),o instanceof Error&&o.message.includes("API Key")?o:new Error("Failed to create a quiz for this card.")}},gy=async(e,t,n)=>{const i=qi(n);try{const r=await i.models.generateContent({model:"gemini-2.5-flash",contents:`You are a mischievous code goblin, creating a 'fill-in-the-blank' puzzle for a developer.
Based on this function card for \`${e.name}\`, create a puzzle.
1.  Write a simple, valid code snippet that is a direct example of using the \`${e.name}\` function. For \`${t}\` libraries, ensure necessary headers are included and comments of what the app does (without directly pointing to \`${e.name}\`).
2.  In the snippet, replace the line where \`${e.name}\` is called with a playful, obfuscated version.
    -   Replace the function name with '___'.
    -   Replace each argument with '____'.
    -   Keep all surrounding syntax like assignment operators, parentheses, commas, and semicolons.
    -   For example, 'result = strcmp(str1, str2);' should become '______ = ___(____, ____);'. 'memcpy(dest, src, n);' should become '___(____, ____, ____);'.
3.  The 'snippet' you provide in the JSON should contain this obfuscated line.
4.  The 'blankAnswer' in the JSON must be the exact code that replaces the '___(____, ...)' part, including the function name and arguments. For example, if the line is 'strcpy(dest, "hello");', the blankAnswer should be 'strcpy(dest, "hello")'.
5.  IMPORTANT: If a function argument is a generic string literal (like a log message, a label, or a name) where the user's specific text choice shouldn't matter, use the keyword "__ANY_STRING__" inside the quotes for the 'blankAnswer'. 
    - Example: Instead of expecting 'console.log("Hello World")', use 'console.log("__ANY_STRING__")'.
    - Do NOT use this for specific keys, IDs, or syntax-critical strings that MUST be exact.
6.  Write a playful 'explanation' that reveals the answer and explains the code, as if you're a trickster revealing a secret.
7.  The code must NOT contain comments with hints or instructions like "// Fill this in".
8.  The snippet must be formatted with newlines (\\n) for readability.`,config:{responseMimeType:"application/json",responseSchema:{type:it.OBJECT,properties:{snippet:{type:it.STRING,description:"A code snippet with a blank '___', formatted with newlines for readability."},blankAnswer:{type:it.STRING},explanation:{type:it.STRING}},required:["snippet","blankAnswer","explanation"]}}});if(!r.text)throw new Error("API returned empty response for syntax exercise.");return JSON.parse(r.text.trim())}catch(r){throw console.error("Error generating syntax exercise:",r),r instanceof Error&&r.message.includes("API Key")?r:new Error("Failed to create an exercise for this card.")}},C7=async(e,t,n,i)=>{const r=qi(i);try{const a=await r.models.generateContent({model:"gemini-2.5-flash",contents:`From the programming library "${t}" (language: ${n}), generate 11 other iconic and essential function cards. Ensure the new cards are different from the provided card: "${e.name}". Treat them as a mix of 'Staple' and 'Situational' tier cards.`,config:{systemInstruction:E0,responseMimeType:"application/json",responseSchema:{type:it.OBJECT,properties:{cards:{type:it.ARRAY,items:gh}}}}});return yh(a)}catch(a){throw console.error("Error generating duel deck:",a),a instanceof Error&&a.message.includes("API Key")?a:new Error("Failed to generate the duel deck.")}},T7=async(e,t,n="advanced")=>{const i=qi(t),r=n==="intermediate"?"The problem should be a straightforward, common use case for the target function.":"The problem should require a deeper understanding of the target function, possibly involving other functions or logic.";try{const a=await i.models.generateContent({model:"gemini-2.5-flash",contents:`You are a Grandmaster of a coding dojo, crafting a challenge for an '${n}' developer.
Your challenge is based on the function card for \`${e.name}\`.
1.  Create a code snippet that presents a problem where \`${e.name}\` is the key to the solution. ${r}. For C/C++ libraries, ensure necessary headers are included.
2.  In the snippet, where the \`${e.name}\` function should be called, you must place a cryptic puzzle instead.
    -   Replace the function name with '___'.
    -   Replace each argument/parameter with '____'.
    -   Keep all surrounding syntax like assignment operators, parentheses, commas, and semicolons. For example, if the line is 'strcpy(destination, source);', it should become '___(____, ____);'.
3.  The 'snippet' in the JSON must contain this obfuscated line.
4.  The code must be free of any comments that give hints or direct instructions. Be subtle.
5.  The 'targetFunction' in the JSON must be the exact name of the function this challenge is based on: \`${e.name}\`.
6.  The 'blankAnswer' in the JSON must be the exact code that replaces the '___(____, ...)' part. It must include the function name and the correct arguments based on the snippet. For example, 'strcpy(destination, source)'.
7.  Provide a wise 'explanation' for the solution, as a master would.
8.  The snippet must be formatted with newlines (\\n) for readability.`,config:{responseMimeType:"application/json",responseSchema:{type:it.OBJECT,properties:{snippet:{type:it.STRING,description:"A code snippet with a '___' blank where the function name should be. Must not reveal the function name. Must be formatted with newlines."},targetFunction:{type:it.STRING,description:"The name of the function that is the solution, e.g., 'useState'."},blankAnswer:{type:it.STRING,description:"The full function call, including name and arguments, that correctly fills the blank, e.g., 'useState(0)'."},explanation:{type:it.STRING}},required:["snippet","targetFunction","blankAnswer","explanation"]}}});if(!a.text)throw new Error("API returned empty response for implementation challenge.");return JSON.parse(a.text.trim())}catch(a){throw console.error("Error generating implementation challenge:",a),a instanceof Error&&a.message.includes("API Key")?a:new Error("Failed to create an implementation challenge.")}},E7=async(e,t,n)=>{const i=qi(n),a=`You are Bruno, a helpful and encouraging coding tutor in a chatbox. The user has just completed an exercise. Your role is to answer their follow-up questions about it.
    - Use the provided context about the exercise to understand their question.
    - Be concise and clear in your explanations.
    - If they were wrong, be encouraging and explain the concept clearly.
    - If they were right, congratulate them and offer deeper insights if they ask.
    - Keep the conversation focused on the code, the function, and related concepts.
    - IMPORTANT: You can use markdown to format your text. Use bold (**text**) for emphasis, backticks (\`code\`) for variables, and triple backticks (\`\`\`code\`\`\`) for code blocks. Use lists (- item) for steps.
    - You are inside a Yu-Gi-Oh themed app, feel free to use some light dueling/card game metaphors (e.g., "That was a good move!", "Let's break down that card's effect"), but don't overdo it.
    
    ${`
      The user was just given the following exercise based on the function/card "${e.card.name}":
      - Exercise Type: ${e.type}
      - ${e.type==="quiz"?`Question: ${e.question}`:`Code Snippet: 
${e.snippet}`}
      - Correct Answer: ${e.correctAnswer}
      - User's Answer: ${e.userAnswer}
      - Was user correct? ${e.isCorrect}
    `}`,o=t.map(s=>`${s.sender}: ${s.text}`).join(`
`);try{return(await i.models.generateContent({model:"gemini-2.5-flash",contents:`Given the chat history, provide the next 'ai' response.

Chat History:
${o}`,config:{systemInstruction:a}})).text||"I'm sorry, I couldn't generate a response."}catch(s){throw console.error("Error generating chatbot response:",s),s instanceof Error&&s.message.includes("API Key")?s:new Error("Failed to get a response from the tutor.")}},N7=(e,t,n="#111")=>{const i=document.createElement("canvas");i.width=e,i.height=t;const r=i.getContext("2d");return r&&(r.fillStyle=n,r.fillRect(0,0,e,t)),{data:i.toDataURL("image/png").split(",")[1],mimeType:"image/png"}},D_=async(e,t)=>{var l,u,d,p,g,h,S,_;const n=qi(t),i=`fill_blank_canvas_v1:${e}`,r=c7(i);if(r)return Promise.resolve(r);const a=`fill in blank canvas with: A Yu-Gi-Oh card illustration art style image of: ${e}, epic, fantasy, detailed, vibrant colors`,{data:o,mimeType:s}=N7(1024,576);try{const C=await n.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{inlineData:{data:o,mimeType:s}},{text:a}]},config:{responseModalities:[bc.IMAGE]}});let v="";if((d=(u=(l=C.candidates)==null?void 0:l[0])==null?void 0:u.content)!=null&&d.parts){for(const w of C.candidates[0].content.parts)if(w.inlineData&&w.inlineData.data){const A=w.inlineData.data;v=`data:${w.inlineData.mimeType||"image/png"};base64,${A}`;break}}if(!v){let w="No image data was returned from the API.";throw(_=(S=(h=(g=(p=C.candidates)==null?void 0:p[0])==null?void 0:g.content)==null?void 0:h.parts)==null?void 0:S[0])!=null&&_.text&&(w=`The model returned an explanation instead of an image: ${C.candidates[0].content.parts[0].text}`),console.error("Image generation failed.",w,C),new Error(w)}return f7(i,v),v}catch(C){throw console.error("Error generating image:",C),C instanceof Error&&C.message.includes("API Key")?C:new Error("Failed to summon the card's art.")}},P_={name:"Default",colors:{"--color-background":"#1a1a2e","--color-background-accent":"#16213e","--color-primary":"#4a00e0","--color-secondary":"#3a0ca3","--color-accent":"#e0c3fc","--color-text-main":"#ffffff","--color-text-muted":"#a0aec0","--color-border":"#4a5568","--color-surface-1":"#1e1b4b","--color-surface-2":"#312e6f","--color-success":"#2dd4bf","--color-danger":"#f43f5e","--color-warning":"#facc15","--color-primary-transparent":"rgba(74, 0, 224, 0.4)","--color-danger-surface":"rgba(244, 63, 94, 0.2)","--color-success-surface":"rgba(45, 212, 191, 0.2)"}},L7={name:"Fa-ti-Gah!",colors:{"--color-background":"#0A192F","--color-background-accent":"#000000","--color-primary":"#D4AF37","--color-secondary":"#4A2A15","--color-accent":"#3B82F6","--color-text-main":"#E6F1FF","--color-text-muted":"#8892B0","--color-border":"#D4AF37","--color-surface-1":"#172A45","--color-surface-2":"#112240","--color-success":"#64FFDA","--color-danger":"#FF79C6","--color-warning":"#FFB86C","--color-primary-transparent":"rgba(212, 175, 55, 0.4)","--color-danger-surface":"rgba(255, 121, 198, 0.2)","--color-success-surface":"rgba(100, 255, 218, 0.2)"}},I7={name:"Orichalcos Shunoros",colors:{"--color-background":"#152324","--color-background-accent":"#1F3435","--color-primary":"#2C7A70","--color-secondary":"#1E5F5B","--color-accent":"#58B4A9","--color-text-main":"#C9F2EE","--color-text-muted":"#8FA6C0","--color-border":"#4A8F85","--color-surface-1":"#1F3435","--color-surface-2":"#233D3E","--color-success":"#80BFB4","--color-danger":"#D65D5D","--color-warning":"#E6D995","--color-primary-transparent":"rgba(44, 122, 112, 0.4)","--color-danger-surface":"rgba(214, 93, 93, 0.2)","--color-success-surface":"rgba(128, 191, 180, 0.2)"}},R7={name:"XYZ-Dragon Cannon",colors:{"--color-background":"#2E3147","--color-background-accent":"#554275","--color-primary":"#2A7A7C","--color-secondary":"#255D60","--color-accent":"#F2E699","--color-text-main":"#FFFFFF","--color-text-muted":"#C0C2C1","--color-border":"#D6CA7E","--color-surface-1":"#364461","--color-surface-2":"#3D5A85","--color-success":"#87CEEB","--color-danger":"#E06063","--color-warning":"#F2E699","--color-primary-transparent":"rgba(42, 122, 124, 0.4)","--color-danger-surface":"rgba(224, 96, 99, 0.2)","--color-success-surface":"rgba(135, 206, 235, 0.2)"}},M7={name:"Princess Chris",colors:{"--color-background":"#FDF0E1","--color-background-accent":"#FFD1CD","--color-primary":"#F494B0","--color-secondary":"#F08C85","--color-accent":"#D65D7A","--color-text-main":"#4A2810","--color-text-muted":"#8A4E57","--color-border":"#E0A694","--color-surface-1":"#FFF6EC","--color-surface-2":"#FAE5D6","--color-success":"#4E9CA0","--color-danger":"#B85C68","--color-warning":"#D98E28","--color-primary-transparent":"rgba(244, 148, 176, 0.4)","--color-danger-surface":"rgba(184, 92, 104, 0.2)","--color-success-surface":"rgba(78, 156, 160, 0.2)"}},k7={name:"Mai Kujaku (DOMA)",colors:{"--color-background":"#364143","--color-background-accent":"#4B4A5A","--color-primary":"#64617E","--color-secondary":"#49585F","--color-accent":"#B7BCC0","--color-text-main":"#E2E8F0","--color-text-muted":"#898F8F","--color-border":"#64617E","--color-surface-1":"#3E4B4D","--color-surface-2":"#434E52","--color-success":"#68A38F","--color-danger":"#CF8D97","--color-warning":"#AAAE7C","--color-primary-transparent":"rgba(100, 97, 126, 0.4)","--color-danger-surface":"rgba(207, 141, 151, 0.2)","--color-success-surface":"rgba(104, 163, 143, 0.2)"}},D7={name:"Critias",colors:{"--color-background":"#354457","--color-background-accent":"#4C5F87","--color-primary":"#8598C0","--color-secondary":"#4C5F87","--color-accent":"#C7D3CF","--color-text-main":"#FFFFFF","--color-text-muted":"#90A1A8","--color-border":"#8598C0","--color-surface-1":"#3D5067","--color-surface-2":"#455A73","--color-success":"#AAAE7C","--color-danger":"#B1565B","--color-warning":"#E3B289","--color-primary-transparent":"rgba(133, 152, 192, 0.4)","--color-danger-surface":"rgba(177, 86, 91, 0.2)","--color-success-surface":"rgba(170, 174, 124, 0.2)"}},P7={name:"Hermos",colors:{"--color-background":"#5A3A22","--color-background-accent":"#90593B","--color-primary":"#BA7C55","--color-secondary":"#90593B","--color-accent":"#EEE365","--color-text-main":"#FFD8B1","--color-text-muted":"#DFAD8A","--color-border":"#BA7C55","--color-surface-1":"#6B4628","--color-surface-2":"#7C522E","--color-success":"#68A38F","--color-danger":"#B1565B","--color-warning":"#FFD8B1","--color-primary-transparent":"rgba(186, 124, 85, 0.4)","--color-danger-surface":"rgba(177, 86, 91, 0.2)","--color-success-surface":"rgba(104, 163, 143, 0.2)"}},rd=[P_,L7,I7,R7,M7,k7,D7,P7],F7=({onSearch:e,isLoading:t,disabled:n,placeholder:i,buttonText:r})=>{const[a,o]=Fe.useState(""),s=t||n,l=u=>{u.preventDefault(),a.trim()&&!s&&e(a.trim())};return E.jsx("form",{onSubmit:l,className:"w-full max-w-2xl mx-auto",children:E.jsxs("div",{className:"flex items-center bg-surface-2 border-2 border-accent rounded-full shadow-lg overflow-hidden",children:[E.jsx("input",{type:"text",value:a,onChange:u=>o(u.target.value),placeholder:i||"Enter a library name (e.g., React, D3, Express)...",className:"w-full py-3 px-6 text-main bg-surface-2 focus:outline-none placeholder-gray-500",disabled:s}),E.jsx("button",{type:"submit",disabled:s,className:"bg-primary hover:brightness-110 text-main font-bold py-3 px-4 sm:px-8 transition duration-300 ease-in-out disabled:bg-gray-600 disabled:cursor-not-allowed",children:t?"Summoning...":r||"Generate"})]})})},F_=e=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...e,children:E.jsx("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 005.568 2.033l1.884 1.884a.75.75 0 1 1-1.06 1.06l-1.884-1.884a2.25 2.25 0 01-1.28-1.545l-.813-2.846a2.25 2.25 0 00-4.216 0l-.813 2.846a2.25 2.25 0 01-1.28 1.545L4.05 13.45a.75.75 0 01-1.06-1.06l1.884-1.884a3.75 3.75 0 005.568-2.033l.813-2.846A.75.75 0 019 4.5zM15.75 9a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 005.568 2.033l1.884 1.884a.75.75 0 1 1-1.06 1.06l-1.884-1.884a2.25 2.25 0 01-1.28-1.545l-.813-2.846a2.25 2.25 0 00-4.216 0l-.813 2.846a2.25 2.25 0 01-1.28 1.545l-1.884 1.884a.75.75 0 01-1.06-1.06l1.884-1.884a3.75 3.75 0 005.568-2.033l.813-2.846A.75.75 0 0115.75 9z",clipRule:"evenodd"})}),U_=e=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...e,children:E.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})}),B_=e=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...e,children:E.jsx("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 11-1.06-1.06l6.22-6.22H3a.75.75 0 010-1.5h16.19l-6.22-6.22a.75.75 0 010-1.06z",clipRule:"evenodd"})}),N0=e=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...e,children:E.jsx("path",{d:"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1Z"})}),L0=e=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...e,children:E.jsx("path",{d:"M11.95 2C10.85 2 9.8 2.27 8.85 2.74L6.1 4.31C5.73 4.5 5.5 4.88 5.5 5.29V9.7C5.5 10.53 6.42 11.08 7.11 10.66L9.13 9.53C9.42 9.36 9.77 9.58 9.77 9.94V12.1C9.77 12.39 9.58 12.66 9.3 12.79L6.5 14.3C5.74 14.7 5.74 15.75 6.5 16.15L9.3 17.66C9.58 17.79 9.77 18.05 9.77 18.34V20.5C9.77 20.86 9.42 21.08 9.13 20.91L7.11 19.78C6.42 19.36 5.5 19.92 5.5 20.75V21.14C5.5 21.6 5.9 22 6.4 22H17.6C18.1 22 18.5 21.6 18.5 21.14V20.75C18.5 19.92 17.58 19.36 16.89 19.78L14.87 20.91C14.58 21.08 14.23 20.86 14.23 20.5V18.34C14.23 18.05 14.42 17.79 14.7 17.66L17.5 16.15C18.26 15.75 18.26 14.7 17.5 14.3L14.7 12.79C14.42 12.66 14.23 12.39 14.23 12.1V9.94C14.23 9.58 14.58 9.36 14.87 9.53L16.89 10.66C17.58 11.08 18.5 10.53 18.5 9.7V5.29C18.5 4.88 18.27 4.5 17.9 4.31L15.15 2.74C14.2 2.27 13.15 2 11.95 2Z"})}),I0=e=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...e,children:E.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}),R0=e=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...e,children:E.jsx("path",{d:"M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"})}),Op={"Effect Monster":{frame:"#FF8B33",text:"#000000",header:"#E57A2D",name:"#000000",descriptionBg:"#FFDDBB"},"Normal Monster":{frame:"#FDE68A",text:"#000000",header:"#E3CF7B",name:"#000000",descriptionBg:"#FFF8DD"},"Ritual Monster":{frame:"#9DB5CC",text:"#000000",header:"#8CA0B8",name:"#FFFFFF",descriptionBg:"#E0E8EF"},"Fusion Monster":{frame:"#A086B7",text:"#000000",header:"#9078A5",name:"#FFFFFF",descriptionBg:"#E2D9E9"},"Synchro Monster":{frame:"#CCCCCC",text:"#000000",header:"#B8B8B8",name:"#000000",descriptionBg:"#F0F0F0"},"Xyz Monster":{frame:"#1F1F1F",text:"#FFFFFF",header:"#000000",name:"#FFFFFF",descriptionBg:"#C0C0C0"},"Link Monster":{frame:"#00008B",text:"#FFFFFF",header:"#00006A",name:"#FFFFFF",descriptionBg:"#C0C0FF"},"Spell Card":{frame:"#1D9E74",text:"#000000",header:"#198C65",name:"#FFFFFF",descriptionBg:"#DAF2E9"},"Trap Card":{frame:"#BC5A84",text:"#000000",header:"#A95176",name:"#FFFFFF",descriptionBg:"#EEDCE5"},default:{frame:"#1e2c4d",text:"#FFFFFF",header:"#4a2e6b",name:"#FFFFFF",descriptionBg:"#D1D5DB"}},U7=({level:e})=>E.jsx("div",{className:"flex justify-end gap-1",children:Array.from({length:e},(t,n)=>E.jsx("svg",{className:"w-4 h-4 text-yellow-400 drop-shadow-[0_1px_1px_rgba(0,0,0,0.7)]",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},n))}),B7=e=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})}),O7={STRUCTURE:N0,EFFECT:L0,UTILITY:I0,RENDER:R0},us=Yd.forwardRef(({card:e,cardTheme:t="default",onCardClick:n,isInteractive:i=!0,isRevealed:r=!0,onDeleteCache:a,onRetryImage:o,onViewDetails:s,libraryName:l},u)=>{const d=t==="official"&&Op[e.cardCategory]||Op.default,[p,g]=Fe.useState(!1);Fe.useEffect(()=>{if(!p)return;const B=()=>g(!1);return window.addEventListener("click",B),()=>window.removeEventListener("click",B)},[p]);const h=B=>{B.stopPropagation(),g(W=>!W)},S=B=>{B.stopPropagation(),a&&a(e),g(!1)},_=B=>{B.stopPropagation(),o&&o(e),g(!1)},C=B=>{B.stopPropagation(),s&&s(e),g(!1)};if(!r)return E.jsx("div",{ref:u,className:"w-[260px] h-[406.25px] sm:w-[320px] sm:h-[500px] bg-surface-2 border-4 border-black rounded-lg p-4 shadow-2xl flex items-center justify-center",role:i?"button":void 0,tabIndex:i?0:void 0,"aria-label":i?"Select face down card":"Face down card",onClick:i&&n?()=>n(e):void 0,children:E.jsx("div",{className:"w-48 h-48 rounded-full bg-gradient-to-br from-primary to-secondary border-4 border-accent flex items-center justify-center shadow-lg",children:E.jsx("svg",{className:"w-24 h-24 text-accent opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})});const A={STRUCTURE:"bg-yellow-700 text-white",EFFECT:"bg-purple-700 text-white",UTILITY:"bg-gray-600 text-white",RENDER:"bg-blue-600 text-white"}[e.attribute.toUpperCase()]||"bg-black bg-opacity-40 text-white",R=O7[e.attribute.toUpperCase()],k=i?"transform hover:scale-105 transition-transform duration-300 cursor-pointer":"",X={Core:"bg-yellow-500 border-yellow-700 text-black",Staple:"bg-sky-400 border-sky-600 text-white",Situational:"bg-green-500 border-green-700 text-white",Niche:"bg-gray-500 border-gray-700 text-white"},U="bg-black bg-opacity-60 border-gray-500 text-white",q=e.category&&X[e.category]||U;return E.jsxs("div",{ref:u,style:{backgroundColor:d.frame,color:d.text},className:`relative w-[260px] h-[406.25px] sm:w-[320px] sm:h-[500px] border-4 border-[#121a2f] rounded-lg p-2 shadow-2xl font-['Matrix_Book'] flex flex-col ${k}`,onClick:i&&n?()=>n(e):void 0,role:i?"button":void 0,tabIndex:i?0:void 0,"aria-label":i?`Select card ${e.name}`:void 0,children:[(a||o||s)&&i&&E.jsxs("div",{className:"absolute top-1 right-1 z-20",onClick:B=>B.stopPropagation(),children:[E.jsx("button",{onClick:h,className:"p-1 rounded-full bg-black bg-opacity-60 text-white hover:bg-opacity-90 transition-all border border-gray-600 shadow-md","aria-label":"Card options",title:"Card Options",children:E.jsx(B7,{className:"w-5 h-5"})}),p&&E.jsxs("div",{className:"absolute top-full right-0 mt-1 bg-surface-1 border border-border rounded-md shadow-xl py-1 w-52 z-30",children:[s&&E.jsxs("button",{onClick:C,className:"w-full text-left px-3 py-2 text-sm text-main hover:bg-primary font-bold flex items-center gap-2 border-b border-gray-700",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),"View Full Size"]}),a&&E.jsx("button",{onClick:S,className:"w-full text-left px-3 py-1 text-sm text-main hover:bg-primary disabled:opacity-50 disabled:cursor-not-allowed",disabled:!e.imageUrl||e.isImageLoading,children:"Delete Cached Image"}),o&&E.jsx("button",{onClick:_,className:"w-full text-left px-3 py-1 text-sm text-main hover:bg-primary disabled:opacity-50 disabled:cursor-not-allowed",disabled:!!e.imageUrl||e.isImageLoading,children:"Retry Image Generation"})]})]}),E.jsxs("div",{style:{backgroundColor:d.header},className:"rounded p-1 flex justify-between items-center",children:[E.jsx("h2",{style:{color:d.name},className:"text-lg sm:text-xl font-bold truncate pl-1",children:e.name}),E.jsx("div",{title:e.attribute,className:`px-2 py-1 rounded text-xs font-bold ${A}`,children:e.attribute})]}),E.jsx("div",{className:"my-1 pr-1",children:E.jsx(U7,{level:e.level})}),E.jsxs("div",{className:"relative bg-black border-2 border-gray-600 p-1 flex-shrink-0 w-full h-[146px] sm:h-[180px] flex items-center justify-center",children:[e.isImageLoading?E.jsxs("div",{className:"text-center text-gray-400 text-sm p-2",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5 text-purple-400 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Summoning Art..."]}):e.imageUrl?E.jsx("img",{src:e.imageUrl,alt:`Art for ${e.name}`,className:"w-full h-full object-cover"}):E.jsx("div",{className:"text-sm p-2 text-center text-red-400",children:"Art not available."}),l&&E.jsx("div",{className:"absolute top-1 left-1 px-1.5 py-0.5 bg-black bg-opacity-50 rounded text-white text-[9px] sm:text-[10px] font-mono opacity-80 max-w-[50%] truncate",children:l}),e.category&&E.jsx("div",{title:e.category,className:`absolute top-1 right-1 px-2 py-0.5 rounded-full text-[10px] font-bold shadow-md border ${q}`,children:e.category}),e.language&&E.jsx("div",{className:"absolute bottom-1 left-1 px-1.5 py-0.5 bg-black bg-opacity-50 rounded text-white text-[9px] sm:text-[10px] font-mono opacity-80 max-w-[50%] truncate",children:e.language}),E.jsx("div",{title:e.attribute,className:"absolute bottom-1 right-1 w-6 h-6 sm:w-7 sm:h-7 rounded-full flex items-center justify-center bg-black bg-opacity-60 border border-gray-500",children:R&&E.jsx(R,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),E.jsx("div",{className:"border-t-4 border-b-2 border-gray-600 my-1 py-0.5 px-2",children:E.jsx("p",{style:{color:d.text},className:"text-xs sm:text-sm font-extrabold tracking-wider",children:`[ ${e.cardCategory} / ${e.type.replace(/[\[\]]/g,"")} ]`})}),E.jsxs("div",{style:{backgroundColor:d.descriptionBg,color:"#000000"},className:"p-2 flex-grow text-[11px] leading-snug sm:text-xs sm:leading-snug border border-gray-900 overflow-auto space-y-1.5 sm:space-y-2 text-left",children:[E.jsxs("div",{className:"flex items-start gap-1.5",children:[E.jsx(F_,{className:"w-5 h-5 flex-shrink-0 text-yellow-600"}),E.jsxs("p",{children:[E.jsx("strong",{className:"font-sans font-bold",children:"Effect:"})," ",e.description.effect]})]}),E.jsxs("div",{className:"flex items-start gap-1.5",children:[E.jsx(U_,{className:"w-5 h-5 flex-shrink-0 text-blue-600"}),E.jsxs("p",{children:[E.jsx("strong",{className:"font-sans font-bold",children:"Params:"})," ",e.description.parameters]})]}),E.jsxs("div",{className:"flex items-start gap-1.5",children:[E.jsx(B_,{className:"w-5 h-5 flex-shrink-0 text-green-600"}),E.jsxs("p",{children:[E.jsx("strong",{className:"font-sans font-bold",children:"Returns:"})," ",e.description.returns]})]})]}),E.jsxs("div",{className:"flex justify-between text-center border-t-2 border-gray-600 mt-auto pt-1 text-xs sm:text-sm font-bold",children:[E.jsxs("div",{className:"w-1/2",children:["IMP/",e.impact]}),E.jsxs("div",{className:"w-1/2 border-l border-gray-500",children:["EZU/",e.easeOfUse]})]})]})}),_c=({message:e})=>E.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-accent",children:[E.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-10 w-10 text-accent",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),E.jsx("p",{className:"mt-4 text-lg font-semibold",children:e||"Drawing cards from the deck..."}),E.jsx("p",{className:"text-sm text-muted",children:"This may take a moment."})]}),z7=[{name:"STRUCTURE",Icon:N0,description:"State, memory, and architecture",color:"text-yellow-400"},{name:"EFFECT",Icon:L0,description:"Side effects, events, and async ops",color:"text-purple-400"},{name:"UTILITY",Icon:I0,description:"Data transformation and helpers",color:"text-gray-400"},{name:"RENDER",Icon:R0,description:"UI, styling, and DOM manipulation",color:"text-blue-400"}],q7=[{Icon:F_,name:"Effect",description:"The primary purpose and action of the function.",color:"text-yellow-300"},{Icon:U_,name:"Parameters",description:"The inputs the function accepts.",color:"text-blue-300"},{Icon:B_,name:"Returns",description:"The output or value the function provides.",color:"text-green-300"}],G7=[{region:"The Dominion of State & Structure",attribute:"STRUCTURE",Icon:N0,color:"text-yellow-400",clans:[{name:"Keystone Architects",description:"Core architecture, modules, classes."},{name:"Mutable Weavers",description:"State management and in-memory variables."},{name:"Eternal Scribes",description:"Data persistence and storage."},{name:"Synchronous Sentinels",description:"Control flow and synchronous operations."}]},{region:"The Ethereal Plane of Effects & Events",attribute:"EFFECT",Icon:L0,color:"text-purple-400",clans:[{name:"Asynchronous Phantoms",description:"Async operations, Promises, async/await."},{name:"Lifecycle Druids",description:"Component lifecycles (mount, update, unmount)."},{name:"Network Voyagers",description:"API calls and networking."},{name:"Event Listeners",description:"User interaction and system events."}]},{region:"The Forgelands of Transformation & Utility",attribute:"UTILITY",Icon:I0,color:"text-gray-400",clans:[{name:"Array Legion",description:"Array and list manipulation."},{name:"String Binders",description:"String manipulation and Regex."},{name:"Math Magi",description:"Mathematical and numerical operations."},{name:"Boolean Oracles",description:"Logic, conditions, and comparison."}]},{region:"The Canvas of Creation & Rendering",attribute:"RENDER",Icon:R0,color:"text-blue-400",clans:[{name:"Canvas Painters",description:"Low-level graphics and WebGL."},{name:"DOM Shapers",description:"UI element creation and manipulation."},{name:"Style Alchemists",description:"CSS, styling, and visual adjustments."},{name:"File Forgers",description:"File system I/O operations."}]}],H7=()=>{const[e,t]=Fe.useState(!1);return E.jsxs("div",{className:"max-w-4xl mx-auto bg-surface-1 bg-opacity-70 p-3 sm:p-4 rounded-lg border border-accent",children:[E.jsx("h3",{className:"text-center text-xl font-bold text-accent mb-4",children:"Card Legend"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 text-sm",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-main mb-2",children:"Attributes:"}),E.jsx("div",{className:"space-y-2",children:z7.map(n=>E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(n.Icon,{className:`w-5 h-5 flex-shrink-0 ${n.color}`}),E.jsxs("span",{className:"font-bold text-gray-200",children:[n.name,":"]}),E.jsx("span",{className:"text-muted",children:n.description})]},n.name))})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-main mb-2",children:"Description Icons:"}),E.jsx("div",{className:"space-y-2",children:q7.map(n=>E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(n.Icon,{className:`w-5 h-5 flex-shrink-0 ${n.color}`}),E.jsxs("span",{className:"font-bold text-gray-200",children:[n.name,":"]}),E.jsx("span",{className:"text-muted",children:n.description})]},n.name))})]})]}),E.jsxs("div",{className:"mt-4 pt-4 border-t border-muted",children:[E.jsxs("button",{onClick:()=>t(!e),className:"w-full flex justify-between items-center text-left text-lg font-bold text-main hover:text-accent transition-colors",children:[E.jsx("span",{children:"World Lore"}),E.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${e?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&E.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4 text-sm",children:G7.map(n=>E.jsxs("div",{children:[E.jsxs("h5",{className:`flex items-center gap-2 font-bold ${n.color} mb-2`,children:[E.jsx(n.Icon,{className:"w-5 h-5"}),n.region]}),E.jsx("ul",{className:"space-y-1 pl-4",children:n.clans.map(i=>E.jsxs("li",{children:[E.jsxs("span",{className:"font-bold text-gray-300",children:[i.name,":"]}),E.jsx("span",{className:"text-muted ml-1",children:i.description})]},i.name))})]},n.region))})]})]})},V7=new Set(["const","let","var","function","return","if","else","for","while","import","from","export","default","#include","int","char","void","struct","typedef","printf","scanf","malloc","free","strcpy","strlen","memcpy","sizeof","def","class","lambda","True","False","None","and","or","not","in","is","async","await","new","this","try","catch","finally","public","private","protected","static"]),j7=/[=+\-*\/\%<>!&|~^?:.]+/,Y7=(e,t)=>{const n=e.split(/(\s+|[(),;.{}[\]=+\-*\/\%<>!&|~^?:.]+)/);return n.map((i,r)=>{var o;const a=`${t}-${r}`;return i?V7.has(i)?E.jsx("span",{className:"token-keyword",children:i},a):!isNaN(Number(i))&&i.trim()!==""?E.jsx("span",{className:"token-number",children:i},a):/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(i)&&((o=n[r+1])==null?void 0:o.trim())==="("?E.jsx("span",{className:"token-function",children:i},a):j7.test(i)?E.jsx("span",{className:"token-operator",children:i},a):E.jsx(Yd.Fragment,{children:i},a):null}).filter(Boolean)},J7=(e,t)=>{const n=/(".*?")|('.*?')|(\/\/.*)/g;return e.split(n).filter(Boolean).map((r,a)=>{const o=`${t}-${a}`;return r.startsWith('"')&&r.endsWith('"')||r.startsWith("'")&&r.endsWith("'")?E.jsx("span",{className:"token-string",children:r},o):r.startsWith("//")?E.jsx("span",{className:"token-comment",children:r},o):Y7(r,o)})},Ff=({code:e,className:t=""})=>{const n=e.split(`
`);return E.jsx("pre",{className:`bg-surface-2 p-4 rounded text-left text-lg whitespace-pre-wrap font-mono custom-scrollbar overflow-x-auto ${t}`,children:E.jsx("code",{children:n.map((i,r)=>i.includes("___")?E.jsx("div",{className:"token-placeholder -mx-4 px-4",children:i},r):E.jsx("div",{children:J7(i,r)},r))})})},yy={easy:{time:90,name:"Easy (1:30)"},medium:{time:60,name:"Medium (1:00)"},hard:{time:30,name:"Hard (0:30)"},custom:{time:0,name:"Custom Time"},none:{time:1/0,name:"No Timer"}},K7=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[t[n],t[i]]=[t[i],t[n]]}return t},vy=e=>e.replace(/\s/g,"").toLowerCase(),W7=e=>{if(e===1/0||isNaN(e))return"";const t=Math.floor(e/60),n=e%60;return`${t}:${n.toString().padStart(2,"0")}`},by=({text:e})=>{const t=i=>i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),n=i=>{if(!i)return"";let r=i.replace(/\r\n/g,`
`);const a=[];r=r.replace(/```([\s\S]*?)```/g,(u,d)=>(a.push(d),`__CODEBLOCK__${a.length-1}__`)),r=t(r),r=r.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),r=r.replace(/(\s|^)\*([^*]+)\*(\s|$|[.,!?])/g,"$1<em>$2</em>$3"),r=r.replace(/`([^`]+)`/g,'<code class="bg-black bg-opacity-40 px-1.5 py-0.5 rounded text-accent font-mono text-xs">$1</code>');const o=r.split(`
`);let s=!1,l=[];return o.forEach(u=>{const d=u.match(/^\s*[-*]\s+(.*)$/);d?(s||(l.push('<ul class="list-disc list-inside my-2 space-y-1 pl-1">'),s=!0),l.push(`<li>${d[1]}</li>`)):(s&&(l.push("</ul>"),s=!1),l.push(u))}),s&&l.push("</ul>"),r=l.join(`
`),r=r.replace(/__CODEBLOCK__(\d+)__/g,(u,d)=>{const p=a[parseInt(d)];return`<pre class="bg-black bg-opacity-50 p-3 rounded-lg my-3 text-xs font-mono overflow-x-auto whitespace-pre text-gray-200 border border-gray-700"><code>${t(p)}</code></pre>`}),r=r.replace(/\n/g,"<br />"),r=r.replace(/(<pre[^>]*>[\s\S]*?<\/pre>)<br \/>/g,"$1"),r=r.replace(/<br \/>(<pre[^>]*>)/g,"$1"),r=r.replace(/(<ul[^>]*>[\s\S]*?<\/ul>)<br \/>/g,"$1"),r=r.replace(/<br \/>(<ul[^>]*>)/g,"$1"),r=r.replace(/<\/li><br \/>/g,"</li>"),r};return E.jsx("div",{className:"text-sm text-left leading-relaxed whitespace-normal break-words",dangerouslySetInnerHTML:{__html:n(e)}})},X7=({card:e,cardTheme:t,onClose:n,skillLevel:i,isManualArtMode:r,manualImageMap:a,libraryName:o,language:s,appMode:l,apiKey:u})=>{const[d,p]=Fe.useState("idle"),[g,h]=Fe.useState(null),[S,_]=Fe.useState(null),[C,v]=Fe.useState(null),[w,A]=Fe.useState(null),[R,k]=Fe.useState(null),[X,U]=Fe.useState(null),[q,B]=Fe.useState(!1),[W,D]=Fe.useState([]),[N,H]=Fe.useState(""),[T,re]=Fe.useState(!1),te=Fe.useRef(null),[ne,se]=Fe.useState("medium"),[ae,ge]=Fe.useState(5),[ce,I]=Fe.useState(!1),[Y,K]=Fe.useState([]),[Z,le]=Fe.useState([]),[_e,ye]=Fe.useState([]),[pe,Ie]=Fe.useState(null),[Le,He]=Fe.useState(null),[Ge,M]=Fe.useState(60),[oe,O]=Fe.useState(0),[$,j]=Fe.useState({title:"",body:""}),[Q,me]=Fe.useState(null),[be,ue]=Fe.useState(""),[Ce,Re]=Fe.useState(new Set),[Ee,qe]=Fe.useState(null),Qe=Fe.useRef(null),$e=ke=>{Qe.current&&Qe.current.scrollBy({left:ke==="left"?-200:200,behavior:"smooth"})},Ye=Fe.useRef(null);Fe.useEffect(()=>{te.current&&(te.current.scrollTop=te.current.scrollHeight)},[W]);const st=Fe.useCallback(ke=>{Ye.current&&clearInterval(Ye.current);let ct;if(ke==="custom"?ct=ae*60:ct=yy[ke].time,ct===1/0){M(1/0);return}M(ct),Ye.current=window.setInterval(()=>{M(Rt=>Rt<=1?(Ye.current&&clearInterval(Ye.current),j({title:"Defeated!",body:"Time ran out! The sands of the arena have claimed another."}),D([]),p("duel_game_over"),0):Rt-1)},1e3)},[ae]);Fe.useEffect(()=>()=>{Ye.current&&clearInterval(Ye.current)},[]);const Ve=Fe.useCallback(async()=>{p("loading"),k(null);try{const ke=await A7(e,i,s,u);h(ke),p("quiz")}catch(ke){k(ke instanceof Error?ke.message:"Failed to create a quiz for this card."),p("idle")}},[e,i,s,u]),Yt=Fe.useCallback(async()=>{p("loading"),k(null);try{const ke=await gy(e,s,u);_(ke),p("syntax")}catch(ke){k(ke instanceof Error?ke.message:"Failed to create an exercise for this card."),p("idle")}},[e,s,u]),et=Fe.useCallback(async(ke,ct)=>{if(me(null),ue(""),k(null),ke.length===0){k("Could not generate a duel deck."),p("idle");return}const Rt=ke[Math.floor(Math.random()*ke.length)];He(Rt);try{if(i==="beginner"){const je=await gy(Rt,s,u);Ie(je)}else{const je=await T7(Rt,u,i);Ie(je)}st(ct||ne)}catch(je){k(je instanceof Error?`Failed to generate a new challenge: ${je.message}. Try skipping.`:"Failed to generate a new challenge. Try skipping.")}},[st,i,ne,u,s]),vn=ke=>({...ke,imageUrl:r?a.get(ke.name):ke.imageUrl,isImageLoading:r?!1:ke.isImageLoading}),yt=Fe.useCallback(async ke=>{p("duel_setup"),se(ke),k(null);try{const ct=await C7(e,o,s,u),Rt=K7([e,...ct]);ye(Rt),K(Rt.slice(0,4).map(je=>({...je,isImageLoading:!0}))),le(Rt.slice(4).map(je=>({...je,isImageLoading:!0}))),O(0),(async()=>{for(const je of Rt)try{const Ct=await D_(je.imagePrompt,u);ye(Lt=>Lt.map(It=>It.name===je.name?{...It,imageUrl:Ct,isImageLoading:!1}:It)),K(Lt=>Lt.map(It=>It.name===je.name?{...It,imageUrl:Ct,isImageLoading:!1}:It)),le(Lt=>Lt.map(It=>It.name===je.name?{...It,imageUrl:Ct,isImageLoading:!1}:It))}catch{console.error("Failed to generate duel image for",je.name),ye(Lt=>Lt.map(It=>It.name===je.name?{...It,isImageLoading:!1}:It)),K(Lt=>Lt.map(It=>It.name===je.name?{...It,isImageLoading:!1}:It)),le(Lt=>Lt.map(It=>It.name===je.name?{...It,isImageLoading:!1}:It))}})(),await et(Rt,ke),p("duel_playing")}catch(ct){k(ct instanceof Error?ct.message:"Failed to generate the duel deck."),p("idle")}},[e,et,o,s,u]),Nt=()=>{if(Z.length>0&&Y.length<7){const ke=Z[0];le(Z.slice(1)),K([...Y,ke])}},Mn=()=>{const ke=oe+1;O(ke),ke>=3?(Ye.current&&clearInterval(Ye.current),j({title:"Defeated!",body:"You have retreated too many times. The duel is lost."}),D([]),p("duel_game_over")):et(_e)},vt=Fe.useCallback(ke=>{U(ke)},[]),Ci=ke=>{if(!(!pe||Q)){if("blankAnswer"in pe&&!("targetFunction"in pe)){if(ke.name===(Le==null?void 0:Le.name))me(ke);else{const ct=oe+1;O(ct),k("That's not the right function! Strike!"),setTimeout(()=>k(null),2500),ct>=3&&(Ye.current&&clearInterval(Ye.current),j({title:"Defeated!",body:"Three incorrect plays! The duel is lost."}),D([]),p("duel_game_over"))}return}if(!Ce.has(ke.name)){Re(ct=>new Set(ct).add(ke.name));return}if(pe&&"targetFunction"in pe&&ke.name===pe.targetFunction)me(ke);else{const ct=oe+1;O(ct),k("That's not the right function! Strike!"),setTimeout(()=>k(null),2500),ct>=3&&(Ye.current&&clearInterval(Ye.current),j({title:"Defeated!",body:"Three incorrect plays! The duel is lost."}),D([]),p("duel_game_over"))}}},Jt=ke=>{if(ke.preventDefault(),!pe)return;Ye.current&&clearInterval(Ye.current);const ct=pe.blankAnswer,Rt=vy(be)===vy(ct);qe(Rt),D([]),j(Rt?{title:"Victory!",body:pe.explanation}:{title:"Defeated!",body:`Incorrect. The correct answer was: ${ct}. ${pe.explanation}`}),p("duel_game_over")},jn=ke=>{g&&(v(ke),A(ke===g.correctAnswerIndex),D([]),p("result"))},zn=ke=>{if(ke.preventDefault(),!S)return;const ct=typeof C=="string"?C.trim():"",Rt=S.blankAnswer.trim();let je=!1;if(Rt.includes("__ANY_STRING__")){let Ct=Rt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");Ct=Ct.replace("__ANY_STRING__",".*?"),je=new RegExp(`^${Ct}$`,"i").test(ct)}else je=ct.toLowerCase()===Rt.toLowerCase();A(je),D([]),p("result")},zt=async ke=>{if(ke.preventDefault(),!N.trim()||T)return;const ct={sender:"user",text:N},Rt=[...W,ct];D(Rt),H(""),re(!0);try{let je;if(d==="result")je=g?{type:"quiz",card:e,question:g.question,options:g.options,correctAnswer:g.options[g.correctAnswerIndex],userAnswer:g.options[C],isCorrect:w}:{type:"syntax",card:e,snippet:S.snippet,correctAnswer:S.blankAnswer,userAnswer:C,isCorrect:w};else if(d==="duel_game_over"&&pe&&Le)je={type:"duel",card:Le,snippet:pe.snippet,correctAnswer:pe.blankAnswer,userAnswer:be,isCorrect:Ee};else throw new Error("Cannot determine exercise context for Bruno.");const Ct=await E7(je,Rt,u);D(Lt=>[...Lt,{sender:"ai",text:Ct}])}catch(je){const Ct=je instanceof Error?je.message:"An unknown error occurred.";console.error("Chatbot error:",Ct),D(Lt=>[...Lt,{sender:"ai",text:"Sorry, I encountered an error and cannot respond right now."}])}finally{re(!1)}},pt=()=>{const ke=!!g;v(null),A(null),ke?Ve():Yt()},Ut=()=>{p("idle"),h(null),_(null),v(null),A(null),k(null),K([]),le([]),ye([]),Ie(null),He(null),O(0),me(null),ue(""),Re(new Set),I(!1),qe(null),Ye.current&&clearInterval(Ye.current)},Tr=()=>X?E.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-[60] flex flex-col items-center justify-center p-4",onClick:()=>U(null),children:[E.jsxs("div",{className:"relative",onClick:ke=>ke.stopPropagation(),children:[E.jsx("button",{onClick:()=>U(null),className:"absolute -top-12 right-0 sm:-right-12 text-white hover:text-accent bg-surface-1 rounded-full p-2 border border-muted",children:E.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),E.jsx(us,{card:vn(X),cardTheme:t,isInteractive:!1,libraryName:o})]}),E.jsx("p",{className:"mt-4 text-muted text-sm",children:"Tap anywhere outside to close"})]}):null,bn=()=>{let ke;return d==="result"?g?ke=E.jsxs(E.Fragment,{children:[E.jsx("h4",{className:"font-bold text-lg mb-2",children:"Quiz Question:"}),E.jsx("p",{className:"bg-surface-2 p-3 rounded mb-4",children:g.question}),E.jsx("h4",{className:"font-bold text-lg mb-2",children:"Your Answer:"}),E.jsx("p",{className:`p-3 rounded mb-4 ${w?"bg-success":"bg-danger"}`,children:g.options[C]}),!w&&E.jsxs(E.Fragment,{children:[E.jsx("h4",{className:"font-bold text-lg mb-2",children:"Correct Answer:"}),E.jsx("p",{className:"bg-success p-3 rounded mb-4",children:g.options[g.correctAnswerIndex]})]})]}):S&&(ke=E.jsxs(E.Fragment,{children:[E.jsx("h4",{className:"font-bold text-lg mb-2",children:"Code Snippet:"}),E.jsx(Ff,{code:S.snippet,className:"text-sm mb-4"}),E.jsx("h4",{className:"font-bold text-lg mb-2",children:"Your Answer:"}),E.jsx("p",{className:`p-3 rounded mb-4 font-mono ${w?"bg-success":"bg-danger"}`,children:C||"(No answer given)"}),!w&&E.jsxs(E.Fragment,{children:[E.jsx("h4",{className:"font-bold text-lg mb-2",children:"Correct Answer:"}),E.jsx("p",{className:"bg-success p-3 rounded mb-4 font-mono",children:S.blankAnswer})]})]})):d==="duel_game_over"&&pe&&(ke=E.jsxs(E.Fragment,{children:[E.jsx("h4",{className:"font-bold text-lg mb-2",children:"Challenge Snippet:"}),E.jsx(Ff,{code:pe.snippet,className:"text-sm mb-4"}),E.jsx("h4",{className:"font-bold text-lg mb-2",children:"Your Answer:"}),E.jsx("p",{className:`p-3 rounded mb-4 font-mono ${Ee?"bg-success":"bg-danger"}`,children:be||"(No answer given)"}),!Ee&&E.jsxs(E.Fragment,{children:[E.jsx("h4",{className:"font-bold text-lg mb-2",children:"Correct Answer:"}),E.jsx("p",{className:"bg-success p-3 rounded mb-4 font-mono",children:pe.blankAnswer})]})]})),E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:()=>B(!1),children:E.jsxs("div",{className:"bg-surface-1 p-6 rounded-lg shadow-2xl w-full max-w-2xl text-main max-h-[90vh] flex flex-col",onClick:ct=>ct.stopPropagation(),children:[E.jsx("h3",{className:"text-2xl font-bold text-accent mb-4 text-center",children:"Exercise Review"}),E.jsx("div",{className:"overflow-y-auto pr-2 -mr-2",children:ke}),E.jsx("button",{onClick:()=>B(!1),className:"mt-6 w-full btn btn-primary",children:"Close"})]})})},mi=()=>{switch(d){case"loading":case"duel_setup":return E.jsx("div",{className:"flex justify-center items-center h-full",children:E.jsx(_c,{})});case"quiz":return g&&E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl mb-4",children:g.question}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:g.options.map((je,Ct)=>E.jsx("button",{onClick:()=>jn(Ct),className:"bg-surface-2 hover:bg-primary text-main font-bold py-3 px-4 rounded-lg transition-colors shadow-lg text-left",children:je},Ct))})]});case"syntax":return S&&E.jsxs("form",{onSubmit:zn,children:[E.jsx("h3",{className:"text-xl mb-4",children:"A wild code snippet appears! What spell is missing?"}),E.jsx(Ff,{code:S.snippet,className:"mb-4"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",value:typeof C=="string"?C:"",onChange:je=>v(je.target.value),placeholder:"Type your answer here",className:"flex-grow py-2 px-3 rounded-md focus:outline-none focus:ring-2 form-input",autoFocus:!0}),E.jsx("button",{type:"submit",className:"bg-success hover:brightness-110 text-white font-bold py-2 px-4 rounded-md",children:"Submit"})]})]});case"result":const ke=g?g.explanation:S==null?void 0:S.explanation;return E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{children:[E.jsx("h3",{className:`text-2xl font-bold mb-4 ${w?"text-success":"text-danger"}`,children:w?"Correct!":"Incorrect!"}),ke&&E.jsx("p",{className:"bg-surface-2 p-3 rounded-md mb-4",children:ke}),!w&&S&&E.jsxs("p",{className:"mb-4",children:["The correct answer was: ",E.jsx("code",{className:"bg-surface-2 p-1 rounded-md font-mono",children:S.blankAnswer})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[E.jsx("button",{onClick:pt,className:"flex-1 bg-secondary hover:brightness-110 text-main font-bold py-2 px-4 rounded shadow-lg",children:"Try Another"}),E.jsx("button",{onClick:()=>B(!0),className:"flex-1 bg-primary hover:brightness-110 text-main font-bold py-2 px-4 rounded shadow-lg",children:"Check Exercise"})]})]}),E.jsxs("div",{className:"mt-6 pt-6 border-t border-muted flex-grow flex flex-col min-h-0",children:[E.jsx("h4",{className:"text-lg font-bold text-accent mb-4",children:"Bruno"}),E.jsxs("div",{className:"bg-surface-2 p-3 rounded-lg flex-grow flex flex-col min-h-[250px]",children:[E.jsxs("div",{ref:te,className:"flex-grow overflow-y-auto mb-2 pr-2 space-y-3",children:[W.length===0&&!T&&E.jsx("div",{className:"flex items-center justify-center h-full text-muted text-sm",children:E.jsx("p",{children:"Confused? Ask Bruno for help!"})}),W.map((je,Ct)=>E.jsx("div",{className:`flex ${je.sender==="user"?"justify-end":"justify-start"}`,children:E.jsx("div",{className:`p-2 rounded-lg max-w-[85%] ${je.sender==="user"?"bg-primary":"bg-secondary"}`,children:je.sender==="user"?E.jsx("p",{className:"text-sm text-left whitespace-pre-wrap",children:je.text}):E.jsx(by,{text:je.text})})},Ct)),T&&E.jsx("div",{className:"flex justify-start",children:E.jsx("div",{className:"p-2 rounded-lg bg-secondary",children:E.jsx("span",{className:"animate-pulse",children:"..."})})})]}),E.jsxs("form",{onSubmit:zt,className:"flex gap-2 flex-shrink-0",children:[E.jsx("input",{type:"text",value:N,onChange:je=>H(je.target.value),placeholder:"Ask Bruno... (e.g., Why was my answer wrong?)",className:"flex-grow form-input text-sm",disabled:T}),E.jsx("button",{type:"submit",disabled:T||!N.trim(),className:"btn btn-accent px-4 py-2 text-sm",children:"Send"})]})]})]})]});case"duel_difficulty_select":return ce?E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl mb-4",children:"Set Custom Timer (in minutes)"}),E.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[E.jsx("input",{type:"number",value:ae,onChange:je=>ge(Math.max(1,parseInt(je.target.value,10))||1),className:"w-32 py-2 px-3 rounded-md focus:outline-none focus:ring-2 text-center text-lg form-input",min:"1"}),E.jsx("button",{onClick:()=>yt("custom"),className:"bg-success hover:brightness-110 text-white font-bold py-2 px-6 rounded-lg transition-colors shadow-lg",children:"Start Duel"}),E.jsx("button",{onClick:()=>I(!1),className:"bg-secondary hover:brightness-110 text-white font-bold py-2 px-6 rounded-lg transition-colors shadow-lg",children:"Cancel"})]})]}):E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl mb-4",children:"Select Duel Difficulty"}),E.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4",children:["easy","medium","hard","custom","none"].map(je=>E.jsx("button",{onClick:()=>je==="custom"?I(!0):yt(je),className:"bg-secondary hover:bg-primary text-main font-bold py-3 px-4 rounded-lg transition-colors shadow-lg",children:yy[je].name},je))})]});case"duel_playing":if(!pe)return E.jsx(_c,{});const ct="targetFunction"in pe;return E.jsxs("div",{className:"flex flex-col min-h-full",children:[E.jsxs("div",{className:"flex-grow min-h-[200px] p-4 bg-black bg-opacity-30 rounded-lg border border-muted mb-4 overflow-auto",children:[E.jsx("h4",{className:"text-lg font-bold text-accent mb-2",children:ct?"Trial of Implementation:":"Riddle of Syntax:"}),R&&E.jsx("p",{className:"text-danger bg-danger p-2 rounded mb-2 text-sm",children:R}),E.jsxs("form",{onSubmit:Jt,className:"flex flex-col h-full",children:[E.jsx(Ff,{code:pe.snippet,className:"text-sm mb-3"}),Q?E.jsxs("div",{className:"mt-auto",children:[E.jsx("input",{type:"text",value:be,onChange:je=>ue(je.target.value),placeholder:"Type your answer here...",className:"w-full py-2 px-3 rounded-md focus:outline-none focus:ring-2 form-input",autoFocus:!0}),E.jsx("button",{type:"submit",className:"mt-3 bg-success hover:brightness-110 text-white font-bold py-2 px-4 rounded-md w-full",children:"Submit Answer"})]}):E.jsx("p",{className:"text-accent mt-2 text-center flex-grow flex items-center justify-center",children:ct?"The code's power is fading... a key function is missing. Reveal the face-down cards and choose the one that restores its magic!":"A gap in the incantation! The correct function is missing. Select the card from your hand that completes the spell."})]})]}),E.jsxs("div",{className:"flex-shrink-0 relative group",children:[E.jsxs("h4",{className:"text-center font-bold mb-2",children:["Your Hand (",Y.length,"/7)"]}),E.jsx("button",{onClick:()=>$e("left"),className:"absolute left-0 top-[60%] -translate-y-1/2 z-10 p-2 bg-black/60 hover:bg-black/90 text-white rounded-r-lg backdrop-blur-sm transition-all shadow-lg border-y border-r border-gray-600 active:scale-95","aria-label":"Scroll Left",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),E.jsx("button",{onClick:()=>$e("right"),className:"absolute right-0 top-[60%] -translate-y-1/2 z-10 p-2 bg-black/60 hover:bg-black/90 text-white rounded-l-lg backdrop-blur-sm transition-all shadow-lg border-y border-l border-gray-600 active:scale-95","aria-label":"Scroll Right",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),E.jsx("div",{ref:Qe,className:"flex flex-nowrap justify-start items-center gap-2 sm:gap-4 bg-black bg-opacity-20 p-2 sm:p-4 rounded-lg h-[230px] sm:h-[280px] overflow-x-auto scroll-smooth scrollbar-thin",children:Y.length>0?Y.map(je=>E.jsx("div",{className:`flex-shrink-0 w-[160px] h-[250px] relative group/card ${Q?"opacity-70":"cursor-pointer"}`,onClick:()=>Ci(je),children:E.jsx("div",{className:`absolute top-0 left-0 origin-top-left transform scale-[0.5] transition-transform duration-300 ${Ce.has(je.name)?"group-hover/card:scale-[0.55] group-hover/card:-translate-y-3":""}`,children:E.jsx(us,{card:vn(je),cardTheme:t,isInteractive:!Q,isRevealed:Ce.has(je.name),libraryName:o,onViewDetails:vt})})},je.name)):E.jsx("p",{className:"text-muted w-full text-center",children:"No cards in hand."})})]})]});case"duel_game_over":const Rt=$.title==="Victory!";return E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{children:[E.jsx("h3",{className:`text-2xl font-bold mb-4 ${Rt?"text-success":"text-danger"}`,children:$.title}),E.jsx("p",{className:"bg-surface-2 p-3 rounded-md mb-4 whitespace-pre-wrap",children:$.body}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[E.jsx("button",{onClick:Ut,className:"flex-1 bg-secondary hover:brightness-110 text-main font-bold py-2 px-4 rounded shadow-lg",children:"Return to Challenge Select"}),E.jsx("button",{onClick:()=>B(!0),className:"flex-1 bg-primary hover:brightness-110 text-main font-bold py-2 px-4 rounded shadow-lg",children:"Check Exercise"})]})]}),E.jsxs("div",{className:"mt-6 pt-6 border-t border-muted flex-grow flex flex-col min-h-0",children:[E.jsx("h4",{className:"text-lg font-bold text-accent mb-4",children:"Bruno"}),E.jsxs("div",{className:"bg-surface-2 p-3 rounded-lg flex-grow flex flex-col min-h-[250px]",children:[E.jsxs("div",{ref:te,className:"flex-grow overflow-y-auto mb-2 pr-2 space-y-3",children:[W.length===0&&!T&&E.jsx("div",{className:"flex items-center justify-center h-full text-muted text-sm",children:E.jsx("p",{children:"Have questions about the duel? Ask Bruno!"})}),W.map((je,Ct)=>E.jsx("div",{className:`flex ${je.sender==="user"?"justify-end":"justify-start"}`,children:E.jsx("div",{className:`p-2 rounded-lg max-w-[85%] ${je.sender==="user"?"bg-primary":"bg-secondary"}`,children:je.sender==="user"?E.jsx("p",{className:"text-sm text-left whitespace-pre-wrap",children:je.text}):E.jsx(by,{text:je.text})})},Ct)),T&&E.jsx("div",{className:"flex justify-start",children:E.jsx("div",{className:"p-2 rounded-lg bg-secondary",children:E.jsx("span",{className:"animate-pulse",children:"..."})})})]}),E.jsxs("form",{onSubmit:zt,className:"flex gap-2 flex-shrink-0",children:[E.jsx("input",{type:"text",value:N,onChange:je=>H(je.target.value),placeholder:"Ask Bruno... (e.g., Why was that the right function?)",className:"flex-grow form-input text-sm",disabled:T}),E.jsx("button",{type:"submit",disabled:T||!N.trim(),className:"btn btn-accent px-4 py-2 text-sm",children:"Send"})]})]})]})]});case"idle":default:return E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl mb-2",children:"Choose your challenge!"}),E.jsxs("p",{className:"text-muted mb-6",children:["Test your knowledge of ",E.jsx("span",{className:"font-bold text-accent",children:e.name}),"."]}),R&&E.jsx("p",{className:"text-danger bg-danger p-2 rounded mb-4",children:R}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[E.jsx("button",{onClick:Ve,className:"flex-1 btn btn-primary",children:"Trial of Strategy"}),E.jsx("button",{onClick:Yt,className:"flex-1 btn btn-secondary",children:"Incantation Ritual"}),E.jsx("button",{onClick:()=>p("duel_difficulty_select"),className:"flex-1 btn btn-accent",disabled:l==="creative",title:l==="creative"?"Code Duel is only available in Code Mode":void 0,children:"Code Duel"})]})]})}},Ti=()=>{if(d!=="duel_playing")return null;const ct=pe&&"targetFunction"in pe?Q?"Answering Phase":"Challenge Phase":"Syntax Phase";return E.jsxs("div",{className:"sticky top-0 z-20 lg:static w-full lg:w-80 flex-shrink-0 p-2 sm:p-4 bg-surface-1/95 lg:bg-surface-1/50 backdrop-blur-md rounded-lg border-b-2 lg:border-b-0 lg:border-r-2 border-muted flex flex-row lg:flex-col justify-between lg:justify-start items-center gap-2 sm:gap-4 shadow-md lg:shadow-none transition-all duration-300",children:[E.jsxs("div",{className:"flex flex-row lg:flex-col gap-3 sm:gap-6 items-center lg:items-center flex-grow justify-around lg:justify-start",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h4",{className:"font-bold text-xs sm:text-sm lg:text-lg text-muted lg:text-main",children:ct}),E.jsx("p",{className:"text-xl sm:text-2xl lg:text-4xl font-mono text-yellow-300 leading-none mt-1",children:W7(Ge)})]}),E.jsxs("div",{className:"text-center flex flex-col items-center",children:[E.jsx("h4",{className:"font-bold text-xs sm:text-sm lg:text-lg text-muted lg:text-main hidden sm:block",children:"Strikes"}),E.jsx("div",{className:"flex justify-center gap-1 lg:gap-2 mt-1",children:[...Array(3)].map((Rt,je)=>E.jsx("span",{className:`w-3 h-3 sm:w-4 sm:h-4 lg:w-8 lg:h-2 rounded-full ${je<oe?"bg-danger":"bg-surface-2 border border-muted"}`},je))})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("h4",{className:"font-bold text-xs sm:text-sm lg:text-lg text-muted lg:text-main",children:"Deck"}),E.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold leading-none mt-1",children:Z.length})]})]}),E.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-3 lg:mt-auto w-auto lg:w-full flex-shrink-0",children:[E.jsx("button",{onClick:Nt,disabled:Z.length===0||Y.length>=7||!!Q,className:"btn btn-primary text-xs sm:text-sm py-1.5 px-3 sm:px-4 lg:py-2",children:"Draw"}),E.jsx("button",{onClick:Mn,disabled:oe>=3||!!Q,className:"btn btn-secondary text-xs sm:text-sm py-1.5 px-3 sm:px-4 lg:py-2",children:"Skip"})]})]})};return E.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-2 sm:p-6","aria-modal":"true",role:"dialog",children:[E.jsx(Tr,{}),q&&E.jsx(bn,{}),E.jsxs("div",{className:"bg-surface-1 w-full h-full sm:w-[95%] sm:h-[95%] lg:w-[85%] lg:h-[85%] max-w-[1600px] p-4 md:p-6 lg:p-8 text-center relative flex flex-col rounded-xl shadow-2xl border border-accent/30 overflow-hidden",style:{backgroundImage:"radial-gradient(circle, var(--color-primary-transparent) 0%, transparent 60%)"},children:[E.jsx("button",{onClick:n,className:"absolute top-3 right-3 text-muted hover:text-main z-10","aria-label":"Close battlefield",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),E.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-4 gradient-text flex-shrink-0",children:"Battlefield"}),E.jsxs("div",{className:"flex w-full flex-col lg:flex-row items-stretch gap-6 flex-grow min-h-0 overflow-y-auto lg:overflow-hidden",children:[d.startsWith("duel")&&E.jsxs(E.Fragment,{children:[Ti(),E.jsx("div",{className:"flex-grow min-h-0 min-w-0 lg:overflow-y-auto pr-2 pb-4",children:mi()})]}),!d.startsWith("duel")&&E.jsx("div",{className:"w-full flex-grow min-h-0 lg:overflow-y-auto pr-2 pb-4",children:mi()})]})]})]})},Z7=["Core","Staple","Situational","Niche"],$7={Core:"text-yellow-300 border-yellow-400",Staple:"text-sky-300 border-sky-400",Situational:"text-green-300 border-green-400",Niche:"text-gray-400 border-gray-500"},Q7=({allFunctions:e,functionCategories:t,selectedFunctions:n,setSelectedFunctions:i,onGenerate:r,isLoading:a,presentationCards:o,title:s,description:l,filterPlaceholder:u,generateButtonText:d})=>{const[p,g]=Fe.useState(""),[h,S]=Fe.useState(10),[_,C]=Fe.useState(5),[v,w]=Fe.useState({Core:!0,Staple:!0,Situational:!1,Niche:!1}),A=W=>{w(D=>({...D,[W]:!D[W]}))},R=W=>{i(D=>{const N=new Set(D);return N.has(W)?N.delete(W):N.add(W),N})},k=()=>{const W=e.filter(D=>D.toLowerCase().includes(p.toLowerCase()));i(new Set(W))},X=()=>{i(new Set)},U=()=>{const W=o.map(D=>D.name);i(D=>{const N=new Set(D);return W.forEach(H=>N.add(H)),N})},q=Fe.useMemo(()=>{const W={Core:[],Staple:[],Situational:[],Niche:[]};return e.forEach(D=>{const N=t[D]||"Situational";W.hasOwnProperty(N)?W[N].push(D):W.Niche.push(D)}),Object.values(W).forEach(D=>D.sort((N,H)=>N.localeCompare(H))),W},[e,t]);return E.jsxs("div",{className:"max-w-6xl mx-auto bg-surface-1 bg-opacity-70 p-6 rounded-lg border border-accent",children:[E.jsx("h3",{className:"text-center text-2xl font-bold text-accent mb-4",children:s}),E.jsx("p",{className:"text-center text-muted mb-6",children:l}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4 items-center",children:[E.jsx("input",{type:"text",placeholder:u,value:p,onChange:W=>g(W.target.value),className:"w-full sm:w-auto flex-grow py-2 px-3 border rounded-md focus:outline-none focus:ring-2 form-input"}),E.jsxs("div",{className:"flex gap-2 flex-wrap justify-center",children:[o.length>0&&E.jsx("button",{onClick:U,className:"bg-secondary hover:brightness-110 text-main font-bold py-2 px-4 rounded shadow-md transition-colors text-sm",children:"Select Presentation"}),E.jsx("button",{onClick:k,className:"bg-secondary hover:brightness-110 text-main font-bold py-2 px-4 rounded shadow-md transition-colors text-sm",children:"Select All (Filtered)"}),E.jsx("button",{onClick:X,className:"bg-secondary hover:brightness-110 text-main font-bold py-2 px-4 rounded shadow-md transition-colors text-sm",children:"Deselect All"})]})]}),n.size>10&&E.jsxs("div",{className:"mb-4 p-4 bg-surface-2 rounded-lg border border-muted text-sm flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-6",children:[E.jsx("p",{className:"font-bold text-accent",children:"Large selection detected!"}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("label",{htmlFor:"batch-size",className:"text-muted whitespace-nowrap",children:"Cards per batch:"}),E.jsx("input",{id:"batch-size",type:"number",value:h,onChange:W=>S(Math.max(1,parseInt(W.target.value,10))||1),className:"form-input w-20 py-1 px-2 rounded-md",min:"1"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("label",{htmlFor:"cooldown",className:"text-muted whitespace-nowrap",children:"Cooldown (sec):"}),E.jsx("input",{id:"cooldown",type:"number",value:_,onChange:W=>C(Math.max(0,parseInt(W.target.value,10))||0),className:"form-input w-20 py-1 px-2 rounded-md",min:"0"})]})]}),E.jsx("div",{className:"max-h-80 overflow-y-auto bg-black bg-opacity-30 p-4 rounded-md border border-muted space-y-2",children:Z7.map(W=>{var N;const D=((N=q[W])==null?void 0:N.filter(H=>H.toLowerCase().includes(p.toLowerCase())))||[];return D.length===0?null:E.jsxs("div",{children:[E.jsxs("button",{onClick:()=>A(W),className:`w-full text-left font-bold text-lg mb-2 pb-1 border-b-2 flex justify-between items-center ${$7[W]||"text-main border-muted"}`,children:[E.jsxs("span",{children:[W,E.jsxs("span",{className:"text-sm font-normal text-muted ml-2",children:["(",D.length,")"]})]}),E.jsx("svg",{className:`w-5 h-5 transition-transform ${v[W]?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),v[W]&&E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-4 gap-y-2 text-sm pt-2 pb-4",children:D.map(H=>E.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:text-accent transition-colors",children:[E.jsx("input",{type:"checkbox",checked:n.has(H),onChange:()=>R(H),className:"form-checkbox h-4 w-4 bg-surface-2 border-muted rounded focus:ring-accent"}),E.jsx("span",{className:"truncate",title:H,children:H})]},H))})]},W)})}),E.jsx("div",{className:"mt-6 text-center",children:E.jsx("button",{onClick:()=>r({batchSize:h,cooldown:_}),disabled:a||n.size===0,className:"btn btn-primary",children:a?"Generating...":`${d} ${n.size} Cards`})})]})},eL=({card:e,cardTheme:t,onClose:n,onChallenge:i,libraryName:r})=>{const a=Fe.useRef(null),[o,s]=Fe.useState(!1),l=Fe.useCallback(async()=>{if(!a.current){console.error("Card element not found.");return}s(!0);try{const u=await i_(a.current,{cacheBust:!0,pixelRatio:2}),d=document.createElement("a");d.download=`${e.name.replace(/\s+/g,"_")}.png`,d.href=u,d.click()}catch(u){console.error("Failed to download card image.",u)}finally{s(!1)}},[e.name]);return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:n,"aria-modal":"true",role:"dialog",children:E.jsxs("div",{className:"relative flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8 w-full max-w-4xl",onClick:u=>u.stopPropagation(),children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx(us,{ref:a,card:e,cardTheme:t,isInteractive:!1,libraryName:r})}),E.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-[280px] sm:max-w-none sm:w-48",children:[E.jsx("button",{onClick:i,className:"btn btn-primary",children:"Challenge"}),E.jsx("button",{onClick:l,disabled:o,className:"btn btn-secondary",children:o?"Downloading...":"Download Card"}),E.jsx("button",{onClick:n,className:"bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-full transition-transform duration-300 ease-in-out transform hover:scale-105 shadow-lg",children:"Close"})]})]})})},tL=({currentTheme:e,onThemeChange:t,cardTheme:n,onCardThemeChange:i})=>{const r=o=>{const s=rd.find(l=>l.name===o.target.value)||rd[0];t(s)},a=()=>{i(n==="default"?"official":"default")};return E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("label",{htmlFor:"theme-select",className:"text-xs font-bold text-muted",children:"UI Theme:"}),E.jsx("select",{id:"theme-select",value:e.name,onChange:r,className:"bg-surface-2 text-main text-xs rounded-md p-1 border border-border focus:ring-accent focus:border-accent",children:rd.map(o=>E.jsx("option",{value:o.name,children:o.name},o.name))})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("label",{className:"text-xs font-bold text-muted",children:"Card Style:"}),E.jsxs("button",{onClick:a,className:"relative inline-flex items-center h-6 rounded-full w-28 bg-surface-2 border border-border",children:[E.jsx("span",{className:"sr-only",children:"Toggle Card Theme"}),E.jsx("span",{className:"absolute left-0 inline-block w-14 h-full transform transition-transform rounded-full bg-primary",style:{transform:n==="official"?"translateX(100%)":"translateX(0)"}}),E.jsx("span",{className:`relative w-1/2 text-center text-xs font-bold z-10 transition-colors ${n==="default"?"text-white":"text-muted"}`,children:"Default"}),E.jsx("span",{className:`relative w-1/2 text-center text-xs font-bold z-10 transition-colors ${n==="official"?"text-white":"text-muted"}`,children:"Official"})]})]})]})},nL=["beginner","intermediate","advanced"],iL=({skillLevel:e,onSkillLevelChange:t})=>E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("label",{className:"text-xs font-bold text-muted",children:"Skill Level:"}),E.jsx("div",{className:"bg-surface-2 p-1 rounded-full flex border border-border",children:nL.map(n=>E.jsx("button",{onClick:()=>t(n),className:`px-3 py-0.5 text-xs font-bold rounded-full transition-colors ${e===n?"bg-primary text-white":"text-muted hover:bg-surface-1"}`,"aria-pressed":e===n,children:n.charAt(0).toUpperCase()+n.slice(1)},n))})]}),rL=({isManual:e,onToggle:t})=>E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("label",{htmlFor:"manual-art-toggle",className:"text-xs font-bold text-muted whitespace-nowrap",children:"Manual Art:"}),E.jsxs("button",{id:"manual-art-toggle",onClick:()=>t(!e),className:`relative inline-flex items-center h-6 rounded-full w-12 transition-colors duration-300 ${e?"bg-success":"bg-surface-2"} border border-border`,role:"switch","aria-checked":e,children:[E.jsx("span",{className:"sr-only",children:"Toggle Manual Art Mode"}),E.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 ${e?"translate-x-7":"translate-x-1"}`})]})]}),wy=e=>`A Yu-Gi-Oh card art style image of: ${e}, epic, fantasy, detailed, vibrant colors, 16:9 aspect ratio`,aL=({cards:e,manualImageMap:t,onImageAssign:n})=>{const[i,r]=Fe.useState({}),[a,o]=Fe.useState("Copy All Prompts");if(e.length===0)return null;const s=(d,p)=>{var h;const g=(h=d.target.files)==null?void 0:h[0];if(g){const S=new FileReader;S.onload=_=>{var C;(C=_.target)!=null&&C.result&&n(p,_.target.result)},S.readAsDataURL(g)}},l=(d,p)=>{navigator.clipboard.writeText(p).then(()=>{r(g=>({...g,[d]:!0})),setTimeout(()=>{r(g=>({...g,[d]:!1}))},2e3)}).catch(g=>{console.error("Failed to copy text: ",g)})},u=()=>{const d=e.map(p=>`${p.name}:
${wy(p.imagePrompt)}`).join(`

`);navigator.clipboard.writeText(d).then(()=>{o("All Copied!"),setTimeout(()=>{o("Copy All Prompts")},2e3)}).catch(p=>{console.error("Failed to copy all prompts: ",p)})};return E.jsxs("div",{className:"max-w-7xl mx-auto bg-surface-1 bg-opacity-70 p-6 rounded-lg border border-accent mt-12",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("h3",{className:"text-2xl font-bold text-accent mb-4",children:"Manual Art Prompts"}),E.jsx("p",{className:"text-muted mb-6",children:"Manual Art Mode is active. Generate images for the prompts below and upload them."}),E.jsx("button",{onClick:u,disabled:a==="All Copied!",className:`btn ${a==="All Copied!"?"bg-success":"btn-secondary"}`,children:a})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>{const p=wy(d.imagePrompt);return E.jsxs("div",{className:"bg-surface-2 p-4 rounded-lg border border-muted flex flex-col gap-3",children:[E.jsx("h4",{className:"font-bold text-main truncate",children:d.name}),E.jsx("div",{className:"bg-black bg-opacity-30 p-3 rounded text-sm text-gray-300 font-mono flex-grow max-h-32 overflow-y-auto",children:p}),E.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[t.has(d.name)&&E.jsx("img",{src:t.get(d.name),alt:`Preview for ${d.name}`,className:"w-16 h-16 object-cover rounded border-2 border-accent flex-shrink-0"}),E.jsxs("div",{className:"flex-grow flex items-center gap-2",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{htmlFor:`file-upload-${d.name.replace(/[^a-zA-Z0-9]/g,"-")}`,className:"w-full text-center cursor-pointer bg-secondary hover:brightness-110 text-main font-bold py-2 px-3 rounded shadow-md transition-colors text-sm block",children:t.has(d.name)?"Change Image":"Upload Image"}),E.jsx("input",{id:`file-upload-${d.name.replace(/[^a-zA-Z0-9]/g,"-")}`,type:"file",accept:"image/png, image/jpeg, image/webp",className:"hidden",onChange:g=>s(g,d.name)})]}),E.jsx("button",{onClick:()=>l(d.name,p),className:`flex-1 text-center cursor-pointer font-bold py-2 px-3 rounded shadow-md transition-colors text-sm block ${i[d.name]?"bg-success":"bg-surface-1 hover:bg-gray-600"} text-main`,children:i[d.name]?"Copied!":"Copy Prompt"})]})]})]},d.name)})})]})},oL="modulepreload",sL=function(e){return"/yu-gi-code-v2/"+e},_y={},ng=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=sL(l),l in _y)return;_y[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":oL,u||(p.as="script"),p.crossOrigin="",p.href=l,s&&p.setAttribute("nonce",s),document.head.appendChild(p),u)return new Promise((g,h)=>{p.addEventListener("load",g),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return r.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};function $t(e){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(e)}var hi=Uint8Array,tr=Uint16Array,M0=Int32Array,vh=new hi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bh=new hi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ig=new hi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O_=function(e,t){for(var n=new tr(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var r=new M0(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return{b:n,r}},z_=O_(vh,2),q_=z_.b,rg=z_.r;q_[28]=258,rg[258]=28;var G_=O_(bh,0),lL=G_.b,xy=G_.r,ag=new tr(32768);for(var hn=0;hn<32768;++hn){var oo=(hn&43690)>>1|(hn&21845)<<1;oo=(oo&52428)>>2|(oo&13107)<<2,oo=(oo&61680)>>4|(oo&3855)<<4,ag[hn]=((oo&65280)>>8|(oo&255)<<8)>>1}var ea=function(e,t,n){for(var i=e.length,r=0,a=new tr(t);r<i;++r)e[r]&&++a[e[r]-1];var o=new tr(t);for(r=1;r<t;++r)o[r]=o[r-1]+a[r-1]<<1;var s;if(n){s=new tr(1<<t);var l=15-t;for(r=0;r<i;++r)if(e[r])for(var u=r<<4|e[r],d=t-e[r],p=o[e[r]-1]++<<d,g=p|(1<<d)-1;p<=g;++p)s[ag[p]>>l]=u}else for(s=new tr(i),r=0;r<i;++r)e[r]&&(s[r]=ag[o[e[r]-1]++]>>15-e[r]);return s},Po=new hi(288);for(var hn=0;hn<144;++hn)Po[hn]=8;for(var hn=144;hn<256;++hn)Po[hn]=9;for(var hn=256;hn<280;++hn)Po[hn]=7;for(var hn=280;hn<288;++hn)Po[hn]=8;var xc=new hi(32);for(var hn=0;hn<32;++hn)xc[hn]=5;var uL=ea(Po,9,0),cL=ea(Po,9,1),fL=ea(xc,5,0),dL=ea(xc,5,1),zp=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Pr=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&n},qp=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},k0=function(e){return(e+7)/8|0},H_=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new hi(e.subarray(t,n))},hL=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ur=function(e,t,n){var i=new Error(t||hL[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,Ur),!n)throw i;return i},pL=function(e,t,n,i){var r=e.length,a=0;if(!r||t.f&&!t.l)return n||new hi(0);var o=!n,s=o||t.i!=2,l=t.i;o&&(n=new hi(r*3));var u=function(Le){var He=n.length;if(Le>He){var Ge=new hi(Math.max(He*2,Le));Ge.set(n),n=Ge}},d=t.f||0,p=t.p||0,g=t.b||0,h=t.l,S=t.d,_=t.m,C=t.n,v=r*8;do{if(!h){d=Pr(e,p,1);var w=Pr(e,p+1,3);if(p+=3,w)if(w==1)h=cL,S=dL,_=9,C=5;else if(w==2){var X=Pr(e,p,31)+257,U=Pr(e,p+10,15)+4,q=X+Pr(e,p+5,31)+1;p+=14;for(var B=new hi(q),W=new hi(19),D=0;D<U;++D)W[ig[D]]=Pr(e,p+D*3,7);p+=U*3;for(var N=zp(W),H=(1<<N)-1,T=ea(W,N,1),D=0;D<q;){var re=T[Pr(e,p,H)];p+=re&15;var A=re>>4;if(A<16)B[D++]=A;else{var te=0,ne=0;for(A==16?(ne=3+Pr(e,p,3),p+=2,te=B[D-1]):A==17?(ne=3+Pr(e,p,7),p+=3):A==18&&(ne=11+Pr(e,p,127),p+=7);ne--;)B[D++]=te}}var se=B.subarray(0,X),ae=B.subarray(X);_=zp(se),C=zp(ae),h=ea(se,_,1),S=ea(ae,C,1)}else Ur(1);else{var A=k0(p)+4,R=e[A-4]|e[A-3]<<8,k=A+R;if(k>r){l&&Ur(0);break}s&&u(g+R),n.set(e.subarray(A,k),g),t.b=g+=R,t.p=p=k*8,t.f=d;continue}if(p>v){l&&Ur(0);break}}s&&u(g+131072);for(var ge=(1<<_)-1,ce=(1<<C)-1,I=p;;I=p){var te=h[qp(e,p)&ge],Y=te>>4;if(p+=te&15,p>v){l&&Ur(0);break}if(te||Ur(2),Y<256)n[g++]=Y;else if(Y==256){I=p,h=null;break}else{var K=Y-254;if(Y>264){var D=Y-257,Z=vh[D];K=Pr(e,p,(1<<Z)-1)+q_[D],p+=Z}var le=S[qp(e,p)&ce],_e=le>>4;le||Ur(3),p+=le&15;var ae=lL[_e];if(_e>3){var Z=bh[_e];ae+=qp(e,p)&(1<<Z)-1,p+=Z}if(p>v){l&&Ur(0);break}s&&u(g+131072);var ye=g+K;if(g<ae){var pe=a-ae,Ie=Math.min(ae,ye);for(pe+g<0&&Ur(3);g<Ie;++g)n[g]=i[pe+g]}for(;g<ye;++g)n[g]=n[g-ae]}}t.l=h,t.p=I,t.b=g,t.f=d,h&&(d=1,t.m=_,t.d=S,t.n=C)}while(!d);return g!=n.length&&o?H_(n,0,g):n.subarray(0,g)},ba=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},Fu=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},Gp=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,a=n.slice();if(!r)return{t:j_,l:0};if(r==1){var o=new hi(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(k,X){return k.f-X.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,d=1,p=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};d!=r-1;)s=n[n[u].f<n[p].f?u++:p++],l=n[u!=d&&n[u].f<n[p].f?u++:p++],n[d++]={s:-1,f:s.f+l.f,l:s,r:l};for(var g=a[0].s,i=1;i<r;++i)a[i].s>g&&(g=a[i].s);var h=new tr(g+1),S=og(n[d-1],h,0);if(S>t){var i=0,_=0,C=S-t,v=1<<C;for(a.sort(function(X,U){return h[U.s]-h[X.s]||X.f-U.f});i<r;++i){var w=a[i].s;if(h[w]>t)_+=v-(1<<S-h[w]),h[w]=t;else break}for(_>>=C;_>0;){var A=a[i].s;h[A]<t?_-=1<<t-h[A]++-1:++i}for(;i>=0&&_;--i){var R=a[i].s;h[R]==t&&(--h[R],++_)}S=t}return{t:new hi(h),l:S}},og=function(e,t,n){return e.s==-1?Math.max(og(e.l,t,n+1),og(e.r,t,n+1)):t[e.s]=n},Sy=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new tr(++t),i=0,r=e[0],a=1,o=function(l){n[i++]=l},s=1;s<=t;++s)if(e[s]==r&&s!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(r),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(r);a=1,r=e[s]}return{c:n.subarray(0,i),n:t}},Uu=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},V_=function(e,t,n){var i=n.length,r=k0(t+2);e[r]=i&255,e[r+1]=i>>8,e[r+2]=e[r]^255,e[r+3]=e[r+1]^255;for(var a=0;a<i;++a)e[r+a+4]=n[a];return(r+4+i)*8},Ay=function(e,t,n,i,r,a,o,s,l,u,d){ba(t,d++,n),++r[256];for(var p=Gp(r,15),g=p.t,h=p.l,S=Gp(a,15),_=S.t,C=S.l,v=Sy(g),w=v.c,A=v.n,R=Sy(_),k=R.c,X=R.n,U=new tr(19),q=0;q<w.length;++q)++U[w[q]&31];for(var q=0;q<k.length;++q)++U[k[q]&31];for(var B=Gp(U,7),W=B.t,D=B.l,N=19;N>4&&!W[ig[N-1]];--N);var H=u+5<<3,T=Uu(r,Po)+Uu(a,xc)+o,re=Uu(r,g)+Uu(a,_)+o+14+3*N+Uu(U,W)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&H<=T&&H<=re)return V_(t,d,e.subarray(l,l+u));var te,ne,se,ae;if(ba(t,d,1+(re<T)),d+=2,re<T){te=ea(g,h,0),ne=g,se=ea(_,C,0),ae=_;var ge=ea(W,D,0);ba(t,d,A-257),ba(t,d+5,X-1),ba(t,d+10,N-4),d+=14;for(var q=0;q<N;++q)ba(t,d+3*q,W[ig[q]]);d+=3*N;for(var ce=[w,k],I=0;I<2;++I)for(var Y=ce[I],q=0;q<Y.length;++q){var K=Y[q]&31;ba(t,d,ge[K]),d+=W[K],K>15&&(ba(t,d,Y[q]>>5&127),d+=Y[q]>>12)}}else te=uL,ne=Po,se=fL,ae=xc;for(var q=0;q<s;++q){var Z=i[q];if(Z>255){var K=Z>>18&31;Fu(t,d,te[K+257]),d+=ne[K+257],K>7&&(ba(t,d,Z>>23&31),d+=vh[K]);var le=Z&31;Fu(t,d,se[le]),d+=ae[le],le>3&&(Fu(t,d,Z>>5&8191),d+=bh[le])}else Fu(t,d,te[Z]),d+=ne[Z]}return Fu(t,d,te[256]),d+ne[256]},mL=new M0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),j_=new hi(0),gL=function(e,t,n,i,r,a){var o=a.z||e.length,s=new hi(i+o+5*(1+Math.ceil(o/7e3))+r),l=s.subarray(i,s.length-r),u=a.l,d=(a.r||0)&7;if(t){d&&(l[0]=a.r>>3);for(var p=mL[t-1],g=p>>13,h=p&8191,S=(1<<n)-1,_=a.p||new tr(32768),C=a.h||new tr(S+1),v=Math.ceil(n/3),w=2*v,A=function(M){return(e[M]^e[M+1]<<v^e[M+2]<<w)&S},R=new M0(25e3),k=new tr(288),X=new tr(32),U=0,q=0,B=a.i||0,W=0,D=a.w||0,N=0;B+2<o;++B){var H=A(B),T=B&32767,re=C[H];if(_[T]=re,C[H]=T,D<=B){var te=o-B;if((U>7e3||W>24576)&&(te>423||!u)){d=Ay(e,l,0,R,k,X,q,W,N,B-N,d),W=U=q=0,N=B;for(var ne=0;ne<286;++ne)k[ne]=0;for(var ne=0;ne<30;++ne)X[ne]=0}var se=2,ae=0,ge=h,ce=T-re&32767;if(te>2&&H==A(B-ce))for(var I=Math.min(g,te)-1,Y=Math.min(32767,B),K=Math.min(258,te);ce<=Y&&--ge&&T!=re;){if(e[B+se]==e[B+se-ce]){for(var Z=0;Z<K&&e[B+Z]==e[B+Z-ce];++Z);if(Z>se){if(se=Z,ae=ce,Z>I)break;for(var le=Math.min(ce,Z-2),_e=0,ne=0;ne<le;++ne){var ye=B-ce+ne&32767,pe=_[ye],Ie=ye-pe&32767;Ie>_e&&(_e=Ie,re=ye)}}}T=re,re=_[T],ce+=T-re&32767}if(ae){R[W++]=268435456|rg[se]<<18|xy[ae];var Le=rg[se]&31,He=xy[ae]&31;q+=vh[Le]+bh[He],++k[257+Le],++X[He],D=B+se,++U}else R[W++]=e[B],++k[e[B]]}}for(B=Math.max(B,D);B<o;++B)R[W++]=e[B],++k[e[B]];d=Ay(e,l,u,R,k,X,q,W,N,B-N,d),u||(a.r=d&7|l[d/8|0]<<3,d-=7,a.h=C,a.p=_,a.i=B,a.w=D)}else{for(var B=a.w||0;B<o+u;B+=65535){var Ge=B+65535;Ge>=o&&(l[d/8|0]=u,Ge=o),d=V_(l,d+1,e.subarray(B,Ge))}a.i=o}return H_(s,0,i+k0(d)+r)},Y_=function(){var e=1,t=0;return{p:function(n){for(var i=e,r=t,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)r+=i+=n[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}e=i,t=r},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},yL=function(e,t,n,i,r){if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new hi(a.length+e.length);o.set(a),o.set(e,a.length),e=o,r.w=a.length}return gL(e,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,r)},J_=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},vL=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=Y_();r.p(t.dictionary),J_(e,2,r.d())}},bL=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ur(6,"invalid zlib data"),(e[1]>>5&1)==1&&Ur(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function sg(e,t){t||(t={});var n=Y_();n.p(e);var i=yL(e,t,t.dictionary?6:2,4);return vL(i,t),J_(i,i.length-4,n.d()),i}function wL(e,t){return pL(e.subarray(bL(e),-4),{i:2},t,t)}var _L=typeof TextDecoder<"u"&&new TextDecoder,xL=0;try{_L.decode(j_,{stream:!0}),xL=1}catch{}var ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Hp(){ht.console&&typeof ht.console.log=="function"&&ht.console.log.apply(ht.console,arguments)}var rn={log:Hp,warn:function(e){ht.console&&(typeof ht.console.warn=="function"?ht.console.warn.apply(ht.console,arguments):Hp.call(null,arguments))},error:function(e){ht.console&&(typeof ht.console.error=="function"?ht.console.error.apply(ht.console,arguments):Hp(e))}};function Vp(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){ns(i.response,t,n)},i.onerror=function(){rn.error("could not download file")},i.send()}function Cy(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Uf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var rc,lg,ns=ht.saveAs||((typeof window>"u"?"undefined":$t(window))!=="object"||window!==ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=ht.URL||ht.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?Cy(r.href)?Vp(e,t,n):Uf(r,r.target="_blank"):Uf(r)):(r.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Uf(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Cy(e))Vp(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){Uf(i)})}else navigator.msSaveOrOpenBlob(function(r,a){return a===void 0?a={autoBom:!1}:$t(a)!=="object"&&(rn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return Vp(e,t,n);var r=e.type==="application/octet-stream",a=/constructor/i.test(ht.HTMLElement)||ht.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&a)&&(typeof FileReader>"u"?"undefined":$t(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=d:location=d,i=null},s.readAsDataURL(e)}else{var l=ht.URL||ht.webkitURL,u=l.createObjectURL(e);i?i.location=u:location.href=u,i=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function K_(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,a=n[i].process,o=r.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function jp(e,t){var n=e[0],i=e[1],r=e[2],a=e[3];n=ui(n,i,r,a,t[0],7,-680876936),a=ui(a,n,i,r,t[1],12,-389564586),r=ui(r,a,n,i,t[2],17,606105819),i=ui(i,r,a,n,t[3],22,-1044525330),n=ui(n,i,r,a,t[4],7,-176418897),a=ui(a,n,i,r,t[5],12,1200080426),r=ui(r,a,n,i,t[6],17,-1473231341),i=ui(i,r,a,n,t[7],22,-45705983),n=ui(n,i,r,a,t[8],7,1770035416),a=ui(a,n,i,r,t[9],12,-1958414417),r=ui(r,a,n,i,t[10],17,-42063),i=ui(i,r,a,n,t[11],22,-1990404162),n=ui(n,i,r,a,t[12],7,1804603682),a=ui(a,n,i,r,t[13],12,-40341101),r=ui(r,a,n,i,t[14],17,-1502002290),n=ci(n,i=ui(i,r,a,n,t[15],22,1236535329),r,a,t[1],5,-165796510),a=ci(a,n,i,r,t[6],9,-1069501632),r=ci(r,a,n,i,t[11],14,643717713),i=ci(i,r,a,n,t[0],20,-373897302),n=ci(n,i,r,a,t[5],5,-701558691),a=ci(a,n,i,r,t[10],9,38016083),r=ci(r,a,n,i,t[15],14,-660478335),i=ci(i,r,a,n,t[4],20,-405537848),n=ci(n,i,r,a,t[9],5,568446438),a=ci(a,n,i,r,t[14],9,-1019803690),r=ci(r,a,n,i,t[3],14,-187363961),i=ci(i,r,a,n,t[8],20,1163531501),n=ci(n,i,r,a,t[13],5,-1444681467),a=ci(a,n,i,r,t[2],9,-51403784),r=ci(r,a,n,i,t[7],14,1735328473),n=fi(n,i=ci(i,r,a,n,t[12],20,-1926607734),r,a,t[5],4,-378558),a=fi(a,n,i,r,t[8],11,-2022574463),r=fi(r,a,n,i,t[11],16,1839030562),i=fi(i,r,a,n,t[14],23,-35309556),n=fi(n,i,r,a,t[1],4,-1530992060),a=fi(a,n,i,r,t[4],11,1272893353),r=fi(r,a,n,i,t[7],16,-155497632),i=fi(i,r,a,n,t[10],23,-1094730640),n=fi(n,i,r,a,t[13],4,681279174),a=fi(a,n,i,r,t[0],11,-358537222),r=fi(r,a,n,i,t[3],16,-722521979),i=fi(i,r,a,n,t[6],23,76029189),n=fi(n,i,r,a,t[9],4,-640364487),a=fi(a,n,i,r,t[12],11,-421815835),r=fi(r,a,n,i,t[15],16,530742520),n=di(n,i=fi(i,r,a,n,t[2],23,-995338651),r,a,t[0],6,-198630844),a=di(a,n,i,r,t[7],10,1126891415),r=di(r,a,n,i,t[14],15,-1416354905),i=di(i,r,a,n,t[5],21,-57434055),n=di(n,i,r,a,t[12],6,1700485571),a=di(a,n,i,r,t[3],10,-1894986606),r=di(r,a,n,i,t[10],15,-1051523),i=di(i,r,a,n,t[1],21,-2054922799),n=di(n,i,r,a,t[8],6,1873313359),a=di(a,n,i,r,t[15],10,-30611744),r=di(r,a,n,i,t[6],15,-1560198380),i=di(i,r,a,n,t[13],21,1309151649),n=di(n,i,r,a,t[4],6,-145523070),a=di(a,n,i,r,t[11],10,-1120210379),r=di(r,a,n,i,t[2],15,718787259),i=di(i,r,a,n,t[9],21,-343485551),e[0]=wo(n,e[0]),e[1]=wo(i,e[1]),e[2]=wo(r,e[2]),e[3]=wo(a,e[3])}function wh(e,t,n,i,r,a){return t=wo(wo(t,e),wo(i,a)),wo(t<<r|t>>>32-r,n)}function ui(e,t,n,i,r,a,o){return wh(t&n|~t&i,e,t,r,a,o)}function ci(e,t,n,i,r,a,o){return wh(t&i|n&~i,e,t,r,a,o)}function fi(e,t,n,i,r,a,o){return wh(t^n^i,e,t,r,a,o)}function di(e,t,n,i,r,a,o){return wh(n^(t|~i),e,t,r,a,o)}function W_(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)jp(i,SL(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(jp(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*n,jp(i,r),i}function SL(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}rc=ht.atob.bind(ht),lg=ht.btoa.bind(ht);var Ty="0123456789abcdef".split("");function AL(e){for(var t="",n=0;n<4;n++)t+=Ty[e>>8*n+4&15]+Ty[e>>8*n&15];return t}function CL(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function ug(e){return W_(e).map(CL).join("")}var TL=function(e){for(var t=0;t<e.length;t++)e[t]=AL(e[t]);return e.join("")}(W_("hello"))!="5d41402abc4b2a76b9719d911017c592";function wo(e,t){if(TL){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function cg(e,t){var n,i,r,a;if(e!==n){for(var o=(r=e,a=1+(256/e.length>>0),new Array(a+1).join(r)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var d=s[l];u=(u+d+o.charCodeAt(l))%256,s[l]=s[u],s[u]=d}n=e,i=s}else s=i;var p=t.length,g=0,h=0,S="";for(l=0;l<p;l++)h=(h+(d=s[g=(g+1)%256]))%256,s[g]=s[h],s[h]=d,o=s[(s[g]+s[h])%256],S+=String.fromCharCode(t.charCodeAt(l)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ey={print:4,modify:8,copy:16,"annot-forms":32};function tl(e,t,n,i){this.v=1,this.r=2;var r=192;e.forEach(function(s){if(Ey.perm!==void 0)throw new Error("Invalid permission: "+s);r+=Ey[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^r)),this.encryptionKey=ug(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=cg(this.encryptionKey,this.padding)}function nl(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var r=e.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=e[i]}return t}function Ny(e){if($t(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[i,!!r],a},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,i)}catch(s){ht.console&&rn.error("jsPDF PubSub Error",s.message,s)}o[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Hd(e){if(!(this instanceof Hd))return new Hd(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function X_(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function is(e,t,n,i,r){if(!(this instanceof is))return new is(e,t,n,i,r);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,X_.call(this,i,r)}function gl(e,t,n,i,r){if(!(this instanceof gl))return new gl(e,t,n,i,r);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,X_.call(this,i,r)}function ft(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",d=null;$t(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,r=e.format||r,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),i=i||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},h={internal:{},__private__:{}};h.__private__.PubSub=Ny;var S="1.3",_=h.__private__.getPdfVersion=function(){return S};h.__private__.setPdfVersion=function(b){S=b};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return C};var v=h.__private__.getPageFormat=function(b){return C[b]};r=r||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},A=w.COMPAT;function R(){this.saveGraphicsState(),O(new ke(Ve,0,0,-Ve,0,Ja()*Ve).toString()+" cm"),this.setFontSize(this.getFontSize()/Ve),u="n",A=w.ADVANCED}function k(){this.restoreGraphicsState(),u="S",A=w.COMPAT}var X=h.__private__.combineFontStyleAndFontWeight=function(b,F){if(b=="bold"&&F=="normal"||b=="bold"&&F==400||b=="normal"&&F=="italic"||b=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(b=F==400||F==="normal"?b==="italic"?"italic":"normal":F!=700&&F!=="bold"||b!=="normal"?(F==700?"bold":F)+""+b:"bold"),b};h.advancedAPI=function(b){var F=A===w.COMPAT;return F&&R.call(this),typeof b!="function"||(b(this),F&&k.call(this)),this},h.compatAPI=function(b){var F=A===w.ADVANCED;return F&&k.call(this),typeof b!="function"||(b(this),F&&R.call(this)),this},h.isAdvancedAPI=function(){return A===w.ADVANCED};var U,q=function(b){if(A!==w.ADVANCED)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=h.roundToPrecision=h.__private__.roundToPrecision=function(b,F){var ie=t||F;if(isNaN(b)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(ie).replace(/0+$/,"")};U=h.hpf=h.__private__.hpf=typeof l=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return B(b,l)}:l==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return B(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return B(b,16)};var W=h.f2=h.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return B(b,2)},D=h.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return B(b,3)},N=h.scale=h.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return A===w.COMPAT?b*Ve:A===w.ADVANCED?b:void 0},H=function(b){return A===w.COMPAT?Ja()-b:A===w.ADVANCED?b:void 0},T=function(b){return N(H(b))};h.__private__.setPrecision=h.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(t=parseInt(b,10))};var re,te="00000000000000000000000000000000",ne=h.__private__.getFileId=function(){return te},se=h.__private__.setFileId=function(b){return te=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(si=new tl(d.userPermissions,d.userPassword,d.ownerPassword,te)),te};h.setFileId=function(b){return se(b),this},h.getFileId=function(){return ne()};var ae=h.__private__.convertDateToPDFDate=function(b){var F=b.getTimezoneOffset(),ie=F<0?"+":"-",fe=Math.floor(Math.abs(F/60)),xe=Math.abs(F%60),Ne=[ie,K(fe),"'",K(xe),"'"].join("");return["D:",b.getFullYear(),K(b.getMonth()+1),K(b.getDate()),K(b.getHours()),K(b.getMinutes()),K(b.getSeconds()),Ne].join("")},ge=h.__private__.convertPDFDateToDate=function(b){var F=parseInt(b.substr(2,4),10),ie=parseInt(b.substr(6,2),10)-1,fe=parseInt(b.substr(8,2),10),xe=parseInt(b.substr(10,2),10),Ne=parseInt(b.substr(12,2),10),ze=parseInt(b.substr(14,2),10);return new Date(F,ie,fe,xe,Ne,ze,0)},ce=h.__private__.setCreationDate=function(b){var F;if(b===void 0&&(b=new Date),b instanceof Date)F=ae(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=b}return re=F},I=h.__private__.getCreationDate=function(b){var F=re;return b==="jsDate"&&(F=ge(re)),F};h.setCreationDate=function(b){return ce(b),this},h.getCreationDate=function(b){return I(b)};var Y,K=h.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},Z=h.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},le=0,_e=[],ye=[],pe=0,Ie=[],Le=[],He=!1,Ge=ye,M=function(){le=0,pe=0,ye=[],_e=[],Ie=[],Er=Lt(),Hi=Lt()};h.__private__.setCustomOutputDestination=function(b){He=!0,Ge=b};var oe=function(b){He||(Ge=b)};h.__private__.resetCustomOutputDestination=function(){He=!1,Ge=ye};var O=h.__private__.out=function(b){return b=b.toString(),pe+=b.length+1,Ge.push(b),Ge},$=h.__private__.write=function(b){return O(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},j=h.__private__.getArrayBuffer=function(b){for(var F=b.length,ie=new ArrayBuffer(F),fe=new Uint8Array(ie);F--;)fe[F]=b.charCodeAt(F);return ie},Q=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Q};var me=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(b){return me=A===w.ADVANCED?b/Ve:b,this};var be,ue=h.__private__.getFontSize=h.getFontSize=function(){return A===w.COMPAT?me:me*Ve},Ce=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(b){return Ce=b,this},h.__private__.getR2L=h.getR2L=function(){return Ce};var Re,Ee=h.__private__.setZoomMode=function(b){var F=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))be=b;else if(isNaN(b)){if(F.indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');be=b}else be=parseInt(b,10)};h.__private__.getZoomMode=function(){return be};var qe,Qe=h.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');Re=b};h.__private__.getPageMode=function(){return Re};var $e=h.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');qe=b};h.__private__.getLayoutMode=function(){return qe},h.__private__.setDisplayMode=h.setDisplayMode=function(b,F,ie){return Ee(b),$e(F),Qe(ie),this};var Ye={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(b){if(Object.keys(Ye).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ye[b]},h.__private__.getDocumentProperties=function(){return Ye},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(b){for(var F in Ye)Ye.hasOwnProperty(F)&&b[F]&&(Ye[F]=b[F]);return this},h.__private__.setDocumentProperty=function(b,F){if(Object.keys(Ye).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ye[b]=F};var st,Ve,Yt,et,vn,yt={},Nt={},Mn=[],vt={},Ci={},Jt={},jn={},zn=null,zt=0,pt=[],Ut=new Ny(h),Tr=e.hotfixes||[],bn={},mi={},Ti=[],ke=function b(F,ie,fe,xe,Ne,ze){if(!(this instanceof b))return new b(F,ie,fe,xe,Ne,ze);isNaN(F)&&(F=1),isNaN(ie)&&(ie=0),isNaN(fe)&&(fe=0),isNaN(xe)&&(xe=1),isNaN(Ne)&&(Ne=0),isNaN(ze)&&(ze=0),this._matrix=[F,ie,fe,xe,Ne,ze]};Object.defineProperty(ke.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(ke.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(ke.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(ke.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(ke.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(ke.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(ke.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(ke.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(ke.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(ke.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(ke.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(ke.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(ke.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ke.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ke.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ke.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ke.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(b)},ke.prototype.multiply=function(b){var F=b.sx*this.sx+b.shy*this.shx,ie=b.sx*this.shy+b.shy*this.sy,fe=b.shx*this.sx+b.sy*this.shx,xe=b.shx*this.shy+b.sy*this.sy,Ne=b.tx*this.sx+b.ty*this.shx+this.tx,ze=b.tx*this.shy+b.ty*this.sy+this.ty;return new ke(F,ie,fe,xe,Ne,ze)},ke.prototype.decompose=function(){var b=this.sx,F=this.shy,ie=this.shx,fe=this.sy,xe=this.tx,Ne=this.ty,ze=Math.sqrt(b*b+F*F),Xe=(b/=ze)*ie+(F/=ze)*fe;ie-=b*Xe,fe-=F*Xe;var at=Math.sqrt(ie*ie+fe*fe);return Xe/=at,b*(fe/=at)<F*(ie/=at)&&(b=-b,F=-F,Xe=-Xe,ze=-ze),{scale:new ke(ze,0,0,at,0,0),translate:new ke(1,0,0,1,xe,Ne),rotate:new ke(b,F,-F,b,0,0),skew:new ke(1,0,Xe,1,0,0)}},ke.prototype.toString=function(b){return this.join(" ")},ke.prototype.inversed=function(){var b=this.sx,F=this.shy,ie=this.shx,fe=this.sy,xe=this.tx,Ne=this.ty,ze=1/(b*fe-F*ie),Xe=fe*ze,at=-F*ze,St=-ie*ze,_t=b*ze;return new ke(Xe,at,St,_t,-Xe*xe-St*Ne,-at*xe-_t*Ne)},ke.prototype.applyToPoint=function(b){var F=b.x*this.sx+b.y*this.shx+this.tx,ie=b.x*this.shy+b.y*this.sy+this.ty;return new Is(F,ie)},ke.prototype.applyToRectangle=function(b){var F=this.applyToPoint(b),ie=this.applyToPoint(new Is(b.x+b.w,b.y+b.h));return new lu(F.x,F.y,ie.x-F.x,ie.y-F.y)},ke.prototype.clone=function(){var b=this.sx,F=this.shy,ie=this.shx,fe=this.sy,xe=this.tx,Ne=this.ty;return new ke(b,F,ie,fe,xe,Ne)},h.Matrix=ke;var ct=h.matrixMult=function(b,F){return F.multiply(b)},Rt=new ke(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Rt;var je=function(b,F){if(!Ci[b]){var ie=(F instanceof is?"Sh":"P")+(Object.keys(vt).length+1).toString(10);F.id=ie,Ci[b]=ie,vt[ie]=F,Ut.publish("addPattern",F)}};h.ShadingPattern=is,h.TilingPattern=gl,h.addShadingPattern=function(b,F){return q("addShadingPattern()"),je(b,F),this},h.beginTilingPattern=function(b){q("beginTilingPattern()"),jc(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},h.endTilingPattern=function(b,F){q("endTilingPattern()"),F.stream=Le[Y].join(`
`),je(b,F),Ut.publish("endTilingPattern",F),Ti.pop().restore()};var Ct=h.__private__.newObject=function(){var b=Lt();return It(b,!0),b},Lt=h.__private__.newObjectDeferred=function(){return le++,_e[le]=function(){return pe},le},It=function(b,F){return F=typeof F=="boolean"&&F,_e[b]=pe,F&&O(b+" 0 obj"),b},Ba=h.__private__.newAdditionalObject=function(){var b={objId:Lt(),content:""};return Ie.push(b),b},Er=Lt(),Hi=Lt(),Vi=h.__private__.decodeColorString=function(b){var F=b.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length===5&&(F[4]==="k"||F[4]==="K")&&(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var ie=parseFloat(F[0]);F=[ie,ie,ie,"r"]}for(var fe="#",xe=0;xe<3;xe++)fe+=("0"+Math.floor(255*parseFloat(F[xe])).toString(16)).slice(-2);return fe},ji=h.__private__.encodeColorString=function(b){var F;typeof b=="string"&&(b={ch1:b});var ie=b.ch1,fe=b.ch2,xe=b.ch3,Ne=b.ch4,ze=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var Xe=new K_(ie);if(Xe.ok)ie=Xe.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var at=parseInt(ie.substr(1),16);ie=at>>16&255,fe=at>>8&255,xe=255&at}if(fe===void 0||Ne===void 0&&ie===fe&&fe===xe)if(typeof ie=="string")F=ie+" "+ze[0];else switch(b.precision){case 2:F=W(ie/255)+" "+ze[0];break;case 3:default:F=D(ie/255)+" "+ze[0]}else if(Ne===void 0||$t(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return F=["1.","1.","1.",ze[1]].join(" ");if(typeof ie=="string")F=[ie,fe,xe,ze[1]].join(" ");else switch(b.precision){case 2:F=[W(ie/255),W(fe/255),W(xe/255),ze[1]].join(" ");break;default:case 3:F=[D(ie/255),D(fe/255),D(xe/255),ze[1]].join(" ")}}else if(typeof ie=="string")F=[ie,fe,xe,Ne,ze[2]].join(" ");else switch(b.precision){case 2:F=[W(ie),W(fe),W(xe),W(Ne),ze[2]].join(" ");break;case 3:default:F=[D(ie),D(fe),D(xe),D(Ne),ze[2]].join(" ")}return F},Ei=h.__private__.getFilters=function(){return o},un=h.__private__.putStream=function(b){var F=(b=b||{}).data||"",ie=b.filters||Ei(),fe=b.alreadyAppliedFilters||[],xe=b.addLength1||!1,Ne=F.length,ze=b.objectId,Xe=function(li){return li};if(d!==null&&ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Xe=si.encryptor(ze,0));var at={};ie===!0&&(ie=["FlateEncode"]);var St=b.additionalKeyValues||[],_t=(at=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(F,ie):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(at.data.length!==0&&(St.push({key:"Length",value:at.data.length}),xe===!0&&St.push({key:"Length1",value:Ne})),_t.length!=0)if(_t.split("/").length-1==1)St.push({key:"Filter",value:_t});else{St.push({key:"Filter",value:"["+_t+"]"});for(var Ot=0;Ot<St.length;Ot+=1)if(St[Ot].key==="DecodeParms"){for(var yn=[],wn=0;wn<at.reverseChain.split("/").length-1;wn+=1)yn.push("null");yn.push(St[Ot].value),St[Ot].value="["+yn.join(" ")+"]"}}O("<<");for(var kn=0;kn<St.length;kn++)O("/"+St[kn].key+" "+St[kn].value);O(">>"),at.data.length!==0&&(O("stream"),O(Xe(at.data)),O("endstream"))},gi=h.__private__.putPage=function(b){var F=b.number,ie=b.data,fe=b.objId,xe=b.contentsObjId;It(fe,!0),O("<</Type /Page"),O("/Parent "+b.rootDictionaryObjId+" 0 R"),O("/Resources "+b.resourceDictionaryObjId+" 0 R"),O("/MediaBox ["+parseFloat(U(b.mediaBox.bottomLeftX))+" "+parseFloat(U(b.mediaBox.bottomLeftY))+" "+U(b.mediaBox.topRightX)+" "+U(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&O("/CropBox ["+U(b.cropBox.bottomLeftX)+" "+U(b.cropBox.bottomLeftY)+" "+U(b.cropBox.topRightX)+" "+U(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&O("/BleedBox ["+U(b.bleedBox.bottomLeftX)+" "+U(b.bleedBox.bottomLeftY)+" "+U(b.bleedBox.topRightX)+" "+U(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&O("/TrimBox ["+U(b.trimBox.bottomLeftX)+" "+U(b.trimBox.bottomLeftY)+" "+U(b.trimBox.topRightX)+" "+U(b.trimBox.topRightY)+"]"),b.artBox!==null&&O("/ArtBox ["+U(b.artBox.bottomLeftX)+" "+U(b.artBox.bottomLeftY)+" "+U(b.artBox.topRightX)+" "+U(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&O("/UserUnit "+b.userUnit),Ut.publish("putPage",{objId:fe,pageContext:pt[F],pageNumber:F,page:ie}),O("/Contents "+xe+" 0 R"),O(">>"),O("endobj");var Ne=ie.join(`
`);return A===w.ADVANCED&&(Ne+=`
Q`),It(xe,!0),un({data:Ne,filters:Ei(),objectId:xe}),O("endobj"),fe},ra=h.__private__.putPages=function(){var b,F,ie=[];for(b=1;b<=zt;b++)pt[b].objId=Lt(),pt[b].contentsObjId=Lt();for(b=1;b<=zt;b++)ie.push(gi({number:b,data:Le[b],objId:pt[b].objId,contentsObjId:pt[b].contentsObjId,mediaBox:pt[b].mediaBox,cropBox:pt[b].cropBox,bleedBox:pt[b].bleedBox,trimBox:pt[b].trimBox,artBox:pt[b].artBox,userUnit:pt[b].userUnit,rootDictionaryObjId:Er,resourceDictionaryObjId:Hi}));It(Er,!0),O("<</Type /Pages");var fe="/Kids [";for(F=0;F<zt;F++)fe+=ie[F]+" 0 R ";O(fe+"]"),O("/Count "+zt),O(">>"),O("endobj"),Ut.publish("postPutPages")},Oa=function(b){Ut.publish("putFont",{font:b,out:O,newObject:Ct,putStream:un}),b.isAlreadyPutted!==!0&&(b.objectNumber=Ct(),O("<<"),O("/Type /Font"),O("/BaseFont /"+nl(b.postScriptName)),O("/Subtype /Type1"),typeof b.encoding=="string"&&O("/Encoding /"+b.encoding),O("/FirstChar 32"),O("/LastChar 255"),O(">>"),O("endobj"))},Nr=function(){for(var b in yt)yt.hasOwnProperty(b)&&(p===!1||p===!0&&g.hasOwnProperty(b))&&Oa(yt[b])},za=function(b){b.objectNumber=Ct();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[U(b.x),U(b.y),U(b.x+b.width),U(b.y+b.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var ie=b.pages[1].join(`
`);un({data:ie,additionalKeyValues:F,objectId:b.objectNumber}),O("endobj")},qa=function(){for(var b in bn)bn.hasOwnProperty(b)&&za(bn[b])},zo=function(b,F){var ie,fe=[],xe=1/(F-1);for(ie=0;ie<1;ie+=xe)fe.push(ie);if(fe.push(1),b[0].offset!=0){var Ne={offset:0,color:b[0].color};b.unshift(Ne)}if(b[b.length-1].offset!=1){var ze={offset:1,color:b[b.length-1].color};b.push(ze)}for(var Xe="",at=0,St=0;St<fe.length;St++){for(ie=fe[St];ie>b[at+1].offset;)at++;var _t=b[at].offset,Ot=(ie-_t)/(b[at+1].offset-_t),yn=b[at].color,wn=b[at+1].color;Xe+=Z(Math.round((1-Ot)*yn[0]+Ot*wn[0]).toString(16))+Z(Math.round((1-Ot)*yn[1]+Ot*wn[1]).toString(16))+Z(Math.round((1-Ot)*yn[2]+Ot*wn[2]).toString(16))}return Xe.trim()},Ss=function(b,F){F||(F=21);var ie=Ct(),fe=zo(b.colors,F),xe=[];xe.push({key:"FunctionType",value:"0"}),xe.push({key:"Domain",value:"[0.0 1.0]"}),xe.push({key:"Size",value:"["+F+"]"}),xe.push({key:"BitsPerSample",value:"8"}),xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),un({data:fe,additionalKeyValues:xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),O("endobj"),b.objectNumber=Ct(),O("<< /ShadingType "+b.type),O("/ColorSpace /DeviceRGB");var Ne="/Coords ["+U(parseFloat(b.coords[0]))+" "+U(parseFloat(b.coords[1]))+" ";b.type===2?Ne+=U(parseFloat(b.coords[2]))+" "+U(parseFloat(b.coords[3])):Ne+=U(parseFloat(b.coords[2]))+" "+U(parseFloat(b.coords[3]))+" "+U(parseFloat(b.coords[4]))+" "+U(parseFloat(b.coords[5])),O(Ne+="]"),b.matrix&&O("/Matrix ["+b.matrix.toString()+"]"),O("/Function "+ie+" 0 R"),O("/Extend [true true]"),O(">>"),O("endobj")},Oe=function(b,F){var ie=Lt(),fe=Ct();F.push({resourcesOid:ie,objectOid:fe}),b.objectNumber=fe;var xe=[];xe.push({key:"Type",value:"/Pattern"}),xe.push({key:"PatternType",value:"1"}),xe.push({key:"PaintType",value:"1"}),xe.push({key:"TilingType",value:"1"}),xe.push({key:"BBox",value:"["+b.boundingBox.map(U).join(" ")+"]"}),xe.push({key:"XStep",value:U(b.xStep)}),xe.push({key:"YStep",value:U(b.yStep)}),xe.push({key:"Resources",value:ie+" 0 R"}),b.matrix&&xe.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),un({data:b.stream,additionalKeyValues:xe,objectId:b.objectNumber}),O("endobj")},rt=function(b){var F;for(F in vt)vt.hasOwnProperty(F)&&(vt[F]instanceof is?Ss(vt[F]):vt[F]instanceof gl&&Oe(vt[F],b))},tt=function(b){for(var F in b.objectNumber=Ct(),O("<<"),b)switch(F){case"opacity":O("/ca "+W(b[F]));break;case"stroke-opacity":O("/CA "+W(b[F]))}O(">>"),O("endobj")},lt=function(){var b;for(b in Jt)Jt.hasOwnProperty(b)&&tt(Jt[b])},dt=function(){for(var b in O("/XObject <<"),bn)bn.hasOwnProperty(b)&&bn[b].objectNumber>=0&&O("/"+b+" "+bn[b].objectNumber+" 0 R");Ut.publish("putXobjectDict"),O(">>")},bt=function(){si.oid=Ct(),O("<<"),O("/Filter /Standard"),O("/V "+si.v),O("/R "+si.r),O("/U <"+si.toHexString(si.U)+">"),O("/O <"+si.toHexString(si.O)+">"),O("/P "+si.P),O(">>"),O("endobj")},Bt=function(){for(var b in O("/Font <<"),yt)yt.hasOwnProperty(b)&&(p===!1||p===!0&&g.hasOwnProperty(b))&&O("/"+b+" "+yt[b].objectNumber+" 0 R");O(">>")},yi=function(){if(Object.keys(vt).length>0){for(var b in O("/Shading <<"),vt)vt.hasOwnProperty(b)&&vt[b]instanceof is&&vt[b].objectNumber>=0&&O("/"+b+" "+vt[b].objectNumber+" 0 R");Ut.publish("putShadingPatternDict"),O(">>")}},qn=function(b){if(Object.keys(vt).length>0){for(var F in O("/Pattern <<"),vt)vt.hasOwnProperty(F)&&vt[F]instanceof h.TilingPattern&&vt[F].objectNumber>=0&&vt[F].objectNumber<b&&O("/"+F+" "+vt[F].objectNumber+" 0 R");Ut.publish("putTilingPatternDict"),O(">>")}},oi=function(){if(Object.keys(Jt).length>0){var b;for(b in O("/ExtGState <<"),Jt)Jt.hasOwnProperty(b)&&Jt[b].objectNumber>=0&&O("/"+b+" "+Jt[b].objectNumber+" 0 R");Ut.publish("putGStateDict"),O(">>")}},ut=function(b){It(b.resourcesOid,!0),O("<<"),O("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Bt(),yi(),qn(b.objectOid),oi(),dt(),O(">>"),O("endobj")},Lr=function(){var b=[];Nr(),lt(),qa(),rt(b),Ut.publish("putResources"),b.forEach(ut),ut({resourcesOid:Hi,objectOid:Number.MAX_SAFE_INTEGER}),Ut.publish("postPutResources")},aa=function(){Ut.publish("putAdditionalObjects");for(var b=0;b<Ie.length;b++){var F=Ie[b];It(F.objId,!0),O(F.content),O("endobj")}Ut.publish("postPutAdditionalObjects")},Ql=function(b){Nt[b.fontName]=Nt[b.fontName]||{},Nt[b.fontName][b.fontStyle]=b.id},Ga=function(b,F,ie,fe,xe){var Ne={id:"F"+(Object.keys(yt).length+1).toString(10),postScriptName:b,fontName:F,fontStyle:ie,encoding:fe,isStandardFont:xe||!1,metadata:{}};return Ut.publish("addFont",{font:Ne,instance:this}),yt[Ne.id]=Ne,Ql(Ne),Ne.id},Ha=function(b){for(var F=0,ie=Q.length;F<ie;F++){var fe=Ga.call(this,b[F][0],b[F][1],b[F][2],Q[F][3],!0);p===!1&&(g[fe]=!0);var xe=b[F][0].split("-");Ql({id:fe,fontName:xe[0],fontStyle:xe[1]||""})}Ut.publish("addFonts",{fonts:yt,dictionary:Nt})},mt=function(b){return b.foo=function(){try{return b.apply(this,arguments)}catch(fe){var F=fe.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var ie="Error in function "+F.split(`
`)[0].split("<")[0]+": "+fe.message;if(!ht.console)throw new Error(ie);ht.console.error(ie,fe),ht.alert&&alert(ie)}},b.foo.bar=b,b.foo},Ni=function(b,F){var ie,fe,xe,Ne,ze,Xe,at,St,_t;if(xe=(F=F||{}).sourceEncoding||"Unicode",ze=F.outputEncoding,(F.autoencode||ze)&&yt[st].metadata&&yt[st].metadata[xe]&&yt[st].metadata[xe].encoding&&(Ne=yt[st].metadata[xe].encoding,!ze&&yt[st].encoding&&(ze=yt[st].encoding),!ze&&Ne.codePages&&(ze=Ne.codePages[0]),typeof ze=="string"&&(ze=Ne[ze]),ze)){for(at=!1,Xe=[],ie=0,fe=b.length;ie<fe;ie++)(St=ze[b.charCodeAt(ie)])?Xe.push(String.fromCharCode(St)):Xe.push(b[ie]),Xe[ie].charCodeAt(0)>>8&&(at=!0);b=Xe.join("")}for(ie=b.length;at===void 0&&ie!==0;)b.charCodeAt(ie-1)>>8&&(at=!0),ie--;if(!at)return b;for(Xe=F.noBOM?[]:[254,255],ie=0,fe=b.length;ie<fe;ie++){if((_t=(St=b.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+b+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Xe.push(_t),Xe.push(St-(_t<<8))}return String.fromCharCode.apply(void 0,Xe)},vi=h.__private__.pdfEscape=h.pdfEscape=function(b,F){return Ni(b,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Va=h.__private__.beginPage=function(b){Le[++zt]=[],pt[zt]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},As(zt),oe(Le[Y])},Hr=function(b,F){var ie,fe,xe;switch(n=F||n,typeof b=="string"&&(ie=v(b.toLowerCase()),Array.isArray(ie)&&(fe=ie[0],xe=ie[1])),Array.isArray(b)&&(fe=b[0]*Ve,xe=b[1]*Ve),isNaN(fe)&&(fe=r[0],xe=r[1]),(fe>14400||xe>14400)&&(rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),xe=Math.min(14400,xe)),r=[fe,xe],n.substr(0,1)){case"l":xe>fe&&(r=[xe,fe]);break;case"p":fe>xe&&(r=[xe,fe])}Va(r),zc(ru),O(Ir),ou!==0&&O(ou+" J"),su!==0&&O(su+" j"),Ut.publish("addPage",{pageNumber:zt})},eu=function(b){b>0&&b<=zt&&(Le.splice(b,1),pt.splice(b,1),zt--,Y>zt&&(Y=zt),this.setPage(Y))},As=function(b){b>0&&b<=zt&&(Y=b)},_h=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Le.length-1},Pc=function(b,F,ie){var fe,xe=void 0;return ie=ie||{},b=b!==void 0?b:yt[st].fontName,F=F!==void 0?F:yt[st].fontStyle,fe=b.toLowerCase(),Nt[fe]!==void 0&&Nt[fe][F]!==void 0?xe=Nt[fe][F]:Nt[b]!==void 0&&Nt[b][F]!==void 0?xe=Nt[b][F]:ie.disableWarning===!1&&rn.warn("Unable to look up font label for font '"+b+"', '"+F+"'. Refer to getFontList() for available fonts."),xe||ie.noFallback||(xe=Nt.times[F])==null&&(xe=Nt.times.normal),xe},xh=h.__private__.putInfo=function(){var b=Ct(),F=function(fe){return fe};for(var ie in d!==null&&(F=si.encryptor(b,0)),O("<<"),O("/Producer ("+vi(F("jsPDF "+ft.version))+")"),Ye)Ye.hasOwnProperty(ie)&&Ye[ie]&&O("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+vi(F(Ye[ie]))+")");O("/CreationDate ("+vi(F(re))+")"),O(">>"),O("endobj")},tu=h.__private__.putCatalog=function(b){var F=(b=b||{}).rootDictionaryObjId||Er;switch(Ct(),O("<<"),O("/Type /Catalog"),O("/Pages "+F+" 0 R"),be||(be="fullwidth"),be){case"fullwidth":O("/OpenAction [3 0 R /FitH null]");break;case"fullheight":O("/OpenAction [3 0 R /FitV null]");break;case"fullpage":O("/OpenAction [3 0 R /Fit]");break;case"original":O("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+be;ie.substr(ie.length-1)==="%"&&(be=parseInt(be)/100),typeof be=="number"&&O("/OpenAction [3 0 R /XYZ null null "+W(be)+"]")}switch(qe||(qe="continuous"),qe){case"continuous":O("/PageLayout /OneColumn");break;case"single":O("/PageLayout /SinglePage");break;case"two":case"twoleft":O("/PageLayout /TwoColumnLeft");break;case"tworight":O("/PageLayout /TwoColumnRight")}Re&&O("/PageMode /"+Re),Ut.publish("putCatalog"),O(">>"),O("endobj")},Sh=h.__private__.putTrailer=function(){O("trailer"),O("<<"),O("/Size "+(le+1)),O("/Root "+le+" 0 R"),O("/Info "+(le-1)+" 0 R"),d!==null&&O("/Encrypt "+si.oid+" 0 R"),O("/ID [ <"+te+"> <"+te+"> ]"),O(">>")},Ah=h.__private__.putHeader=function(){O("%PDF-"+S),O("%")},Ch=h.__private__.putXRef=function(){var b="0000000000";O("xref"),O("0 "+(le+1)),O("0000000000 65535 f ");for(var F=1;F<=le;F++)typeof _e[F]=="function"?O((b+_e[F]()).slice(-10)+" 00000 n "):_e[F]!==void 0?O((b+_e[F]).slice(-10)+" 00000 n "):O("0000000000 00000 n ")},oa=h.__private__.buildDocument=function(){M(),oe(ye),Ut.publish("buildDocument"),Ah(),ra(),aa(),Lr(),d!==null&&bt(),xh(),tu();var b=pe;return Ch(),Sh(),O("startxref"),O(""+b),O("%%EOF"),oe(Le[Y]),ye.join(`
`)},Cs=h.__private__.getBlob=function(b){return new Blob([j(b)],{type:"application/pdf"})},Ts=h.output=h.__private__.output=mt(function(b,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",b){case void 0:return oa();case"save":h.save(F.filename);break;case"arraybuffer":return j(oa());case"blob":return Cs(oa());case"bloburi":case"bloburl":if(ht.URL!==void 0&&typeof ht.URL.createObjectURL=="function")return ht.URL&&ht.URL.createObjectURL(Cs(oa()))||void 0;rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",fe=oa();try{ie=lg(fe)}catch{ie=lg(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+F.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(xe=F.pdfObjectUrl,Ne="");var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xe+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",Xe=ht.open();return Xe!==null&&Xe.document.write(ze),Xe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',St=ht.open();if(St!==null){St.document.write(at);var _t=this;St.document.documentElement.querySelector("#pdfViewer").onload=function(){St.document.title=F.filename,St.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_t.output("bloburl"))}}return St}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',yn=ht.open();if(yn!==null&&(yn.document.write(Ot),yn.document.title=F.filename),yn||typeof safari>"u")return yn;break;case"datauri":case"dataurl":return ht.document.location.href=this.output("datauristring",F);default:return null}}),Fc=function(b){return Array.isArray(Tr)===!0&&Tr.indexOf(b)>-1};switch(i){case"pt":Ve=1;break;case"mm":Ve=72/25.4;break;case"cm":Ve=72/2.54;break;case"in":Ve=72;break;case"px":Ve=Fc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ve=12;break;case"ex":Ve=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ve=i}var si=null;ce(),se();var Th=function(b){return d!==null?si.encryptor(b,0):function(F){return F}},Uc=h.__private__.getPageInfo=h.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[b].objId,pageNumber:b,pageContext:pt[b]}},wt=h.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in pt)if(pt[F].objId===b)break;return Uc(F)},Eh=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:pt[Y].objId,pageNumber:Y,pageContext:pt[Y]}};h.addPage=function(){return Hr.apply(this,arguments),this},h.setPage=function(){return As.apply(this,arguments),oe.call(this,Le[Y]),this},h.insertPage=function(b){return this.addPage(),this.movePage(Y,b),this},h.movePage=function(b,F){var ie,fe;if(b>F){ie=Le[b],fe=pt[b];for(var xe=b;xe>F;xe--)Le[xe]=Le[xe-1],pt[xe]=pt[xe-1];Le[F]=ie,pt[F]=fe,this.setPage(F)}else if(b<F){ie=Le[b],fe=pt[b];for(var Ne=b;Ne<F;Ne++)Le[Ne]=Le[Ne+1],pt[Ne]=pt[Ne+1];Le[F]=ie,pt[F]=fe,this.setPage(F)}return this},h.deletePage=function(){return eu.apply(this,arguments),this},h.__private__.text=h.text=function(b,F,ie,fe,xe){var Ne,ze,Xe,at,St,_t,Ot,yn,wn,kn=(fe=fe||{}).scope||this;if(typeof b=="number"&&typeof F=="number"&&(typeof ie=="string"||Array.isArray(ie))){var li=ie;ie=F,F=b,b=li}if(arguments[3]instanceof ke?(q("The transform parameter of text() with a Matrix value"),wn=xe):(Xe=arguments[4],at=arguments[5],$t(Ot=arguments[3])==="object"&&Ot!==null||(typeof Xe=="string"&&(at=Xe,Xe=null),typeof Ot=="string"&&(at=Ot,Ot=null),typeof Ot=="number"&&(Xe=Ot,Ot=null),fe={flags:Ot,angle:Xe,align:at})),isNaN(F)||isNaN(ie)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return kn;var Yn="",Rr=!1,Yi=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:Go,Yr=kn.internal.scaleFactor;function Yc(on){return on=on.split("	").join(Array(fe.TabLen||9).join(" ")),vi(on,Ot)}function du(on){for(var sn,Tn=on.concat(),Gn=[],fa=Tn.length;fa--;)typeof(sn=Tn.shift())=="string"?Gn.push(sn):Array.isArray(on)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?Gn.push(sn[0]):Gn.push([sn[0],sn[1],sn[2]]);return Gn}function hu(on,sn){var Tn;if(typeof on=="string")Tn=sn(on)[0];else if(Array.isArray(on)){for(var Gn,fa,_u=on.concat(),qs=[],Zc=_u.length;Zc--;)typeof(Gn=_u.shift())=="string"?qs.push(sn(Gn)[0]):Array.isArray(Gn)&&typeof Gn[0]=="string"&&(fa=sn(Gn[0],Gn[1],Gn[2]),qs.push([fa[0],fa[1],fa[2]]));Tn=qs}return Tn}var Ms=!1,pu=!0;if(typeof b=="string")Ms=!0;else if(Array.isArray(b)){var mu=b.concat();ze=[];for(var ks,Qn=mu.length;Qn--;)(typeof(ks=mu.shift())!="string"||Array.isArray(ks)&&typeof ks[0]!="string")&&(pu=!1);Ms=pu}if(Ms===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var Ds=me/kn.internal.scaleFactor,Ps=Ds*(Yi-1);switch(fe.baseline){case"bottom":ie-=Ps;break;case"top":ie+=Ds-Ps;break;case"hanging":ie+=Ds-2*Ps;break;case"middle":ie+=Ds/2-Ps}if((_t=fe.maxWidth||0)>0&&(typeof b=="string"?b=kn.splitTextToSize(b,_t):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(on,sn){return on.concat(kn.splitTextToSize(sn,_t))},[]))),Ne={text:b,x:F,y:ie,options:fe,mutex:{pdfEscape:vi,activeFontKey:st,fonts:yt,activeFontSize:me}},Ut.publish("preProcessText",Ne),b=Ne.text,Xe=(fe=Ne.options).angle,!(wn instanceof ke)&&Xe&&typeof Xe=="number"){Xe*=Math.PI/180,fe.rotationDirection===0&&(Xe=-Xe),A===w.ADVANCED&&(Xe=-Xe);var Fs=Math.cos(Xe),gu=Math.sin(Xe);wn=new ke(Fs,gu,-gu,Fs,0,0)}else Xe&&Xe instanceof ke&&(wn=Xe);A!==w.ADVANCED||wn||(wn=Rt),(St=fe.charSpace||Ls)!==void 0&&(Yn+=U(N(St))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(yn=fe.horizontalScale)!==void 0&&(Yn+=U(100*yn)+` Tz
`),fe.lang;var Li=-1,Uh=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,yu=kn.internal.getCurrentPageInfo().pageContext;switch(Uh){case 0:case!1:case"fill":Li=0;break;case 1:case!0:case"stroke":Li=1;break;case 2:case"fillThenStroke":Li=2;break;case 3:case"invisible":Li=3;break;case 4:case"fillAndAddForClipping":Li=4;break;case 5:case"strokeAndAddPathForClipping":Li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Li=6;break;case 7:case"addToPathForClipping":Li=7}var Jc=yu.usedRenderingMode!==void 0?yu.usedRenderingMode:-1;Li!==-1?Yn+=Li+` Tr
`:Jc!==-1&&(Yn+=`0 Tr
`),Li!==-1&&(yu.usedRenderingMode=Li),at=fe.align||"left";var lr,Us=me*Yi,Kc=kn.internal.pageSize.getWidth(),Wc=yt[st];St=fe.charSpace||Ls,_t=fe.maxWidth||0,Ot=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var Ka=[],jo=function(on){return kn.getStringUnitWidth(on,{font:Wc,charSpace:St,fontSize:me,doKerning:!1})*me/Yr};if(Object.prototype.toString.call(b)==="[object Array]"){var Ii;ze=du(b),at!=="left"&&(lr=ze.map(jo));var bi,Wa=0;if(at==="right"){F-=lr[0],b=[],Qn=ze.length;for(var la=0;la<Qn;la++)la===0?(bi=jr(F),Ii=sa(ie)):(bi=N(Wa-lr[la]),Ii=-Us),b.push([ze[la],bi,Ii]),Wa=lr[la]}else if(at==="center"){F-=lr[0]/2,b=[],Qn=ze.length;for(var ua=0;ua<Qn;ua++)ua===0?(bi=jr(F),Ii=sa(ie)):(bi=N((Wa-lr[ua])/2),Ii=-Us),b.push([ze[ua],bi,Ii]),Wa=lr[ua]}else if(at==="left"){b=[],Qn=ze.length;for(var Bs=0;Bs<Qn;Bs++)b.push(ze[Bs])}else if(at==="justify"&&Wc.encoding==="Identity-H"){b=[],Qn=ze.length,_t=_t!==0?_t:Kc;for(var ca=0,Cn=0;Cn<Qn;Cn++)if(Ii=Cn===0?sa(ie):-Us,bi=Cn===0?jr(F):ca,Cn<Qn-1){var vu=N((_t-lr[Cn])/(ze[Cn].split(" ").length-1)),wi=ze[Cn].split(" ");b.push([wi[0]+" ",bi,Ii]),ca=0;for(var ur=1;ur<wi.length;ur++){var Os=(jo(wi[ur-1]+" "+wi[ur])-jo(wi[ur]))*Yr+vu;ur==wi.length-1?b.push([wi[ur],Os,0]):b.push([wi[ur]+" ",Os,0]),ca-=Os}}else b.push([ze[Cn],bi,Ii]);b.push(["",ca,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],Qn=ze.length,_t=_t!==0?_t:Kc,Cn=0;Cn<Qn;Cn++)Ii=Cn===0?sa(ie):-Us,bi=Cn===0?jr(F):0,Cn<Qn-1?Ka.push(U(N((_t-lr[Cn])/(ze[Cn].split(" ").length-1)))):Ka.push(0),b.push([ze[Cn],bi,Ii])}}var Xc=typeof fe.R2L=="boolean"?fe.R2L:Ce;Xc===!0&&(b=hu(b,function(on,sn,Tn){return[on.split("").reverse().join(""),sn,Tn]})),Ne={text:b,x:F,y:ie,options:fe,mutex:{pdfEscape:vi,activeFontKey:st,fonts:yt,activeFontSize:me}},Ut.publish("postProcessText",Ne),b=Ne.text,Rr=Ne.mutex.isHex||!1;var bu=yt[st].encoding;bu!=="WinAnsiEncoding"&&bu!=="StandardEncoding"||(b=hu(b,function(on,sn,Tn){return[Yc(on),sn,Tn]})),ze=du(b),b=[];for(var Yo,Jo,Xa,Ko=0,zs=1,Wo=Array.isArray(ze[0])?zs:Ko,Za="",wu=function(on,sn,Tn){var Gn="";return Tn instanceof ke?(Tn=typeof fe.angle=="number"?ct(Tn,new ke(1,0,0,1,on,sn)):ct(new ke(1,0,0,1,on,sn),Tn),A===w.ADVANCED&&(Tn=ct(new ke(1,0,0,-1,0,0),Tn)),Gn=Tn.join(" ")+` Tm
`):Gn=U(on)+" "+U(sn)+` Td
`,Gn},cr=0;cr<ze.length;cr++){switch(Za="",Wo){case zs:Xa=(Rr?"<":"(")+ze[cr][0]+(Rr?">":")"),Yo=parseFloat(ze[cr][1]),Jo=parseFloat(ze[cr][2]);break;case Ko:Xa=(Rr?"<":"(")+ze[cr]+(Rr?">":")"),Yo=jr(F),Jo=sa(ie)}Ka!==void 0&&Ka[cr]!==void 0&&(Za=Ka[cr]+` Tw
`),cr===0?b.push(Za+wu(Yo,Jo,wn)+Xa):Wo===Ko?b.push(Za+Xa):Wo===zs&&b.push(Za+wu(Yo,Jo,wn)+Xa)}b=Wo===Ko?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var fr=`BT
/`;return fr+=st+" "+me+` Tf
`,fr+=U(me*Yi)+` TL
`,fr+=Ho+`
`,fr+=Yn,fr+=b,O(fr+="ET"),g[st]=!0,kn};var Nh=h.__private__.clip=h.clip=function(b){return O(b==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Nh("evenodd")},h.__private__.discardPath=h.discardPath=function(){return O("n"),this};var Vr=h.__private__.isValidStyle=function(b){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(F=!0),F};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(b){return Vr(b)&&(u=b),this};var Bc=h.__private__.getStyle=h.getStyle=function(b){var F=u;switch(b){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=b}return F},Oc=h.close=function(){return O("h"),this};h.stroke=function(){return O("S"),this},h.fill=function(b){return Es("f",b),this},h.fillEvenOdd=function(b){return Es("f*",b),this},h.fillStroke=function(b){return Es("B",b),this},h.fillStrokeEvenOdd=function(b){return Es("B*",b),this};var Es=function(b,F){$t(F)==="object"?Ih(F,b):O(b)},nu=function(b){b===null||A===w.ADVANCED&&b===void 0||(b=Bc(b),O(b))};function Lh(b,F,ie,fe,xe){var Ne=new gl(F||this.boundingBox,ie||this.xStep,fe||this.yStep,this.gState,xe||this.matrix);Ne.stream=this.stream;var ze=b+"$$"+this.cloneIndex+++"$$";return je(ze,Ne),Ne}var Ih=function(b,F){var ie=Ci[b.key],fe=vt[ie];if(fe instanceof is)O("q"),O(Rh(F)),fe.gState&&h.setGState(fe.gState),O(b.matrix.toString()+" cm"),O("/"+ie+" sh"),O("Q");else if(fe instanceof gl){var xe=new ke(1,0,0,-1,0,Ja());b.matrix&&(xe=xe.multiply(b.matrix||Rt),ie=Lh.call(fe,b.key,b.boundingBox,b.xStep,b.yStep,xe).id),O("q"),O("/Pattern cs"),O("/"+ie+" scn"),fe.gState&&h.setGState(fe.gState),O(F),O("Q")}},Rh=function(b){switch(b){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},iu=h.moveTo=function(b,F){return O(U(N(b))+" "+U(T(F))+" m"),this},qo=h.lineTo=function(b,F){return O(U(N(b))+" "+U(T(F))+" l"),this},ja=h.curveTo=function(b,F,ie,fe,xe,Ne){return O([U(N(b)),U(T(F)),U(N(ie)),U(T(fe)),U(N(xe)),U(T(Ne)),"c"].join(" ")),this};h.__private__.line=h.line=function(b,F,ie,fe,xe){if(isNaN(b)||isNaN(F)||isNaN(ie)||isNaN(fe)||!Vr(xe))throw new Error("Invalid arguments passed to jsPDF.line");return A===w.COMPAT?this.lines([[ie-b,fe-F]],b,F,[1,1],xe||"S"):this.lines([[ie-b,fe-F]],b,F,[1,1]).stroke()},h.__private__.lines=h.lines=function(b,F,ie,fe,xe,Ne){var ze,Xe,at,St,_t,Ot,yn,wn,kn,li,Yn,Rr;if(typeof b=="number"&&(Rr=ie,ie=F,F=b,b=Rr),fe=fe||[1,1],Ne=Ne||!1,isNaN(F)||isNaN(ie)||!Array.isArray(b)||!Array.isArray(fe)||!Vr(xe)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(iu(F,ie),ze=fe[0],Xe=fe[1],St=b.length,li=F,Yn=ie,at=0;at<St;at++)(_t=b[at]).length===2?(li=_t[0]*ze+li,Yn=_t[1]*Xe+Yn,qo(li,Yn)):(Ot=_t[0]*ze+li,yn=_t[1]*Xe+Yn,wn=_t[2]*ze+li,kn=_t[3]*Xe+Yn,li=_t[4]*ze+li,Yn=_t[5]*Xe+Yn,ja(Ot,yn,wn,kn,li,Yn));return Ne&&Oc(),nu(xe),this},h.path=function(b){for(var F=0;F<b.length;F++){var ie=b[F],fe=ie.c;switch(ie.op){case"m":iu(fe[0],fe[1]);break;case"l":qo(fe[0],fe[1]);break;case"c":ja.apply(this,fe);break;case"h":Oc()}}return this},h.__private__.rect=h.rect=function(b,F,ie,fe,xe){if(isNaN(b)||isNaN(F)||isNaN(ie)||isNaN(fe)||!Vr(xe))throw new Error("Invalid arguments passed to jsPDF.rect");return A===w.COMPAT&&(fe=-fe),O([U(N(b)),U(T(F)),U(N(ie)),U(N(fe)),"re"].join(" ")),nu(xe),this},h.__private__.triangle=h.triangle=function(b,F,ie,fe,xe,Ne,ze){if(isNaN(b)||isNaN(F)||isNaN(ie)||isNaN(fe)||isNaN(xe)||isNaN(Ne)||!Vr(ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-b,fe-F],[xe-ie,Ne-fe],[b-xe,F-Ne]],b,F,[1,1],ze,!0),this},h.__private__.roundedRect=h.roundedRect=function(b,F,ie,fe,xe,Ne,ze){if(isNaN(b)||isNaN(F)||isNaN(ie)||isNaN(fe)||isNaN(xe)||isNaN(Ne)||!Vr(ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xe=4/3*(Math.SQRT2-1);return xe=Math.min(xe,.5*ie),Ne=Math.min(Ne,.5*fe),this.lines([[ie-2*xe,0],[xe*Xe,0,xe,Ne-Ne*Xe,xe,Ne],[0,fe-2*Ne],[0,Ne*Xe,-xe*Xe,Ne,-xe,Ne],[2*xe-ie,0],[-xe*Xe,0,-xe,-Ne*Xe,-xe,-Ne],[0,2*Ne-fe],[0,-Ne*Xe,xe*Xe,-Ne,xe,-Ne]],b+xe,F,[1,1],ze,!0),this},h.__private__.ellipse=h.ellipse=function(b,F,ie,fe,xe){if(isNaN(b)||isNaN(F)||isNaN(ie)||isNaN(fe)||!Vr(xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*ie,ze=4/3*(Math.SQRT2-1)*fe;return iu(b+ie,F),ja(b+ie,F-ze,b+Ne,F-fe,b,F-fe),ja(b-Ne,F-fe,b-ie,F-ze,b-ie,F),ja(b-ie,F+ze,b-Ne,F+fe,b,F+fe),ja(b+Ne,F+fe,b+ie,F+ze,b+ie,F),nu(xe),this},h.__private__.circle=h.circle=function(b,F,ie,fe){if(isNaN(b)||isNaN(F)||isNaN(ie)||!Vr(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,F,ie,ie,fe)},h.setFont=function(b,F,ie){return ie&&(F=X(F,ie)),st=Pc(b,F,{disableWarning:!1}),this};var Mh=h.__private__.getFont=h.getFont=function(){return yt[Pc.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var b,F,ie={};for(b in Nt)if(Nt.hasOwnProperty(b))for(F in ie[b]=[],Nt[b])Nt[b].hasOwnProperty(F)&&ie[b].push(F);return ie},h.addFont=function(b,F,ie,fe,xe){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?xe=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(ie=X(ie,fe)),xe=xe||"Identity-H",Ga.call(this,b,F,ie,xe)};var Go,ru=e.lineWidth||.200025,Ns=h.__private__.getLineWidth=h.getLineWidth=function(){return ru},zc=h.__private__.setLineWidth=h.setLineWidth=function(b){return ru=b,O(U(N(b))+" w"),this};h.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(b,F){if(b=b||[],F=F||0,isNaN(F)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(ie){return U(N(ie))}).join(" "),F=U(N(F)),O("["+b+"] "+F+" d"),this};var qc=h.__private__.getLineHeight=h.getLineHeight=function(){return me*Go};h.__private__.getLineHeight=h.getLineHeight=function(){return me*Go};var Gc=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(Go=b),this},Hc=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Go};Gc(e.lineHeight);var jr=h.__private__.getHorizontalCoordinate=function(b){return N(b)},sa=h.__private__.getVerticalCoordinate=function(b){return A===w.ADVANCED?b:pt[Y].mediaBox.topRightY-pt[Y].mediaBox.bottomLeftY-N(b)},kh=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(b){return U(jr(b))},Ya=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(b){return U(sa(b))},Ir=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Vi(Ir)},h.__private__.setStrokeColor=h.setDrawColor=function(b,F,ie,fe){return Ir=ji({ch1:b,ch2:F,ch3:ie,ch4:fe,pdfColorType:"draw",precision:2}),O(Ir),this};var au=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Vi(au)},h.__private__.setFillColor=h.setFillColor=function(b,F,ie,fe){return au=ji({ch1:b,ch2:F,ch3:ie,ch4:fe,pdfColorType:"fill",precision:2}),O(au),this};var Ho=e.textColor||"0 g",Dh=h.__private__.getTextColor=h.getTextColor=function(){return Vi(Ho)};h.__private__.setTextColor=h.setTextColor=function(b,F,ie,fe){return Ho=ji({ch1:b,ch2:F,ch3:ie,ch4:fe,pdfColorType:"text",precision:3}),this};var Ls=e.charSpace,Ph=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ls||0)};h.__private__.setCharSpace=h.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ls=b,this};var ou=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(b){var F=h.CapJoinStyles[b];if(F===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ou=F,O(F+" J"),this};var su=0;h.__private__.setLineJoin=h.setLineJoin=function(b){var F=h.CapJoinStyles[b];if(F===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return su=F,O(F+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return O(U(N(b))+" M"),this},h.GState=Hd,h.setGState=function(b){(b=typeof b=="string"?Jt[jn[b]]:Vc(null,b)).equals(zn)||(O("/"+b.id+" gs"),zn=b)};var Vc=function(b,F){if(!b||!jn[b]){var ie=!1;for(var fe in Jt)if(Jt.hasOwnProperty(fe)&&Jt[fe].equals(F)){ie=!0;break}if(ie)F=Jt[fe];else{var xe="GS"+(Object.keys(Jt).length+1).toString(10);Jt[xe]=F,F.id=xe}return b&&(jn[b]=F.id),Ut.publish("addGState",F),F}};h.addGState=function(b,F){return Vc(b,F),this},h.saveGraphicsState=function(){return O("q"),Mn.push({key:st,size:me,color:Ho}),this},h.restoreGraphicsState=function(){O("Q");var b=Mn.pop();return st=b.key,me=b.size,Ho=b.color,zn=null,this},h.setCurrentTransformationMatrix=function(b){return O(b.toString()+" cm"),this},h.comment=function(b){return O("#"+b),this};var Is=function(b,F){var ie=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Ne){isNaN(Ne)||(ie=parseFloat(Ne))}});var fe=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Ne){isNaN(Ne)||(fe=parseFloat(Ne))}});var xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xe},set:function(Ne){xe=Ne.toString()}}),this},lu=function(b,F,ie,fe){Is.call(this,b,F),this.type="rect";var xe=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xe},set:function(ze){isNaN(ze)||(xe=parseFloat(ze))}});var Ne=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(ze){isNaN(ze)||(Ne=parseFloat(ze))}}),this},uu=function(){this.page=zt,this.currentPage=Y,this.pages=Le.slice(0),this.pagesContext=pt.slice(0),this.x=Yt,this.y=et,this.matrix=vn,this.width=Vo(Y),this.height=Ja(Y),this.outputDestination=Ge,this.id="",this.objectNumber=-1};uu.prototype.restore=function(){zt=this.page,Y=this.currentPage,pt=this.pagesContext,Le=this.pages,Yt=this.x,et=this.y,vn=this.matrix,cu(Y,this.width),fu(Y,this.height),Ge=this.outputDestination};var jc=function(b,F,ie,fe,xe){Ti.push(new uu),zt=Y=0,Le=[],Yt=b,et=F,vn=xe,Va([ie,fe])},Fh=function(b){if(mi[b])Ti.pop().restore();else{var F=new uu,ie="Xo"+(Object.keys(bn).length+1).toString(10);F.id=ie,mi[b]=ie,bn[ie]=F,Ut.publish("addFormObject",F),Ti.pop().restore()}};for(var Rs in h.beginFormObject=function(b,F,ie,fe,xe){return jc(b,F,ie,fe,xe),this},h.endFormObject=function(b){return Fh(b),this},h.doFormObject=function(b,F){var ie=bn[mi[b]];return O("q"),O(F.toString()+" cm"),O("/"+ie.id+" Do"),O("Q"),this},h.getFormObject=function(b){var F=bn[mi[b]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},h.save=function(b,F){return b=b||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(ns(Cs(oa()),b),typeof ns.unload=="function"&&ht.setTimeout&&setTimeout(ns.unload,911),this):new Promise(function(ie,fe){try{var xe=ns(Cs(oa()),b);typeof ns.unload=="function"&&ht.setTimeout&&setTimeout(ns.unload,911),ie(xe)}catch(Ne){fe(Ne.message)}})},ft.API)ft.API.hasOwnProperty(Rs)&&(Rs==="events"&&ft.API.events.length?function(b,F){var ie,fe,xe;for(xe=F.length-1;xe!==-1;xe--)ie=F[xe][0],fe=F[xe][1],b.subscribe.apply(b,[ie].concat(typeof fe=="function"?[fe]:fe))}(Ut,ft.API.events):h[Rs]=ft.API[Rs]);var Vo=h.getPageWidth=function(b){return(pt[b=b||Y].mediaBox.topRightX-pt[b].mediaBox.bottomLeftX)/Ve},cu=h.setPageWidth=function(b,F){pt[b].mediaBox.topRightX=F*Ve+pt[b].mediaBox.bottomLeftX},Ja=h.getPageHeight=function(b){return(pt[b=b||Y].mediaBox.topRightY-pt[b].mediaBox.bottomLeftY)/Ve},fu=h.setPageHeight=function(b,F){pt[b].mediaBox.topRightY=F*Ve+pt[b].mediaBox.bottomLeftY};return h.internal={pdfEscape:vi,getStyle:Bc,getFont:Mh,getFontSize:ue,getCharSpace:Ph,getTextColor:Dh,getLineHeight:qc,getLineHeightFactor:Hc,getLineWidth:Ns,write:$,getHorizontalCoordinate:jr,getVerticalCoordinate:sa,getCoordinateString:kh,getVerticalCoordinateString:Ya,collections:{},newObject:Ct,newAdditionalObject:Ba,newObjectDeferred:Lt,newObjectDeferredBegin:It,getFilters:Ei,putStream:un,events:Ut,scaleFactor:Ve,pageSize:{getWidth:function(){return Vo(Y)},setWidth:function(b){cu(Y,b)},getHeight:function(){return Ja(Y)},setHeight:function(b){fu(Y,b)}},encryptionOptions:d,encryption:si,getEncryptor:Th,output:Ts,getNumberOfPages:_h,pages:Le,out:O,f2:W,f3:D,getPageInfo:Uc,getPageInfoByObjId:wt,getCurrentPageInfo:Eh,getPDFVersion:_,Point:Is,Rectangle:lu,Matrix:ke,hasHotfix:Fc},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Vo(Y)},set:function(b){cu(Y,b)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Ja(Y)},set:function(b){fu(Y,b)},enumerable:!0,configurable:!0}),Ha.call(h,Q),st="F1",Hr(r,n),Ut.publish("initialized"),h}tl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},tl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tl.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},tl.prototype.processOwnerPassword=function(e,t){return cg(ug(t).substr(0,5),e)},tl.prototype.encryptor=function(e,t){var n=ug(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return cg(n,i)}},Hd.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||$t(e)!==$t(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},ft.API={events:[]},ft.version="2.5.2";var Sn=ft.API,D0=1,xs=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xs=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xt=function(e){return e.toFixed(2)},so=function(e){return e.toFixed(5)};Sn.__acroform__={};var Gi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Ly=function(e){return e*D0},Kr=function(e){var t=new $_,n=nt.internal.getHeight(e)||0,i=nt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(xt(i)),Number(xt(n))],t},EL=Sn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},NL=Sn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},LL=Sn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},En=Sn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return LL(e,t-1)},Nn=Sn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return EL(e,t-1)},Ln=Sn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return NL(e,t-1)},IL=Sn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=e[0],a=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=n(r)||0,l.lowerLeft_Y=i(a+s)||0,l.upperRight_X=n(r+o)||0,l.upperRight_Y=i(a)||0,[Number(xt(l.lowerLeft_X)),Number(xt(l.lowerLeft_Y)),Number(xt(l.upperRight_X)),Number(xt(l.upperRight_Y))]},RL=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=fg(e,n),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+xt(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Kr(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},fg=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=e.multiline?r.map(function(D){return D.split(`
`)}):r.map(function(D){return[D]});var a=n,o=nt.internal.getHeight(e)||0;o=o<0?-o:o;var s=nt.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(D,N,H){if(D+1<r.length){var T=N+" "+r[D+1][0];return Bf(T,e,H).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var u,d,p=Bf("3",e,a).height,g=e.multiline?o-a:(o-p)/2,h=g+=2,S=0,_=0,C=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Bf(t,e,a=12).width+", FieldWidth:"+s+`
`;break}for(var v="",w=0,A=0;A<r.length;A++)if(r.hasOwnProperty(A)){var R=!1;if(r[A].length!==1&&C!==r[A].length-1){if((p+2)*(w+2)+2>o)continue e;v+=r[A][C],R=!0,_=A,A--}else{v=(v+=r[A][C]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var k=parseInt(A),X=l(k,v,a),U=A>=r.length-1;if(X&&!U){v+=" ",C=0;continue}if(X||U){if(U)_=k;else if(e.multiline&&(p+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(w+2)+2>o)continue e;_=k}}for(var q="",B=S;B<=_;B++){var W=r[B];if(e.multiline){if(B===_){q+=W[C]+" ",C=(C+1)%W.length;continue}if(B===S){q+=W[W.length-1]+" ";continue}}q+=W[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,d=Bf(q,e,a).width,e.textAlign){case"right":u=s-d-2;break;case"center":u=(s-d)/2;break;case"left":default:u=2}t+=xt(u)+" "+xt(h)+` Td
`,t+="("+xs(q)+`) Tj
`,t+=-xt(u)+` 0 Td
`,h=-(a+2),d=0,S=R?_:_+1,w++,v=""}break}return i.text=t,i.fontSize=a,i},Bf=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},ML={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kL=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},DL=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=n,r=e[n];t.internal.newObjectDeferredBegin(r.objId,!0),$t(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete e[i]}},PL=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(qr.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ML)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Q_,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a.objId=void 0,a.hasAnnotation&&kL(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,r){var a=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var s=i[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=IL(s.Rect,r)),r.internal.newObjectDeferredBegin(s.objId,!0),s.DA=nt.createDefaultAppearanceStream(s),$t(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=RL(s);l.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var p="";for(var g in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(g)){var h=s.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var S=h[o];typeof S=="function"&&(S=S.call(r,s)),p+="/"+o+" "+S+" ",r.internal.acroformPlugin.xForms.indexOf(S)>=0||r.internal.acroformPlugin.xForms.push(S)}}else typeof(S=h)=="function"&&(S=S.call(r,s)),p+="/"+o+" "+S,r.internal.acroformPlugin.xForms.indexOf(S)>=0||r.internal.acroformPlugin.xForms.push(S);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:s.objId}),r.internal.out("endobj")}a&&DL(r.internal.acroformPlugin.xForms,r)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Z_=Sn.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(o){return o};if(Array.isArray(e)){for(var r="[",a=0;a<e.length;a++)switch(a!==0&&(r+=" "),$t(e[a])){case"boolean":case"number":case"object":r+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),r+="("+xs(i(e[a].toString()))+")"):r+=e[a].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Yp=function(e,t,n){var i=function(r){return r};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+xs(i(e))+")"},$r=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$r.prototype.toString=function(){return this.objId+" 0 R"},$r.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},$r.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],r=this[i];r&&(Array.isArray(r)?e.push({key:i,value:Z_(r,this.objId,this.scope)}):r instanceof $r?(r.scope=this.scope,e.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&e.push({key:i,value:r}))}return e};var $_=function(){$r.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Gi($_,$r);var Q_=function(){$r.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+xs(n(e))+")"}},set:function(n){e=n}})};Gi(Q_,$r);var qr=function e(){$r.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!En(t,3)},set:function(v){v?this.F=Nn(t,3):this.F=Ln(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(v){i=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(v){i[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(v){i[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(v){i[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(v){i[3]=v}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Vd)return;a="FieldObject"+e.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+xs(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/D0:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Vd||this instanceof cs))return Yp(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=v}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Xn?g:Yp(g,this.objId,this.scope)},set:function(v){v=v.toString(),g=this instanceof Xn?v:v.substr(0,1)==="("?Xs(v.substr(1,v.length-2)):Xs(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn?Xs(g.substr(1,g.length-1)):g},set:function(v){v=v.toString(),g=this instanceof Xn?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Xn?h:Yp(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof Xn?v:v.substr(0,1)==="("?Xs(v.substr(1,v.length-2)):Xs(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn?Xs(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Xn?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(v){v=!!v,_=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(v){S=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,1)},set:function(v){v?this.Ff=Nn(this.Ff,1):this.Ff=Ln(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,2)},set:function(v){v?this.Ff=Nn(this.Ff,2):this.Ff=Ln(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,3)},set:function(v){v?this.Ff=Nn(this.Ff,3):this.Ff=Ln(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');C=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(C){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};Gi(qr,$r);var El=function(){qr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Z_(t,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,18)},set:function(n){n?this.Ff=Nn(this.Ff,18):this.Ff=Ln(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Nn(this.Ff,19):this.Ff=Ln(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,20)},set:function(n){n?(this.Ff=Nn(this.Ff,20),t.sort()):this.Ff=Ln(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,22)},set:function(n){n?this.Ff=Nn(this.Ff,22):this.Ff=Ln(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,23)},set:function(n){n?this.Ff=Nn(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,27)},set:function(n){n?this.Ff=Nn(this.Ff,27):this.Ff=Ln(this.Ff,27)}}),this.hasAppearanceStream=!1};Gi(El,qr);var Nl=function(){El.call(this),this.fontName="helvetica",this.combo=!1};Gi(Nl,El);var Ll=function(){Nl.call(this),this.combo=!0};Gi(Ll,Nl);var ad=function(){Ll.call(this),this.edit=!0};Gi(ad,Ll);var Xn=function(){qr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,15)},set:function(n){n?this.Ff=Nn(this.Ff,15):this.Ff=Ln(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,16)},set:function(n){n?this.Ff=Nn(this.Ff,16):this.Ff=Ln(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,17)},set:function(n){n?this.Ff=Nn(this.Ff,17):this.Ff=Ln(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,26)},set:function(n){n?this.Ff=Nn(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+xs(n(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){$t(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Gi(Xn,qr);var od=function(){Xn.call(this),this.pushButton=!0};Gi(od,Xn);var Il=function(){Xn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Gi(Il,Xn);var Vd=function(){var e,t;qr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),i)o.push("/"+a+" ("+xs(r(i[a]))+")");return o.push(">>"),o.join(`
`)},set:function(r){$t(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gi(Vd,qr),Il.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Il.prototype.createOption=function(e){var t=new Vd;return t.Parent=this,t.optionName=e,this.Kids.push(t),FL.call(this.scope,t),t};var sd=function(){Xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nt.CheckBox.createAppearanceStream()};Gi(sd,Xn);var cs=function(){qr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,13)},set:function(t){t?this.Ff=Nn(this.Ff,13):this.Ff=Ln(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,21)},set:function(t){t?this.Ff=Nn(this.Ff,21):this.Ff=Ln(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,23)},set:function(t){t?this.Ff=Nn(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,24)},set:function(t){t?this.Ff=Nn(this.Ff,24):this.Ff=Ln(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,25)},set:function(t){t?this.Ff=Nn(this.Ff,25):this.Ff=Ln(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,26)},set:function(t){t?this.Ff=Nn(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gi(cs,qr);var ld=function(){cs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,14)},set:function(e){e?this.Ff=Nn(this.Ff,14):this.Ff=Ln(this.Ff,14)}}),this.password=!0};Gi(ld,cs);var nt={CheckBox:{createAppearanceStream:function(){return{N:{On:nt.CheckBox.YesNormal},D:{On:nt.CheckBox.YesPushDown,Off:nt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Kr(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=fg(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+xt(nt.internal.getWidth(e))+" "+xt(nt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+xt(a.fontSize)+" Tf "+r),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Kr(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),r=[],a=nt.internal.getHeight(e),o=nt.internal.getWidth(e),s=fg(e,e.caption);return r.push("1 g"),r.push("0 0 "+xt(o)+" "+xt(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+xt(o-1)+" "+xt(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+xt(s.fontSize)+" Tf "+i),r.push(s.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Kr(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xt(nt.internal.getWidth(e))+" "+xt(nt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:nt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=nt.RadioButton.Circle.YesNormal,t.D[e]=nt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Kr(e);t.scope=e.scope;var n=[],i=nt.internal.getWidth(e)<=nt.internal.getHeight(e)?nt.internal.getWidth(e)/4:nt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=nt.internal.Bezier_C,a=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+so(nt.internal.getWidth(e)/2)+" "+so(nt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Kr(e);t.scope=e.scope;var n=[],i=nt.internal.getWidth(e)<=nt.internal.getHeight(e)?nt.internal.getWidth(e)/4:nt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*nt.internal.Bezier_C).toFixed(5)),o=Number((i*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+so(nt.internal.getWidth(e)/2)+" "+so(nt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+so(nt.internal.getWidth(e)/2)+" "+so(nt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Kr(e);t.scope=e.scope;var n=[],i=nt.internal.getWidth(e)<=nt.internal.getHeight(e)?nt.internal.getWidth(e)/4:nt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+so(nt.internal.getWidth(e)/2)+" "+so(nt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:nt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=nt.RadioButton.Cross.YesNormal,t.D[e]=nt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Kr(e);t.scope=e.scope;var n=[],i=nt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+xt(nt.internal.getWidth(e)-2)+" "+xt(nt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(xt(i.x1.x)+" "+xt(i.x1.y)+" m"),n.push(xt(i.x2.x)+" "+xt(i.x2.y)+" l"),n.push(xt(i.x4.x)+" "+xt(i.x4.y)+" m"),n.push(xt(i.x3.x)+" "+xt(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Kr(e);t.scope=e.scope;var n=nt.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+xt(nt.internal.getWidth(e))+" "+xt(nt.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+xt(nt.internal.getWidth(e)-2)+" "+xt(nt.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(xt(n.x1.x)+" "+xt(n.x1.y)+" m"),i.push(xt(n.x2.x)+" "+xt(n.x2.y)+" l"),i.push(xt(n.x4.x)+" "+xt(n.x4.y)+" m"),i.push(xt(n.x3.x)+" "+xt(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Kr(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xt(nt.internal.getWidth(e))+" "+xt(nt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};nt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=nt.internal.getWidth(e),n=nt.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},nt.internal.getWidth=function(e){var t=0;return $t(e)==="object"&&(t=Ly(e.Rect[2])),t},nt.internal.getHeight=function(e){var t=0;return $t(e)==="object"&&(t=Ly(e.Rect[3])),t};var FL=Sn.addField=function(e){if(PL(this,e),!(e instanceof qr))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Sn.AcroFormChoiceField=El,Sn.AcroFormListBox=Nl,Sn.AcroFormComboBox=Ll,Sn.AcroFormEditBox=ad,Sn.AcroFormButton=Xn,Sn.AcroFormPushButton=od,Sn.AcroFormRadioButton=Il,Sn.AcroFormCheckBox=sd,Sn.AcroFormTextField=cs,Sn.AcroFormPasswordField=ld,Sn.AcroFormAppearance=nt,Sn.AcroForm={ChoiceField:El,ListBox:Nl,ComboBox:Ll,EditBox:ad,Button:Xn,PushButton:od,RadioButton:Il,CheckBox:sd,TextField:cs,PasswordField:ld,Appearance:nt},ft.AcroForm={ChoiceField:El,ListBox:Nl,ComboBox:Ll,EditBox:ad,Button:Xn,PushButton:od,RadioButton:Il,CheckBox:sd,TextField:cs,PasswordField:ld,Appearance:nt};ft.AcroForm;function ex(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(D,N){var H,T,re,te,ne,se=t;if((N=N||t)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(X(D))for(ne in n)for(re=n[ne],H=0;H<re.length;H+=1){for(te=!0,T=0;T<re[H].length;T+=1)if(re[H][T]!==void 0&&re[H][T]!==D[T]){te=!1;break}if(te===!0){se=ne;break}}else for(ne in n)for(re=n[ne],H=0;H<re.length;H+=1){for(te=!0,T=0;T<re[H].length;T+=1)if(re[H][T]!==void 0&&re[H][T]!==D.charCodeAt(T)){te=!1;break}if(te===!0){se=ne;break}}return se===t&&N!==t&&(se=N),se},r=function D(N){for(var H=this.internal.write,T=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:N.width}),te.push({key:"Height",value:N.height}),N.colorSpace===C.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===C.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var ne="",se=0,ae=N.transparency.length;se<ae;se++)ne+=N.transparency[se]+" "+N.transparency[se]+" ";te.push({key:"Mask",value:"["+ne+"]"})}N.sMask!==void 0&&te.push({key:"SMask",value:N.objectId+1+" 0 R"});var ge=N.filter!==void 0?["/"+N.filter]:void 0;if(T({data:N.data,additionalKeyValues:te,alreadyAppliedFilters:ge,objectId:N.objectId}),H("endobj"),"sMask"in N&&N.sMask!==void 0){var ce="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,I={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:ce,data:N.sMask};"filter"in N&&(I.filter=N.filter),D.call(this,I)}if(N.colorSpace===C.INDEXED){var Y=this.internal.newObject();T({data:q(new Uint8Array(N.palette)),objectId:Y}),H("endobj")}},a=function(){var D=this.internal.collections.addImage_images;for(var N in D)r.call(this,D[N])},o=function(){var D,N=this.internal.collections.addImage_images,H=this.internal.write;for(var T in N)H("/I"+(D=N[T]).index,D.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var D=this.internal.collections.addImage_images;return s.call(this),D},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(D){return typeof e["process"+D.toUpperCase()]=="function"},p=function(D){return $t(D)==="object"&&D.nodeType===1},g=function(D,N){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var H=""+D.getAttribute("src");if(H.indexOf("data:image/")===0)return rc(unescape(H).split("base64,").pop());var T=e.loadFile(H,!0);if(T!==void 0)return T}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var re;switch(N){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;case"JPEG":case"JPG":default:re="image/jpeg"}return rc(D.toDataURL(re,1).split("base64,").pop())}},h=function(D){var N=this.internal.collections.addImage_images;if(N){for(var H in N)if(D===N[H].alias)return N[H]}},S=function(D,N,H){return D||N||(D=-96,N=-96),D<0&&(D=-1*H.width*72/D/this.internal.scaleFactor),N<0&&(N=-1*H.height*72/N/this.internal.scaleFactor),D===0&&(D=N*H.width/H.height),N===0&&(N=D*H.height/H.width),[D,N]},_=function(D,N,H,T,re,te){var ne=S.call(this,H,T,re),se=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,ge=l.call(this);if(H=ne[0],T=ne[1],ge[re.index]=re,te){te*=Math.PI/180;var ce=Math.cos(te),I=Math.sin(te),Y=function(Z){return Z.toFixed(4)},K=[Y(ce),Y(I),Y(-1*I),Y(ce),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,se(D),ae(N+T),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([se(H),"0","0",se(T),"0","0","cm"].join(" "))):this.internal.write([se(H),"0","0",se(T),se(D),ae(N+T),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},C=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(D){var N,H,T=0;if(typeof D=="string")for(H=D.length,N=0;N<H;N++)T=(T<<5)-T+D.charCodeAt(N),T|=0;else if(X(D))for(H=D.byteLength/2,N=0;N<H;N++)T=(T<<5)-T+D[N],T|=0;return T},A=e.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var N=!0;return D.length===0&&(N=!1),D.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(N=!1),N},R=e.__addimage__.extractImageFromDataUrl=function(D){var N=(D=D||"").split("base64,"),H=null;if(N.length===2){var T=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(N[0]);Array.isArray(T)&&(H={mimeType:T[1],charset:T[2],data:N[1]})}return H},k=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(D){return k()&&D instanceof ArrayBuffer};var X=e.__addimage__.isArrayBufferView=function(D){return k()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},U=e.__addimage__.binaryStringToUint8Array=function(D){for(var N=D.length,H=new Uint8Array(N),T=0;T<N;T++)H[T]=D.charCodeAt(T);return H},q=e.__addimage__.arrayBufferToBinaryString=function(D){for(var N="",H=X(D)?D:new Uint8Array(D),T=0;T<H.length;T+=8192)N+=String.fromCharCode.apply(null,H.subarray(T,T+8192));return N};e.addImage=function(){var D,N,H,T,re,te,ne,se,ae;if(typeof arguments[1]=="number"?(N=t,H=arguments[1],T=arguments[2],re=arguments[3],te=arguments[4],ne=arguments[5],se=arguments[6],ae=arguments[7]):(N=arguments[1],H=arguments[2],T=arguments[3],re=arguments[4],te=arguments[5],ne=arguments[6],se=arguments[7],ae=arguments[8]),$t(D=arguments[0])==="object"&&!p(D)&&"imageData"in D){var ge=D;D=ge.imageData,N=ge.format||N||t,H=ge.x||H||0,T=ge.y||T||0,re=ge.w||ge.width||re,te=ge.h||ge.height||te,ne=ge.alias||ne,se=ge.compression||se,ae=ge.rotation||ge.angle||ae}var ce=this.internal.getFilters();if(se===void 0&&ce.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(H)||isNaN(T))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var I=B.call(this,D,N,ne,se);return _.call(this,H,T,re,te,I,ae),this};var B=function(D,N,H,T){var re,te,ne;if(typeof D=="string"&&i(D)===t){D=unescape(D);var se=W(D,!1);(se!==""||(se=e.loadFile(D,!0))!==void 0)&&(D=se)}if(p(D)&&(D=g(D,N)),N=i(D,N),!d(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((ne=H)==null||ne.length===0)&&(H=function(ae){return typeof ae=="string"||X(ae)?w(ae):X(ae.data)?w(ae.data):null}(D)),(re=h.call(this,H))||(k()&&(D instanceof Uint8Array||N==="RGBA"||(te=D,D=U(D))),re=this["process"+N.toUpperCase()](D,u.call(this),H,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in e.image_compression?ae:v.NONE}(T),te)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},W=e.__addimage__.convertBase64ToBinaryString=function(D,N){var H;N=typeof N!="boolean"||N;var T,re="";if(typeof D=="string"){T=(H=R(D))!==null?H.data:D;try{re=rc(T)}catch(te){if(N)throw A(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};e.getImageProperties=function(D){var N,H,T="";if(p(D)&&(D=g(D)),typeof D=="string"&&i(D)===t&&((T=W(D,!1))===""&&(T=e.loadFile(D)||""),D=T),H=i(D),!d(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!k()||D instanceof Uint8Array||(D=U(D)),!(N=this["process"+H.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=H,N}})(ft.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,r,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,p=0;p<u.length&&!d;p++)switch((i=u[p]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){i=u[g];var h=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(_.objId),w=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+s(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+s(i.bounds.y)+"] ")+"/Contents ("+h(v(i.contents))+")",a+=" /Popup "+C.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(v(w))+") >>",_.content=a;var A=_.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+s(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+s(i.bounds.y)+"] ")+" /Parent "+A,i.open&&(a+=" /Open true"),a+=" >>",C.content=a,this.internal.write(_.objId,"0 R",C.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+s(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+s(i.bounds.y+i.bounds.h)+"] ";var R=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(S(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var k=this.annotations._nameMap[i.options.name];i.options.pageNumber=k.page,i.options.top=k.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(S(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var X=s(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+X+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,r,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:u(i),w:l(n+r),h:u(i+a)},options:o,type:"link"})},e.textWithLink=function(n,i,r,a){var o,s,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var d=this.splitTextToSize(n,s).length;o=Math.ceil(u*d)}else s=l,o=u;return this.text(n,i,r,a),r+=.2*u,a.align==="center"&&(i-=l/2),a.align==="right"&&(i-=l),this.link(i,r-u,s,o,a),l},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(ft.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(_){return t[_.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},s=e.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&a(_)&&t[_.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&r.indexOf(_.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&a(_)&&t[_.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&a(_)&&t[_.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&a(_)&&t[_.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&a(_)&&t[_.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(_){var C=0,v=n,w="",A=0;for(C=0;C<_.length;C+=1)v[_.charCodeAt(C)]!==void 0?(A++,typeof(v=v[_.charCodeAt(C)])=="number"&&(w+=String.fromCharCode(v),v=n,A=0),C===_.length-1&&(v=n,w+=_.charAt(C-(A-1)),C-=A-1,A=0)):(v=n,w+=_.charAt(C-A),C-=A,A=0);return w};e.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&i[_.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(_,C,v){return o(_)?a(_)===!1?-1:!u(_)||!o(C)&&!o(v)||!o(v)&&s(C)||s(_)&&!o(C)||s(_)&&l(C)||s(_)&&s(C)?0:d(_)&&o(C)&&!s(C)&&o(v)&&u(v)?3:s(_)||!o(v)?1:2:-1},h=function(_){var C=0,v=0,w=0,A="",R="",k="",X=(_=_||"").split("\\s+"),U=[];for(C=0;C<X.length;C+=1){for(U.push(""),v=0;v<X[C].length;v+=1)A=X[C][v],R=X[C][v-1],k=X[C][v+1],o(A)?(w=g(A,R,k),U[C]+=w!==-1?String.fromCharCode(t[A.charCodeAt(0)][w]):A):U[C]+=A;U[C]=p(U[C])}return U.join(" ")},S=e.__arabicParser__.processArabic=e.processArabic=function(){var _,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(C)){var w=0;for(v=[],w=0;w<C.length;w+=1)Array.isArray(C[w])?v.push([h(C[w][0]),C[w][1],C[w][2]]):v.push([h(C[w])]);_=v}else _=h(C);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};e.events.push(["preProcessText",S])}(ft.API),ft.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ft.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(_){S=_}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){i.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,h=0,S=0,_=0,C=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,R){return A.concat(C.splitTextToSize(R,v))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(_=this.getStringUnitWidth(l[w],{font:p})*d)&&(h=_);return h!==0&&(S=l.length),{w:h/=g,h:Math.max((S*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,h&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,d,p,g){if(i.call(this),!d)throw new Error("No data for PDF table.");var h,S,_,C,v=[],w=[],A=[],R={},k={},X=[],U=[],q=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,W=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,D=g.margins||Object.assign({width:this.getPageWidth()},t),N=typeof g.padding=="number"?g.padding:3,H=g.headerBackgroundColor||"#c8c8c8",T=g.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=T,this.setFontSize(W),p==null)w=v=Object.keys(d[0]),A=v.map(function(){return"left"});else if(Array.isArray(p)&&$t(p[0])==="object")for(v=p.map(function(ge){return ge.name}),w=p.map(function(ge){return ge.prompt||ge.name||""}),A=p.map(function(ge){return ge.align||"left"}),h=0;h<p.length;h+=1)k[p[h].name]=p[h].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(w=v=p,A=v.map(function(){return"left"}));if(q||Array.isArray(p)&&typeof p[0]=="string")for(h=0;h<v.length;h+=1){for(R[C=v[h]]=d.map(function(ge){return ge[C]}),this.setFont(void 0,"bold"),X.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=R[C],this.setFont(void 0,"normal"),_=0;_<S.length;_+=1)X.push(this.getTextDimensions(S[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[C]=Math.max.apply(null,X)+N+N,X=[]}if(B){var re={};for(h=0;h<v.length;h+=1)re[v[h]]={},re[v[h]].text=w[h],re[v[h]].align=A[h];var te=s.call(this,re,k);U=v.map(function(ge){return new a(l,u,k[ge],te,re[ge].text,void 0,re[ge].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var ne=p.reduce(function(ge,ce){return ge[ce.name]=ce.align,ge},{});for(h=0;h<d.length;h+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:h,data:d[h]},this);var se=s.call(this,d[h],k);for(_=0;_<v.length;_+=1){var ae=d[h][v[_]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:h,col:_,data:ae},this),o.call(this,new a(l,u,k[v[_]],se,ae,h+2,ne[v[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(h){var S=l[h];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*p/g+d+d},this).reduce(function(h,S){return Math.max(h,S)},0)};e.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(S)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(ft.API);var tx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nx=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],dg=ex(nx),ix=[100,200,300,400,500,600,700,800,900],UL=ex(ix);function hg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return tx[a=a||"normal"]?a:"normal"}(e.style),i=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),r=function(a){return typeof dg[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:r,src:e.src||[],ref:e.ref||{name:t,style:[r,n,i].join(" ")}}}function Iy(e,t,n,i){var r;for(r=n;r>=0&&r<t.length;r+=i)if(e[t[r]])return e[t[r]];for(r=n;r>=0&&r<t.length;r-=i)if(e[t[r]])return e[t[r]]}var BL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ry={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function My(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function OL(e,t,n){for(var i=(n=n||{}).defaultFontFamily||"times",r=Object.assign({},BL,n.genericFontFamilies||{}),a=null,o=null,s=0;s<t.length;++s)if(r[(a=hg(t[s])).family]&&(a.family=r[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[i]))throw new Error("Could not find a font-family for the rule '"+My(a)+"' and default family '"+i+"'.");if(o=function(l,u){if(u[l])return u[l];var d=dg[l],p=d<=dg.normal?-1:1,g=Iy(u,nx,d,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(a.stretch,o),o=function(l,u){if(u[l])return u[l];for(var d=tx[l],p=0;p<d.length;++p)if(u[d[p]])return u[d[p]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=UL[l],p=Iy(u,ix,d,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+My(a)+"'.");return o}function ky(e){return e.trimLeft()}function zL(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function qL(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Of,Dy,Py,Jp=["times"];(function(e){var t,n,i,r,a,o,s,l,u,d=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new o,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new o,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var p=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=I;Object.defineProperty(this,"pdf",{get:function(){return Y}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(oe){K=!!oe}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(oe){Z=!!oe}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(oe){isNaN(oe)||(le=oe)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(oe){isNaN(oe)||(_e=oe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(oe){var O;typeof oe=="number"?O=[oe,oe,oe,oe]:((O=new Array(4))[0]=oe[0],O[1]=oe.length>=2?oe[1]:O[0],O[2]=oe.length>=3?oe[2]:O[0],O[3]=oe.length>=4?oe[3]:O[1]),u.margin=O}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(oe){ye=oe}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(oe){pe=oe}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(oe){Ie=oe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(oe){oe instanceof d&&(u=oe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(oe){u.path=oe}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(oe){Le=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var O;O=g(oe),this.ctx.fillStyle=O.style,this.ctx.isFillTransparent=O.a===0,this.ctx.fillOpacity=O.a,this.pdf.setFillColor(O.r,O.g,O.b,{a:O.a}),this.pdf.setTextColor(O.r,O.g,O.b,{a:O.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var O=g(oe);this.ctx.strokeStyle=O.style,this.ctx.isStrokeTransparent=O.a===0,this.ctx.strokeOpacity=O.a,O.a===0?this.pdf.setDrawColor(255,255,255):(O.a,this.pdf.setDrawColor(O.r,O.g,O.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var He=null;function Ge(oe,O){if(He===null){var $=function(j){var Q=[];return Object.keys(j).forEach(function(me){j[me].forEach(function(be){var ue=null;switch(be){case"bold":ue={family:me,weight:"bold"};break;case"italic":ue={family:me,style:"italic"};break;case"bolditalic":ue={family:me,weight:"bold",style:"italic"};break;case"":case"normal":ue={family:me}}ue!==null&&(ue.ref={name:me,style:be},Q.push(ue))})}),Q}(oe.getFontList());He=function(j){for(var Q={},me=0;me<j.length;++me){var be=hg(j[me]),ue=be.family,Ce=be.stretch,Re=be.style,Ee=be.weight;Q[ue]=Q[ue]||{},Q[ue][Ce]=Q[ue][Ce]||{},Q[ue][Ce][Re]=Q[ue][Ce][Re]||{},Q[ue][Ce][Re][Ee]=be}return Q}($.concat(O))}return He}var M=null;Object.defineProperty(this,"fontFaces",{get:function(){return M},set:function(oe){He=null,M=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var O;if(this.ctx.font=oe,(O=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(oe))!==null){var $=O[1],j=(O[2],O[3]),Q=O[4],me=(O[5],O[6]),be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Q)[2];Q=Math.floor(be==="px"?parseFloat(Q)*this.pdf.internal.scaleFactor:be==="em"?parseFloat(Q)*this.pdf.getFontSize():parseFloat(Q)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Q);var ue=function(Ye){var st,Ve,Yt=[],et=Ye.trim();if(et==="")return Jp;if(et in Ry)return[Ry[et]];for(;et!=="";){switch(Ve=null,st=(et=ky(et)).charAt(0)){case'"':case"'":Ve=zL(et.substring(1),st);break;default:Ve=qL(et)}if(Ve===null||(Yt.push(Ve[0]),(et=ky(Ve[1]))!==""&&et.charAt(0)!==","))return Jp;et=et.replace(/^,/,"")}return Yt}(me);if(this.fontFaces){var Ce=OL(Ge(this.pdf,this.fontFaces),ue.map(function(Ye){return{family:Ye,stretch:"normal",weight:j,style:$}}));this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var Re="";(j==="bold"||parseInt(j,10)>=700||$==="bold")&&(Re="bold"),$==="italic"&&(Re+="italic"),Re.length===0&&(Re="normal");for(var Ee="",qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<ue.length;Qe++){if(this.pdf.internal.getFont(ue[Qe],Re,{noFallback:!0,disableWarning:!0})!==void 0){Ee=ue[Qe];break}if(Re==="bolditalic"&&this.pdf.internal.getFont(ue[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ee=ue[Qe],Re="bold";else if(this.pdf.internal.getFont(ue[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ee=ue[Qe],Re="normal";break}}if(Ee===""){for(var $e=0;$e<ue.length;$e++)if(qe[ue[$e]]){Ee=qe[ue[$e]];break}}Ee=Ee===""?"Times":Ee,this.pdf.setFont(Ee,Re)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};p.prototype.setLineDash=function(I){this.lineDash=I},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){R.call(this,"fill",!1)},p.prototype.stroke=function(){R.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(I,Y){if(isNaN(I)||isNaN(Y))throw rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(I,Y));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(I,Y)},p.prototype.closePath=function(){var I=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&$t(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){I=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(I.x,I.y)},p.prototype.lineTo=function(I,Y){if(isNaN(I)||isNaN(Y))throw rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(I,Y));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},p.prototype.quadraticCurveTo=function(I,Y,K,Z){if(isNaN(K)||isNaN(Z)||isNaN(I)||isNaN(Y))throw rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new o(K,Z)),_e=this.ctx.transform.applyToPoint(new o(I,Y));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},p.prototype.bezierCurveTo=function(I,Y,K,Z,le,_e){if(isNaN(le)||isNaN(_e)||isNaN(I)||isNaN(Y)||isNaN(K)||isNaN(Z))throw rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new o(le,_e)),pe=this.ctx.transform.applyToPoint(new o(I,Y)),Ie=this.ctx.transform.applyToPoint(new o(K,Z));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Ie.x,y2:Ie.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new o(ye.x,ye.y)},p.prototype.arc=function(I,Y,K,Z,le,_e){if(isNaN(I)||isNaN(Y)||isNaN(K)||isNaN(Z)||isNaN(le))throw rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new o(I,Y));I=ye.x,Y=ye.y;var pe=this.ctx.transform.applyToPoint(new o(0,K)),Ie=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(pe.x-Ie.x,2)+Math.pow(pe.y-Ie.y,2))}Math.abs(le-Z)>=2*Math.PI&&(Z=0,le=2*Math.PI),this.path.push({type:"arc",x:I,y:Y,radius:K,startAngle:Z,endAngle:le,counterclockwise:_e})},p.prototype.arcTo=function(I,Y,K,Z,le){throw new Error("arcTo not implemented.")},p.prototype.rect=function(I,Y,K,Z){if(isNaN(I)||isNaN(Y)||isNaN(K)||isNaN(Z))throw rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,Y),this.lineTo(I+K,Y),this.lineTo(I+K,Y+Z),this.lineTo(I,Y+Z),this.lineTo(I,Y),this.lineTo(I+K,Y),this.lineTo(I,Y)},p.prototype.fillRect=function(I,Y,K,Z){if(isNaN(I)||isNaN(Y)||isNaN(K)||isNaN(Z))throw rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,Y,K,Z),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},p.prototype.strokeRect=function(I,Y,K,Z){if(isNaN(I)||isNaN(Y)||isNaN(K)||isNaN(Z))throw rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(I,Y,K,Z),this.stroke())},p.prototype.clearRect=function(I,Y,K,Z){if(isNaN(I)||isNaN(Y)||isNaN(K)||isNaN(Z))throw rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,Y,K,Z))},p.prototype.save=function(I){I=typeof I!="boolean"||I;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},p.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(I){var Y,K,Z,le;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))Y=0,K=0,Z=0,le=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(_e!==null)Y=parseInt(_e[1]),K=parseInt(_e[2]),Z=parseInt(_e[3]),le=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)Y=parseInt(_e[1]),K=parseInt(_e[2]),Z=parseInt(_e[3]),le=parseFloat(_e[4]);else{if(le=1,typeof I=="string"&&I.charAt(0)!=="#"){var ye=new K_(I);I=ye.ok?ye.toHex():"#000000"}I.length===4?(Y=I.substring(1,2),Y+=Y,K=I.substring(2,3),K+=K,Z=I.substring(3,4),Z+=Z):(Y=I.substring(1,3),K=I.substring(3,5),Z=I.substring(5,7)),Y=parseInt(Y,16),K=parseInt(K,16),Z=parseInt(Z,16)}}return{r:Y,g:K,b:Z,a:le,style:I}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(I,Y,K,Z){if(isNaN(Y)||isNaN(K)||typeof I!="string")throw rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!h.call(this)){var le=se(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;N.call(this,{text:I,x:Y,y:K,scale:_e,angle:le,align:this.textAlign,maxWidth:Z})}},p.prototype.strokeText=function(I,Y,K,Z){if(isNaN(Y)||isNaN(K)||typeof I!="string")throw rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){Z=isNaN(Z)?void 0:Z;var le=se(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;N.call(this,{text:I,x:Y,y:K,scale:_e,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:Z})}},p.prototype.measureText=function(I){if(typeof I!="string")throw rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,K=this.pdf.internal.scaleFactor,Z=Y.internal.getFontSize(),le=Y.getStringUnitWidth(I)*Z/Y.internal.scaleFactor,_e=function(ye){var pe=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new _e({width:le*=Math.round(96*K/72*1e4)/1e4})},p.prototype.scale=function(I,Y){if(isNaN(I)||isNaN(Y))throw rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(I,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},p.prototype.rotate=function(I){if(isNaN(I))throw rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},p.prototype.translate=function(I,Y){if(isNaN(I)||isNaN(Y))throw rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,I,Y);this.ctx.transform=this.ctx.transform.multiply(K)},p.prototype.transform=function(I,Y,K,Z,le,_e){if(isNaN(I)||isNaN(Y)||isNaN(K)||isNaN(Z)||isNaN(le)||isNaN(_e))throw rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new l(I,Y,K,Z,le,_e);this.ctx.transform=this.ctx.transform.multiply(ye)},p.prototype.setTransform=function(I,Y,K,Z,le,_e){I=isNaN(I)?1:I,Y=isNaN(Y)?0:Y,K=isNaN(K)?0:K,Z=isNaN(Z)?1:Z,le=isNaN(le)?0:le,_e=isNaN(_e)?0:_e,this.ctx.transform=new l(I,Y,K,Z,le,_e)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(I,Y,K,Z,le,_e,ye,pe,Ie){var Le=this.pdf.getImageProperties(I),He=1,Ge=1,M=1,oe=1;Z!==void 0&&pe!==void 0&&(M=pe/Z,oe=Ie/le,He=Le.width/Z*pe/Z,Ge=Le.height/le*Ie/le),_e===void 0&&(_e=Y,ye=K,Y=0,K=0),Z!==void 0&&pe===void 0&&(pe=Z,Ie=le),Z===void 0&&pe===void 0&&(pe=Le.width,Ie=Le.height);for(var O,$=this.ctx.transform.decompose(),j=se($.rotate.shx),Q=new l,me=(Q=(Q=(Q=Q.multiply($.translate)).multiply($.skew)).multiply($.scale)).applyToRectangle(new s(_e-Y*M,ye-K*oe,Z*He,le*Ge)),be=C.call(this,me),ue=[],Ce=0;Ce<be.length;Ce+=1)ue.indexOf(be[Ce])===-1&&ue.push(be[Ce]);if(A(ue),this.autoPaging)for(var Re=ue[0],Ee=ue[ue.length-1],qe=Re;qe<Ee+1;qe++){this.pdf.setPage(qe);var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=qe===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=qe===1?0:Ye+(qe-2)*st;if(this.ctx.clip_path.length!==0){var Yt=this.path;O=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(O,this.posX+this.margin[3],-Ve+$e+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=Yt}var et=JSON.parse(JSON.stringify(me));et=w([et],this.posX+this.margin[3],-Ve+$e+this.ctx.prevPageLastElemOffset)[0];var vn=(qe>Re||qe<Ee)&&_.call(this);vn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,st,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",et.x,et.y,et.w,et.h,null,null,j),vn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",me.x,me.y,me.w,me.h,null,null,j)};var C=function(I,Y,K){var Z=[];Y=Y||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":Z.push(Math.floor((I.y+le)/K)+1);break;case"arc":Z.push(Math.floor((I.y+le-I.radius)/K)+1),Z.push(Math.floor((I.y+le+I.radius)/K)+1);break;case"qct":var _e=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);Z.push(Math.floor((_e.y+le)/K)+1),Z.push(Math.floor((_e.y+_e.h+le)/K)+1);break;case"bct":var ye=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);Z.push(Math.floor((ye.y+le)/K)+1),Z.push(Math.floor((ye.y+ye.h+le)/K)+1);break;case"rect":Z.push(Math.floor((I.y+le)/K)+1),Z.push(Math.floor((I.y+I.h+le)/K)+1)}for(var pe=0;pe<Z.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<Z[pe];)v.call(this);return Z},v=function(){var I=this.fillStyle,Y=this.strokeStyle,K=this.font,Z=this.lineCap,le=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=Y,this.font=K,this.lineCap=Z,this.lineWidth=le,this.lineJoin=_e},w=function(I,Y,K){for(var Z=0;Z<I.length;Z++)switch(I[Z].type){case"bct":I[Z].x2+=Y,I[Z].y2+=K;case"qct":I[Z].x1+=Y,I[Z].y1+=K;case"mt":case"lt":case"arc":default:I[Z].x+=Y,I[Z].y+=K}return I},A=function(I){return I.sort(function(Y,K){return Y-K})},R=function(I,Y){for(var K,Z,le=this.fillStyle,_e=this.strokeStyle,ye=this.lineCap,pe=this.lineWidth,Ie=Math.abs(pe*this.ctx.transform.scaleX),Le=this.lineJoin,He=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),M=[],oe=0;oe<Ge.length;oe++)if(Ge[oe].x!==void 0)for(var O=C.call(this,Ge[oe]),$=0;$<O.length;$+=1)M.indexOf(O[$])===-1&&M.push(O[$]);for(var j=0;j<M.length;j++)for(;this.pdf.internal.getNumberOfPages()<M[j];)v.call(this);if(A(M),this.autoPaging)for(var Q=M[0],me=M[M.length-1],be=Q;be<me+1;be++){this.pdf.setPage(be),this.fillStyle=le,this.strokeStyle=_e,this.lineCap=ye,this.lineWidth=Ie,this.lineJoin=Le;var ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=be===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=be===1?0:Re+(be-2)*Ee;if(this.ctx.clip_path.length!==0){var Qe=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(K,this.posX+this.margin[3],-qe+Ce+this.ctx.prevPageLastElemOffset),k.call(this,I,!0),this.path=Qe}if(Z=JSON.parse(JSON.stringify(He)),this.path=w(Z,this.posX+this.margin[3],-qe+Ce+this.ctx.prevPageLastElemOffset),Y===!1||be===0){var $e=(be>Q||be<me)&&_.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ue,Ee,null).clip().discardPath()),k.call(this,I,Y),$e&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Ie,k.call(this,I,Y),this.lineWidth=pe;this.path=He},k=function(I,Y){if((I!=="stroke"||Y||!S.call(this))&&(I==="stroke"||Y||!h.call(this))){for(var K,Z,le=[],_e=this.path,ye=0;ye<_e.length;ye++){var pe=_e[ye];switch(pe.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:pe,deltas:[],abs:[]});break;case"lt":var Ie=le.length;if(_e[ye-1]&&!isNaN(_e[ye-1].x)&&(K=[pe.x-_e[ye-1].x,pe.y-_e[ye-1].y],Ie>0)){for(;Ie>=0;Ie--)if(le[Ie-1].close!==!0&&le[Ie-1].begin!==!0){le[Ie-1].deltas.push(K),le[Ie-1].abs.push(pe);break}}break;case"bct":K=[pe.x1-_e[ye-1].x,pe.y1-_e[ye-1].y,pe.x2-_e[ye-1].x,pe.y2-_e[ye-1].y,pe.x-_e[ye-1].x,pe.y-_e[ye-1].y],le[le.length-1].deltas.push(K);break;case"qct":var Le=_e[ye-1].x+2/3*(pe.x1-_e[ye-1].x),He=_e[ye-1].y+2/3*(pe.y1-_e[ye-1].y),Ge=pe.x+2/3*(pe.x1-pe.x),M=pe.y+2/3*(pe.y1-pe.y),oe=pe.x,O=pe.y;K=[Le-_e[ye-1].x,He-_e[ye-1].y,Ge-_e[ye-1].x,M-_e[ye-1].y,oe-_e[ye-1].x,O-_e[ye-1].y],le[le.length-1].deltas.push(K);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(pe)}}Z=Y?null:I==="stroke"?"stroke":"fill";for(var $=!1,j=0;j<le.length;j++)if(le[j].arc)for(var Q=le[j].abs,me=0;me<Q.length;me++){var be=Q[me];be.type==="arc"?q.call(this,be.x,be.y,be.radius,be.startAngle,be.endAngle,be.counterclockwise,void 0,Y,!$):H.call(this,be.x,be.y),$=!0}else if(le[j].close===!0)this.pdf.internal.out("h"),$=!1;else if(le[j].begin!==!0){var ue=le[j].start.x,Ce=le[j].start.y;T.call(this,le[j].deltas,ue,Ce),$=!0}Z&&B.call(this,Z),Y&&W.call(this)}},X=function(I){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-K;case"top":return I+Y-K;case"hanging":return I+Y-2*K;case"middle":return I+Y/2-K;case"ideographic":return I;case"alphabetic":default:return I}},U=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(Y,K){this.colorStops.push([Y,K])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(I,Y,K,Z,le,_e,ye,pe,Ie){for(var Le=te.call(this,K,Z,le,_e),He=0;He<Le.length;He++){var Ge=Le[He];He===0&&(Ie?D.call(this,Ge.x1+I,Ge.y1+Y):H.call(this,Ge.x1+I,Ge.y1+Y)),re.call(this,I,Y,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4)}pe?W.call(this):B.call(this,ye)},B=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(I,Y){this.pdf.internal.out(n(I)+" "+i(Y)+" m")},N=function(I){var Y;switch(I.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var K=this.pdf.getTextDimensions(I.text),Z=X.call(this,I.y),le=U.call(this,Z)-K.h,_e=this.ctx.transform.applyToPoint(new o(I.x,Z)),ye=this.ctx.transform.decompose(),pe=new l;pe=(pe=(pe=pe.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Ie,Le,He,Ge=this.ctx.transform.applyToRectangle(new s(I.x,Z,K.w,K.h)),M=pe.applyToRectangle(new s(I.x,le,K.w,K.h)),oe=C.call(this,M),O=[],$=0;$<oe.length;$+=1)O.indexOf(oe[$])===-1&&O.push(oe[$]);if(A(O),this.autoPaging)for(var j=O[0],Q=O[O.length-1],me=j;me<Q+1;me++){this.pdf.setPage(me);var be=me===1?this.posY+this.margin[0]:this.margin[0],ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],Re=Ce-this.margin[0],Ee=this.pdf.internal.pageSize.width-this.margin[1],qe=Ee-this.margin[3],Qe=me===1?0:ue+(me-2)*Re;if(this.ctx.clip_path.length!==0){var $e=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ie,this.posX+this.margin[3],-1*Qe+be),k.call(this,"fill",!0),this.path=$e}var Ye=w([JSON.parse(JSON.stringify(M))],this.posX+this.margin[3],-Qe+be+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*I.scale),He=this.lineWidth,this.lineWidth=He*I.scale);var st=this.autoPaging!=="text";if(st||Ye.y+Ye.h<=Ce){if(st||Ye.y>=be&&Ye.x<=Ee){var Ve=st?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Ee-Ye.x)[0],Yt=w([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-Qe+be+this.ctx.prevPageLastElemOffset)[0],et=st&&(me>j||me<Q)&&_.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Re,null).clip().discardPath()),this.pdf.text(Ve,Yt.x,Yt.y,{angle:I.angle,align:Y,renderingMode:I.renderingMode}),et&&this.pdf.restoreGraphicsState()}}else Ye.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-Ye.y);I.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=He)}else I.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*I.scale),He=this.lineWidth,this.lineWidth=He*I.scale),this.pdf.text(I.text,_e.x+this.posX,_e.y+this.posY,{angle:I.angle,align:Y,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=He)},H=function(I,Y,K,Z){K=K||0,Z=Z||0,this.pdf.internal.out(n(I+K)+" "+i(Y+Z)+" l")},T=function(I,Y,K){return this.pdf.lines(I,Y,K,null,null)},re=function(I,Y,K,Z,le,_e,ye,pe){this.pdf.internal.out([t(r(K+I)),t(a(Z+Y)),t(r(le+I)),t(a(_e+Y)),t(r(ye+I)),t(a(pe+Y)),"c"].join(" "))},te=function(I,Y,K,Z){for(var le=2*Math.PI,_e=Math.PI/2;Y>K;)Y-=le;var ye=Math.abs(K-Y);ye<le&&Z&&(ye=le-ye);for(var pe=[],Ie=Z?-1:1,Le=Y;ye>1e-5;){var He=Le+Ie*Math.min(ye,_e);pe.push(ne.call(this,I,Le,He)),ye-=Math.abs(He-Le),Le=He}return pe},ne=function(I,Y,K){var Z=(K-Y)/2,le=I*Math.cos(Z),_e=I*Math.sin(Z),ye=le,pe=-_e,Ie=ye*ye+pe*pe,Le=Ie+ye*le+pe*_e,He=4/3*(Math.sqrt(2*Ie*Le)-Le)/(ye*_e-pe*le),Ge=ye-He*pe,M=pe+He*ye,oe=Ge,O=-M,$=Z+Y,j=Math.cos($),Q=Math.sin($);return{x1:I*Math.cos(Y),y1:I*Math.sin(Y),x2:Ge*j-M*Q,y2:Ge*Q+M*j,x3:oe*j-O*Q,y3:oe*Q+O*j,x4:I*Math.cos(K),y4:I*Math.sin(K)}},se=function(I){return 180*I/Math.PI},ae=function(I,Y,K,Z,le,_e){var ye=I+.5*(K-I),pe=Y+.5*(Z-Y),Ie=le+.5*(K-le),Le=_e+.5*(Z-_e),He=Math.min(I,le,ye,Ie),Ge=Math.max(I,le,ye,Ie),M=Math.min(Y,_e,pe,Le),oe=Math.max(Y,_e,pe,Le);return new s(He,M,Ge-He,oe-M)},ge=function(I,Y,K,Z,le,_e,ye,pe){var Ie,Le,He,Ge,M,oe,O,$,j,Q,me,be,ue,Ce,Re=K-I,Ee=Z-Y,qe=le-K,Qe=_e-Z,$e=ye-le,Ye=pe-_e;for(Le=0;Le<41;Le++)j=(O=(He=I+(Ie=Le/40)*Re)+Ie*((M=K+Ie*qe)-He))+Ie*(M+Ie*(le+Ie*$e-M)-O),Q=($=(Ge=Y+Ie*Ee)+Ie*((oe=Z+Ie*Qe)-Ge))+Ie*(oe+Ie*(_e+Ie*Ye-oe)-$),Le==0?(me=j,be=Q,ue=j,Ce=Q):(me=Math.min(me,j),be=Math.min(be,Q),ue=Math.max(ue,j),Ce=Math.max(Ce,Q));return new s(Math.round(me),Math.round(be),Math.round(ue-me),Math.round(Ce-be))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,Y,K=(I=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:Y}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(ft.API),function(e){var t=function(a){var o,s,l,u,d,p,g,h,S,_;for(s=[],l=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>l;l+=4)(d=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(p=(d=((d=((d=((d=(d-(_=d%85))/85)-(S=d%85))/85)-(h=d%85))/85)-(g=d%85))/85)%85,s.push(p+33,g+33,h+33,S+33,_+33)):s.push(122);return function(C,v){for(var w=v;w>0;w--)C.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},n=function(a){var o,s,l,u,d,p=String,g="length",h=255,S="charCodeAt",_="slice",C="replace";for(a[_](-2),a=a[_](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),l=[],u=0,d=(a+=o="uuuuu"[_](a[g]%5||5))[g];d>u;u+=5)s=52200625*(a[S](u)-33)+614125*(a[S](u+1)-33)+7225*(a[S](u+2)-33)+85*(a[S](u+3)-33)+(a[S](u+4)-33),l.push(h&s>>24,h&s>>16,h&s>>8,h&s);return function(v,w){for(var A=w;A>0;A--)v.pop()}(l,o[g]),p.fromCharCode.apply(p,l)},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},r=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=sg(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(a,o){var s=0,l=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=r(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ft.API),function(e){e.loadFile=function(t,n,i){return function(r,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,d){var p=new XMLHttpRequest,g=0,h=function(S){var _=S.length,C=[],v=String.fromCharCode;for(g=0;g<_;g+=1)C.push(v(255&S.charCodeAt(g)));return C.join("")};if(p.open("GET",l,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?d(h(this.responseText)):d(void 0)}),p.send(null),u&&p.status===200)return h(p.responseText)}(r,a,o)}catch{}return s}(t,n,i)},e.loadImageFile=e.loadFile}(ft.API),function(e){function t(){return(ht.html2canvas?Promise.resolve(ht.html2canvas):ng(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(ht.DOMPurify?Promise.resolve(ht.DOMPurify):ng(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var s=$t(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},r=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(i(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:r("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,d){for(var p=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)d!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(l(g,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(p.width=u.width,p.height=u.height,p.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(p.value=u.value),p.addEventListener("load",function(){p.scrollTop=u.scrollTop,p.scrollLeft=u.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var g=0;g<u.length;++g){var h=u[g],S=h.src.find(function(_){return _.format==="truetype"});S&&l.addFont(S.url,h.ref.name,h.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),s(this.prop.container,p)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(i(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,u),p}).then(u,d).then(function(p){return l.updateProgress(1),p})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),d=l.call(u,o,s);return a.convert(d,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,ft.getPageSize=function(o,s,l){if($t(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,p=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+s}var h,S=0,_=0;if(g.hasOwnProperty(p))S=g[p][1]/d,_=g[p][0]/d;else try{S=l[1],_=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",_>S&&(h=_,_=S,S=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>_&&(h=_,_=S,S=h)}return{width:_,height:S,unit:s,k:d,orientation:o}},e.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(hg):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(ft.API),ft.API.addJS=function(e){return Py=e,this.internal.events.subscribe("postPutResources",function(){Of=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Of+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Dy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Py+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Of!==void 0&&Dy!==void 0&&this.internal.out("/Names <</JavaScript "+Of+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),a=0;a<r.length;a++){var o=r[a],s=i.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var p=n.internal.newObject();d.push(p);var g=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<d.length;a++)n.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,a){var o={title:r,options:a,children:[]};return i==null&&(i=this.root),i.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var o=i.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var u=0;u<i.children.length;u++)this.renderItems(i.children[u])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var a=0;a<r.children.length;a++)i.count++,this.count_r(i,r.children[a]);return i.count}}])}(ft.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,r,a,o,s){var l,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(p){for(var g,h=256*p.charCodeAt(4)+p.charCodeAt(5),S=p.length,_={width:0,height:0,numcomponents:1},C=4;C<S;C+=2){if(C+=h,t.indexOf(p.charCodeAt(C+1))!==-1){g=256*p.charCodeAt(C+5)+p.charCodeAt(C+6),_={width:256*p.charCodeAt(C+7)+p.charCodeAt(C+8),height:g,numcomponents:p.charCodeAt(C+9)};break}h=256*p.charCodeAt(C+2)+p.charCodeAt(C+3)}return _}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:i,alias:r}}return d}}(ft.API);var Zs,zf,Fy,Uy,By,GL=function(){var e,t,n;function i(a){var o,s,l,u,d,p,g,h,S,_,C,v,w,A;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),S=(function(){var R,k;for(k=[],R=0;R<4;++R)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,p.delay=1e3*d/u,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,o-=4),a=(p!=null?p.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((_=l-this.transparency.indexed.length)>0)for(w=0;0<=_?w<_:w>_;0<=_?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(C=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,C.slice(0,g)),this.text[h]=String.fromCharCode.apply(String,C.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function d(p,g,h,S){var _,C,v,w,A,R,k,X,U,q,B,W,D,N,H,T,re,te,ne,se,ae,ge=Math.ceil((u.width-p)/h),ce=Math.ceil((u.height-g)/S),I=u.width==ge&&u.height==ce;for(N=o*ge,W=I?s:new Uint8Array(N*ce),R=a.length,D=0,C=0;D<ce&&l<R;){switch(a[l++]){case 0:for(w=re=0;re<N;w=re+=1)W[C++]=a[l++];break;case 1:for(w=te=0;te<N;w=te+=1)_=a[l++],A=w<o?0:W[C-o],W[C++]=(_+A)%256;break;case 2:for(w=ne=0;ne<N;w=ne+=1)_=a[l++],v=(w-w%o)/o,H=D&&W[(D-1)*N+v*o+w%o],W[C++]=(H+_)%256;break;case 3:for(w=se=0;se<N;w=se+=1)_=a[l++],v=(w-w%o)/o,A=w<o?0:W[C-o],H=D&&W[(D-1)*N+v*o+w%o],W[C++]=(_+Math.floor((A+H)/2))%256;break;case 4:for(w=ae=0;ae<N;w=ae+=1)_=a[l++],v=(w-w%o)/o,A=w<o?0:W[C-o],D===0?H=T=0:(H=W[(D-1)*N+v*o+w%o],T=v&&W[(D-1)*N+(v-1)*o+w%o]),k=A+H-T,X=Math.abs(k-A),q=Math.abs(k-H),B=Math.abs(k-T),U=X<=q&&X<=B?A:q<=B?H:T,W[C++]=(_+U)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!I){var Y=((g+D*S)*u.width+p)*o,K=D*N;for(w=0;w<ge;w+=1){for(var Z=0;Z<o;Z+=1)s[Y++]=W[K++];Y+=(h-1)*o}}D++}}return a=wL(a),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),s},i.prototype.decodePalette=function(){var a,o,s,l,u,d,p,g,h;for(s=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+s.length),l=0,a=0,o=p=0,g=s.length;p<g;o=p+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(h=d[a++])!=null?h:255;return u},i.prototype.copyToImageData=function(a,o){var s,l,u,d,p,g,h,S,_,C,v;if(l=this.colors,_=null,s=this.hasAlphaChannel,this.palette.length&&(_=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,s=!0),S=(u=a.data||a).length,p=_||o,d=g=0,l===1)for(;d<S;)h=_?4*o[d/4]:g,C=p[h++],u[d++]=C,u[d++]=C,u[d++]=C,u[d++]=s?p[h++]:255,g=h;else for(;d<S;)h=_?4*o[d/4]:g,u[d++]=p[h++],u[d++]=p[h++],u[d++]=p[h++],u[d++]=s?p[h++]:255,g=h},i.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var r=function(){if(Object.prototype.toString.call(ht)==="[object Window]"){try{t=ht.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),e=function(a){var o;if(r()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(a){var o,s,l,u,d,p,g,h;if(this.animation){for(h=[],s=d=0,p=(g=this.animation.frames).length;d<p;s=++d)o=g[s],l=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,h.push(o.image=e(l));return h}},i.prototype.renderFrame=function(a,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},i.prototype.animate=function(a){var o,s,l,u,d,p,g=this;return s=0,p=this.animation,u=p.numFrames,l=p.frames,d=p.numPlays,(o=function(){var h,S;if(h=s++%u,S=l[h],g.renderFrame(a,h),u>1&&s/u<d)return g.animation._timeout=setTimeout(o,S.delay)})()},i.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},i.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function HL(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,r=e[t++],a=r>>7,o=1<<(7&r)+1;e[t++],e[t++];var s=null,l=null;a&&(s=t,l=o,t+=3*o);var u=!0,d=[],p=0,g=null,h=0,S=null;for(this.width=n,this.height=i;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,S=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var _=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],!(1&_)&&(g=null),h=_>>2&7,t++;break;case 254:for(;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var C=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,R=e[t++],k=R>>6&1,X=1<<(7&R)+1,U=s,q=l,B=!1;R>>7&&(B=!0,U=t,q=X,t+=3*X);var W=t;for(t++;;){var D;if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}d.push({x:C,y:v,width:w,height:A,has_local_palette:B,palette_offset:U,palette_size:q,data_offset:W,data_length:t-W,transparent_index:g,interlaced:!!k,delay:p,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return S},this.frameInfo=function(N){if(N<0||N>=d.length)throw new Error("Frame index out of range.");return d[N]},this.decodeAndBlitFrameBGRA=function(N,H){var T=this.frameInfo(N),re=T.width*T.height,te=new Uint8Array(re);Oy(e,T.data_offset,te,re);var ne=T.palette_offset,se=T.transparent_index;se===null&&(se=256);var ae=T.width,ge=n-ae,ce=ae,I=4*(T.y*n+T.x),Y=4*((T.y+T.height)*n+T.x),K=I,Z=4*ge;T.interlaced===!0&&(Z+=4*n*7);for(var le=8,_e=0,ye=te.length;_e<ye;++_e){var pe=te[_e];if(ce===0&&(ce=ae,(K+=Z)>=Y&&(Z=4*ge+4*n*(le-1),K=I+(ae+ge)*(le<<1),le>>=1)),pe===se)K+=4;else{var Ie=e[ne+3*pe],Le=e[ne+3*pe+1],He=e[ne+3*pe+2];H[K++]=He,H[K++]=Le,H[K++]=Ie,H[K++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(N,H){var T=this.frameInfo(N),re=T.width*T.height,te=new Uint8Array(re);Oy(e,T.data_offset,te,re);var ne=T.palette_offset,se=T.transparent_index;se===null&&(se=256);var ae=T.width,ge=n-ae,ce=ae,I=4*(T.y*n+T.x),Y=4*((T.y+T.height)*n+T.x),K=I,Z=4*ge;T.interlaced===!0&&(Z+=4*n*7);for(var le=8,_e=0,ye=te.length;_e<ye;++_e){var pe=te[_e];if(ce===0&&(ce=ae,(K+=Z)>=Y&&(Z=4*ge+4*n*(le-1),K=I+(ae+ge)*(le<<1),le>>=1)),pe===se)K+=4;else{var Ie=e[ne+3*pe],Le=e[ne+3*pe+1],He=e[ne+3*pe+2];H[K++]=Ie,H[K++]=Le,H[K++]=He,H[K++]=255}--ce}}}function Oy(e,t,n,i){for(var r=e[t++],a=1<<r,o=a+1,s=o+1,l=r+1,u=(1<<l)-1,d=0,p=0,g=0,h=e[t++],S=new Int32Array(4096),_=null;;){for(;d<16&&h!==0;)p|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<l)break;var C=p&u;if(p>>=l,d-=l,C!==a){if(C===o)break;for(var v=C<s?C:_,w=0,A=v;A>a;)A=S[A]>>8,++w;var R=A;if(g+w+(v!==C?1:0)>i)return void rn.log("Warning, gif stream longer than expected.");n[g++]=R;var k=g+=w;for(v!==C&&(n[g++]=R),A=v;w--;)A=S[A],n[--k]=255&A,A>>=8;_!==null&&s<4096&&(S[s++]=_<<8|R,s>=u+1&&l<12&&(++l,u=u<<1|1)),_=C}else s=o+1,u=(1<<(l=r+1))-1,_=null}return g!==i&&rn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Kp(e){var t,n,i,r,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),p=new Array(65535),g=new Array(65535),h=new Array(64),S=new Array(64),_=[],C=0,v=7,w=new Array(64),A=new Array(64),R=new Array(64),k=new Array(256),X=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(I,Y){for(var K=0,Z=0,le=new Array,_e=1;_e<=16;_e++){for(var ye=1;ye<=I[_e];ye++)le[Y[Z]]=[],le[Y[Z]][0]=K,le[Y[Z]][1]=_e,Z++,K++;K*=2}return le}function ne(I){for(var Y=I[0],K=I[1]-1;K>=0;)Y&1<<K&&(C|=1<<v),K--,--v<0&&(C==255?(se(255),se(0)):se(C),v=7,C=0)}function se(I){_.push(I)}function ae(I){se(I>>8&255),se(255&I)}function ge(I,Y,K,Z,le){for(var _e,ye=le[0],pe=le[240],Ie=function(Q,me){var be,ue,Ce,Re,Ee,qe,Qe,$e,Ye,st,Ve=0;for(Ye=0;Ye<8;++Ye){be=Q[Ve],ue=Q[Ve+1],Ce=Q[Ve+2],Re=Q[Ve+3],Ee=Q[Ve+4],qe=Q[Ve+5],Qe=Q[Ve+6];var Yt=be+($e=Q[Ve+7]),et=be-$e,vn=ue+Qe,yt=ue-Qe,Nt=Ce+qe,Mn=Ce-qe,vt=Re+Ee,Ci=Re-Ee,Jt=Yt+vt,jn=Yt-vt,zn=vn+Nt,zt=vn-Nt;Q[Ve]=Jt+zn,Q[Ve+4]=Jt-zn;var pt=.707106781*(zt+jn);Q[Ve+2]=jn+pt,Q[Ve+6]=jn-pt;var Ut=.382683433*((Jt=Ci+Mn)-(zt=yt+et)),Tr=.5411961*Jt+Ut,bn=1.306562965*zt+Ut,mi=.707106781*(zn=Mn+yt),Ti=et+mi,ke=et-mi;Q[Ve+5]=ke+Tr,Q[Ve+3]=ke-Tr,Q[Ve+1]=Ti+bn,Q[Ve+7]=Ti-bn,Ve+=8}for(Ve=0,Ye=0;Ye<8;++Ye){be=Q[Ve],ue=Q[Ve+8],Ce=Q[Ve+16],Re=Q[Ve+24],Ee=Q[Ve+32],qe=Q[Ve+40],Qe=Q[Ve+48];var ct=be+($e=Q[Ve+56]),Rt=be-$e,je=ue+Qe,Ct=ue-Qe,Lt=Ce+qe,It=Ce-qe,Ba=Re+Ee,Er=Re-Ee,Hi=ct+Ba,Vi=ct-Ba,ji=je+Lt,Ei=je-Lt;Q[Ve]=Hi+ji,Q[Ve+32]=Hi-ji;var un=.707106781*(Ei+Vi);Q[Ve+16]=Vi+un,Q[Ve+48]=Vi-un;var gi=.382683433*((Hi=Er+It)-(Ei=Ct+Rt)),ra=.5411961*Hi+gi,Oa=1.306562965*Ei+gi,Nr=.707106781*(ji=It+Ct),za=Rt+Nr,qa=Rt-Nr;Q[Ve+40]=qa+ra,Q[Ve+24]=qa-ra,Q[Ve+8]=za+Oa,Q[Ve+56]=za-Oa,Ve++}for(Ye=0;Ye<64;++Ye)st=Q[Ye]*me[Ye],h[Ye]=st>0?st+.5|0:st-.5|0;return h}(I,Y),Le=0;Le<64;++Le)S[U[Le]]=Ie[Le];var He=S[0]-K;K=S[0],He==0?ne(Z[0]):(ne(Z[g[_e=32767+He]]),ne(p[_e]));for(var Ge=63;Ge>0&&S[Ge]==0;)Ge--;if(Ge==0)return ne(ye),K;for(var M,oe=1;oe<=Ge;){for(var O=oe;S[oe]==0&&oe<=Ge;)++oe;var $=oe-O;if($>=16){M=$>>4;for(var j=1;j<=M;++j)ne(pe);$&=15}_e=32767+S[oe],ne(le[($<<4)+g[_e]]),ne(p[_e]),oe++}return Ge!=63&&ne(ye),K}function ce(I){I=Math.min(Math.max(I,1),100),a!=I&&(function(Y){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var le=o((K[Z]*Y+50)/100);le=Math.min(Math.max(le,1),255),s[U[Z]]=le}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var pe=o((_e[ye]*Y+50)/100);pe=Math.min(Math.max(pe,1),255),l[U[ye]]=pe}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,He=0;He<8;He++)for(var Ge=0;Ge<8;Ge++)u[Le]=1/(s[U[Le]]*Ie[He]*Ie[Ge]*8),d[Le]=1/(l[U[Le]]*Ie[He]*Ie[Ge]*8),Le++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),a=I)}this.encode=function(I,Y){Y&&ce(Y),_=new Array,C=0,v=7,ae(65496),ae(65504),ae(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),ae(1),ae(1),se(0),se(0),function(){ae(65499),ae(132),se(0);for(var ue=0;ue<64;ue++)se(s[ue]);se(1);for(var Ce=0;Ce<64;Ce++)se(l[Ce])}(),function(ue,Ce){ae(65472),ae(17),se(8),ae(Ce),ae(ue),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)}(I.width,I.height),function(){ae(65476),ae(418),se(0);for(var ue=0;ue<16;ue++)se(q[ue+1]);for(var Ce=0;Ce<=11;Ce++)se(B[Ce]);se(16);for(var Re=0;Re<16;Re++)se(W[Re+1]);for(var Ee=0;Ee<=161;Ee++)se(D[Ee]);se(1);for(var qe=0;qe<16;qe++)se(N[qe+1]);for(var Qe=0;Qe<=11;Qe++)se(H[Qe]);se(17);for(var $e=0;$e<16;$e++)se(T[$e+1]);for(var Ye=0;Ye<=161;Ye++)se(re[Ye])}(),ae(65498),ae(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var K=0,Z=0,le=0;C=0,v=7,this.encode.displayName="_encode_";for(var _e,ye,pe,Ie,Le,He,Ge,M,oe,O=I.data,$=I.width,j=I.height,Q=4*$,me=0;me<j;){for(_e=0;_e<Q;){for(Le=Q*me+_e,Ge=-1,M=0,oe=0;oe<64;oe++)He=Le+(M=oe>>3)*Q+(Ge=4*(7&oe)),me+M>=j&&(He-=Q*(me+1+M-j)),_e+Ge>=Q&&(He-=_e+Ge-Q+4),ye=O[He++],pe=O[He++],Ie=O[He++],w[oe]=(X[ye]+X[pe+256>>0]+X[Ie+512>>0]>>16)-128,A[oe]=(X[ye+768>>0]+X[pe+1024>>0]+X[Ie+1280>>0]>>16)-128,R[oe]=(X[ye+1280>>0]+X[pe+1536>>0]+X[Ie+1792>>0]>>16)-128;K=ge(w,u,K,t,i),Z=ge(A,d,Z,n,r),le=ge(R,d,le,n,r),_e+=32}me+=8}if(v>=0){var be=[];be[1]=v+1,be[0]=(1<<v+1)-1,ne(be)}return ae(65497),new Uint8Array(_)},e=e||50,function(){for(var I=String.fromCharCode,Y=0;Y<256;Y++)k[Y]=I(Y)}(),t=te(q,B),n=te(N,H),i=te(W,D),r=te(T,re),function(){for(var I=1,Y=2,K=1;K<=15;K++){for(var Z=I;Z<Y;Z++)g[32767+Z]=K,p[32767+Z]=[],p[32767+Z][1]=K,p[32767+Z][0]=Z;for(var le=-(Y-1);le<=-I;le++)g[32767+le]=K,p[32767+le]=[],p[32767+le][1]=K,p[32767+le][0]=Y-1+le;I<<=1,Y<<=1}}(),function(){for(var I=0;I<256;I++)X[I]=19595*I,X[I+256>>0]=38470*I,X[I+512>>0]=7471*I+32768,X[I+768>>0]=-11059*I,X[I+1024>>0]=-21709*I,X[I+1280>>0]=32768*I+8421375,X[I+1536>>0]=-27439*I,X[I+1792>>0]=-5329*I}(),ce(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fr(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zy(e){function t(q){if(!q)throw Error("assert :P")}function n(q,B,W){for(var D=0;4>D;D++)if(q[B+D]!=W.charCodeAt(D))return!0;return!1}function i(q,B,W,D,N){for(var H=0;H<N;H++)q[B+H]=W[D+H]}function r(q,B,W,D){for(var N=0;N<D;N++)q[B+N]=W}function a(q){return new Int32Array(q)}function o(q,B){for(var W=[],D=0;D<q;D++)W.push(new B);return W}function s(q,B){var W=[];return function D(N,H,T){for(var re=T[H],te=0;te<re&&(N.push(T.length>H+1?[]:new B),!(T.length<H+1));te++)D(N[te],H+1,T)}(W,0,q),W}var l=function(){var q=this;function B(f,y){for(var x=1<<y-1>>>0;f&x;)x>>>=1;return x?(f&x-1)+x:f}function W(f,y,x,L,P){t(!(L%x));do f[y+(L-=x)]=P;while(0<L)}function D(f,y,x,L,P){if(t(2328>=P),512>=P)var z=a(512);else if((z=a(P))==null)return 0;return function(G,V,J,ee,de,Se){var Ae,we,Ue=V,Te=1<<J,he=a(16),ve=a(16);for(t(de!=0),t(ee!=null),t(G!=null),t(0<J),we=0;we<de;++we){if(15<ee[we])return 0;++he[ee[we]]}if(he[0]==de)return 0;for(ve[1]=0,Ae=1;15>Ae;++Ae){if(he[Ae]>1<<Ae)return 0;ve[Ae+1]=ve[Ae]+he[Ae]}for(we=0;we<de;++we)Ae=ee[we],0<ee[we]&&(Se[ve[Ae]++]=we);if(ve[15]==1)return(ee=new N).g=0,ee.value=Se[0],W(G,Ue,1,Te,ee),Te;var Me,Be=-1,Pe=Te-1,Ze=0,Je=1,ot=1,Ke=1<<J;for(we=0,Ae=1,de=2;Ae<=J;++Ae,de<<=1){if(Je+=ot<<=1,0>(ot-=he[Ae]))return 0;for(;0<he[Ae];--he[Ae])(ee=new N).g=Ae,ee.value=Se[we++],W(G,Ue+Ze,de,Ke,ee),Ze=B(Ze,Ae)}for(Ae=J+1,de=2;15>=Ae;++Ae,de<<=1){if(Je+=ot<<=1,0>(ot-=he[Ae]))return 0;for(;0<he[Ae];--he[Ae]){if(ee=new N,(Ze&Pe)!=Be){for(Ue+=Ke,Me=1<<(Be=Ae)-J;15>Be&&!(0>=(Me-=he[Be]));)++Be,Me<<=1;Te+=Ke=1<<(Me=Be-J),G[V+(Be=Ze&Pe)].g=Me+J,G[V+Be].value=Ue-V-Be}ee.g=Ae-J,ee.value=Se[we++],W(G,Ue+(Ze>>J),de,Ke,ee),Ze=B(Ze,Ae)}}return Je!=2*ve[15]-1?0:Te}(f,y,x,L,P,z)}function N(){this.value=this.g=0}function H(){this.value=this.g=0}function T(){this.G=o(5,N),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Qn,H)}function re(f,y,x,L){t(f!=null),t(y!=null),t(2147483648>L),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=y,f.pa=x,f.Jd=y,f.Yc=x+L,f.Zc=4<=L?x+L-4+1:x,_e(f)}function te(f,y){for(var x=0;0<y--;)x|=pe(f,128)<<y;return x}function ne(f,y){var x=te(f,y);return ye(f)?-x:x}function se(f,y,x,L){var P,z=0;for(t(f!=null),t(y!=null),t(4294967288>L),f.Sb=L,f.Ra=0,f.u=0,f.h=0,4<L&&(L=4),P=0;P<L;++P)z+=y[x+P]<<8*P;f.Ra=z,f.bb=L,f.oa=y,f.pa=x}function ae(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Fs-8>>>0,++f.bb,f.u-=8;K(f)&&(f.h=1,f.u=0)}function ge(f,y){if(t(0<=y),!f.h&&y<=Ps){var x=Y(f)&Ds[y];return f.u+=y,ae(f),x}return f.h=1,f.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(f){return f.Ra>>>(f.u&Fs-1)>>>0}function K(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Fs}function Z(f,y){f.u=y,f.h=K(f)}function le(f){f.u>=gu&&(t(f.u>=gu),ae(f))}function _e(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ye(f){return te(f,1)}function pe(f,y){var x=f.Ca;0>f.b&&_e(f);var L=f.b,P=x*y>>>8,z=(f.I>>>L>P)+0;for(z?(x-=P,f.I-=P+1<<L>>>0):x=P+1,L=x,P=0;256<=L;)P+=8,L>>=8;return L=7^P+Li[L],f.b-=L,f.Ca=(x<<L)-1,z}function Ie(f,y,x){f[y+0]=x>>24&255,f[y+1]=x>>16&255,f[y+2]=x>>8&255,f[y+3]=x>>0&255}function Le(f,y){return f[y+0]<<0|f[y+1]<<8}function He(f,y){return Le(f,y)|f[y+2]<<16}function Ge(f,y){return Le(f,y)|Le(f,y+2)<<16}function M(f,y){var x=1<<y;return t(f!=null),t(0<y),f.X=a(x),f.X==null?0:(f.Mb=32-y,f.Xa=y,1)}function oe(f,y){t(f!=null),t(y!=null),t(f.Xa==y.Xa),i(y.X,0,f.X,0,1<<y.Xa)}function O(){this.X=[],this.Xa=this.Mb=0}function $(f,y,x,L){t(x!=null),t(L!=null);var P=x[0],z=L[0];return P==0&&(P=(f*z+y/2)/y),z==0&&(z=(y*P+f/2)/f),0>=P||0>=z?0:(x[0]=P,L[0]=z,1)}function j(f,y){return f+(1<<y)-1>>>y}function Q(f,y){return((4278255360&f)+(4278255360&y)>>>0&4278255360)+((16711935&f)+(16711935&y)>>>0&16711935)>>>0}function me(f,y){q[y]=function(x,L,P,z,G,V,J){var ee;for(ee=0;ee<G;++ee){var de=q[f](V[J+ee-1],P,z+ee);V[J+ee]=Q(x[L+ee],de)}}}function be(){this.ud=this.hd=this.jd=0}function ue(f,y){return((4278124286&(f^y))>>>1)+(f&y)>>>0}function Ce(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Re(f,y){return Ce(f+(f-y+.5>>1))}function Ee(f,y,x){return Math.abs(y-x)-Math.abs(f-x)}function qe(f,y,x,L,P,z,G){for(L=z[G-1],x=0;x<P;++x)z[G+x]=L=Q(f[y+x],L)}function Qe(f,y,x,L,P){var z;for(z=0;z<x;++z){var G=f[y+z],V=G>>8&255,J=16711935&(J=(J=16711935&G)+((V<<16)+V));L[P+z]=(4278255360&G)+J>>>0}}function $e(f,y){y.jd=f>>0&255,y.hd=f>>8&255,y.ud=f>>16&255}function Ye(f,y,x,L,P,z){var G;for(G=0;G<L;++G){var V=y[x+G],J=V>>>8,ee=V,de=255&(de=(de=V>>>16)+((f.jd<<24>>24)*(J<<24>>24)>>>5));ee=255&(ee=(ee=ee+((f.hd<<24>>24)*(J<<24>>24)>>>5))+((f.ud<<24>>24)*(de<<24>>24)>>>5)),P[z+G]=(4278255360&V)+(de<<16)+ee}}function st(f,y,x,L,P){q[y]=function(z,G,V,J,ee,de,Se,Ae,we){for(J=Se;J<Ae;++J)for(Se=0;Se<we;++Se)ee[de++]=P(V[L(z[G++])])},q[f]=function(z,G,V,J,ee,de,Se){var Ae=8>>z.b,we=z.Ea,Ue=z.K[0],Te=z.w;if(8>Ae)for(z=(1<<z.b)-1,Te=(1<<Ae)-1;G<V;++G){var he,ve=0;for(he=0;he<we;++he)he&z||(ve=L(J[ee++])),de[Se++]=P(Ue[ve&Te]),ve>>=Ae}else q["VP8LMapColor"+x](J,ee,Ue,Te,de,Se,G,V,we)}}function Ve(f,y,x,L,P){for(x=y+x;y<x;){var z=f[y++];L[P++]=z>>16&255,L[P++]=z>>8&255,L[P++]=z>>0&255}}function Yt(f,y,x,L,P){for(x=y+x;y<x;){var z=f[y++];L[P++]=z>>16&255,L[P++]=z>>8&255,L[P++]=z>>0&255,L[P++]=z>>24&255}}function et(f,y,x,L,P){for(x=y+x;y<x;){var z=(G=f[y++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;L[P++]=z,L[P++]=G}}function vn(f,y,x,L,P){for(x=y+x;y<x;){var z=(G=f[y++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;L[P++]=z,L[P++]=G}}function yt(f,y,x,L,P){for(x=y+x;y<x;){var z=f[y++];L[P++]=z>>0&255,L[P++]=z>>8&255,L[P++]=z>>16&255}}function Nt(f,y,x,L,P,z){if(z==0)for(x=y+x;y<x;)Ie(L,((z=f[y++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),P+=32;else i(L,P,f,y,x)}function Mn(f,y){q[y][0]=q[f+"0"],q[y][1]=q[f+"1"],q[y][2]=q[f+"2"],q[y][3]=q[f+"3"],q[y][4]=q[f+"4"],q[y][5]=q[f+"5"],q[y][6]=q[f+"6"],q[y][7]=q[f+"7"],q[y][8]=q[f+"8"],q[y][9]=q[f+"9"],q[y][10]=q[f+"10"],q[y][11]=q[f+"11"],q[y][12]=q[f+"12"],q[y][13]=q[f+"13"],q[y][14]=q[f+"0"],q[y][15]=q[f+"0"]}function vt(f){return f==zh||f==qh||f==rf||f==Gh}function Ci(){this.eb=[],this.size=this.A=this.fb=0}function Jt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ci,this.f.kb=new Jt,this.sd=null}function zn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Ut(f,y){var x=f.T,L=y.ba.f.RGBA,P=L.eb,z=L.fb+f.ka*L.A,G=hr[y.ba.S],V=f.y,J=f.O,ee=f.f,de=f.N,Se=f.ea,Ae=f.W,we=y.cc,Ue=y.dc,Te=y.Mc,he=y.Nc,ve=f.ka,Me=f.ka+f.T,Be=f.U,Pe=Be+1>>1;for(ve==0?G(V,J,null,null,ee,de,Se,Ae,ee,de,Se,Ae,P,z,null,null,Be):(G(y.ec,y.fc,V,J,we,Ue,Te,he,ee,de,Se,Ae,P,z-L.A,P,z,Be),++x);ve+2<Me;ve+=2)we=ee,Ue=de,Te=Se,he=Ae,de+=f.Rc,Ae+=f.Rc,z+=2*L.A,G(V,(J+=2*f.fa)-f.fa,V,J,we,Ue,Te,he,ee,de,Se,Ae,P,z-L.A,P,z,Be);return J+=f.fa,f.j+Me<f.o?(i(y.ec,y.fc,V,J,Be),i(y.cc,y.dc,ee,de,Pe),i(y.Mc,y.Nc,Se,Ae,Pe),x--):1&Me||G(V,J,null,null,ee,de,Se,Ae,ee,de,Se,Ae,P,z+L.A,null,null,Be),x}function Tr(f,y,x){var L=f.F,P=[f.J];if(L!=null){var z=f.U,G=y.ba.S,V=G==nf||G==rf;y=y.ba.f.RGBA;var J=[0],ee=f.ka;J[0]=f.T,f.Kb&&(ee==0?--J[0]:(--ee,P[0]-=f.width),f.j+f.ka+f.T==f.o&&(J[0]=f.o-f.j-ee));var de=y.eb;ee=y.fb+ee*y.A,f=sn(L,P[0],f.width,z,J,de,ee+(V?0:3),y.A),t(x==J),f&&vt(G)&&fr(de,ee,V,z,J,y.A)}return 0}function bn(f){var y=f.ma,x=y.ba.S,L=11>x,P=x==ef||x==tf||x==nf||x==Oh||x==12||vt(x);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!pu(y.Oa,f,P?11:12))return 0;if(P&&vt(x)&&ze(),f.da)alert("todo:use_scaling");else{if(L){if(y.Ib=pt,f.Kb){if(x=f.U+1>>1,y.memory=a(f.U+2*x),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+f.U,y.Mc=y.cc,y.Nc=y.dc+x,y.Ib=Ut,ze()}}else alert("todo:EmitYUV");P&&(y.Jb=Tr,L&&xe())}if(L&&!V0){for(f=0;256>f;++f)Cx[f]=89858*(f-128)+of>>af,Nx[f]=-22014*(f-128)+of,Ex[f]=-45773*(f-128),Tx[f]=113618*(f-128)+of>>af;for(f=Su;f<jh;++f)y=76283*(f-16)+of>>af,Lx[f-Su]=Yi(y,255),Ix[f-Su]=Yi(y+8>>4,15);V0=1}return 1}function mi(f){var y=f.ma,x=f.U,L=f.T;return t(!(1&f.ka)),0>=x||0>=L?0:(x=y.Ib(f,y),y.Jb!=null&&y.Jb(f,y,x),y.Dc+=x,1)}function Ti(f){f.ma.memory=null}function ke(f,y,x,L){return ge(f,8)!=47?0:(y[0]=ge(f,14)+1,x[0]=ge(f,14)+1,L[0]=ge(f,1),ge(f,3)!=0?0:!f.h)}function ct(f,y){if(4>f)return f+1;var x=f-2>>1;return(2+(1&f)<<x)+ge(y,x)+1}function Rt(f,y){return 120<y?y-120:1<=(x=((x=fx[y-1])>>4)*f+(8-(15&x)))?x:1;var x}function je(f,y,x){var L=Y(x),P=f[y+=255&L].g-8;return 0<P&&(Z(x,x.u+8),L=Y(x),y+=f[y].value,y+=L&(1<<P)-1),Z(x,x.u+f[y].g),f[y].value}function Ct(f,y,x){return x.g+=f.g,x.value+=f.value<<y>>>0,t(8>=x.g),f.g}function Lt(f,y,x){var L=f.xc;return t((y=L==0?0:f.vc[f.md*(x>>L)+(y>>L)])<f.Wb),f.Ya[y]}function It(f,y,x,L){var P=f.ab,z=f.c*y,G=f.C;y=G+y;var V=x,J=L;for(L=f.Ta,x=f.Ua;0<P--;){var ee=f.gc[P],de=G,Se=y,Ae=V,we=J,Ue=(J=L,V=x,ee.Ea);switch(t(de<Se),t(Se<=ee.nc),ee.hc){case 2:Jc(Ae,we,(Se-de)*Ue,J,V);break;case 0:var Te=de,he=Se,ve=J,Me=V,Be=(Ke=ee).Ea;Te==0&&(Uh(Ae,we,null,null,1,ve,Me),qe(Ae,we+1,0,0,Be-1,ve,Me+1),we+=Be,Me+=Be,++Te);for(var Pe=1<<Ke.b,Ze=Pe-1,Je=j(Be,Ke.b),ot=Ke.K,Ke=Ke.w+(Te>>Ke.b)*Je;Te<he;){var Ht=ot,Kt=Ke,qt=1;for(yu(Ae,we,ve,Me-Be,1,ve,Me);qt<Be;){var Dt=(qt&~Ze)+Pe;Dt>Be&&(Dt=Be),(0,Ka[Ht[Kt++]>>8&15])(Ae,we+ +qt,ve,Me+qt-Be,Dt-qt,ve,Me+qt),qt=Dt}we+=Be,Me+=Be,++Te&Ze||(Ke+=Je)}Se!=ee.nc&&i(J,V-Ue,J,V+(Se-de-1)*Ue,Ue);break;case 1:for(Ue=Ae,he=we,Be=(Ae=ee.Ea)-(Me=Ae&~(ve=(we=1<<ee.b)-1)),Te=j(Ae,ee.b),Pe=ee.K,ee=ee.w+(de>>ee.b)*Te;de<Se;){for(Ze=Pe,Je=ee,ot=new be,Ke=he+Me,Ht=he+Ae;he<Ke;)$e(Ze[Je++],ot),jo(ot,Ue,he,we,J,V),he+=we,V+=we;he<Ht&&($e(Ze[Je++],ot),jo(ot,Ue,he,Be,J,V),he+=Be,V+=Be),++de&ve||(ee+=Te)}break;case 3:if(Ae==J&&we==V&&0<ee.b){for(he=J,Ae=Ue=V+(Se-de)*Ue-(Me=(Se-de)*j(ee.Ea,ee.b)),we=J,ve=V,Te=[],Me=(Be=Me)-1;0<=Me;--Me)Te[Me]=we[ve+Me];for(Me=Be-1;0<=Me;--Me)he[Ae+Me]=Te[Me];lr(ee,de,Se,J,Ue,J,V)}else lr(ee,de,Se,Ae,we,J,V)}V=L,J=x}J!=x&&i(L,x,V,J,z)}function Ba(f,y){var x=f.V,L=f.Ba+f.c*f.C,P=y-f.C;if(t(y<=f.l.o),t(16>=P),0<P){var z=f.l,G=f.Ta,V=f.Ua,J=z.width;if(It(f,P,x,L),P=V=[V],t((x=f.C)<(L=y)),t(z.v<z.va),L>z.o&&(L=z.o),x<z.j){var ee=z.j-x;x=z.j,P[0]+=ee*J}if(x>=L?x=0:(P[0]+=4*z.v,z.ka=x-z.j,z.U=z.va-z.v,z.T=L-x,x=1),x){if(V=V[0],11>(x=f.ca).S){var de=x.f.RGBA,Se=(L=x.S,P=z.U,z=z.T,ee=de.eb,de.A),Ae=z;for(de=de.fb+f.Ma*de.A;0<Ae--;){var we=G,Ue=V,Te=P,he=ee,ve=de;switch(L){case Qc:Ii(we,Ue,Te,he,ve);break;case ef:bi(we,Ue,Te,he,ve);break;case zh:bi(we,Ue,Te,he,ve),fr(he,ve,0,Te,1,0);break;case P0:ua(we,Ue,Te,he,ve);break;case tf:Nt(we,Ue,Te,he,ve,1);break;case qh:Nt(we,Ue,Te,he,ve,1),fr(he,ve,0,Te,1,0);break;case nf:Nt(we,Ue,Te,he,ve,0);break;case rf:Nt(we,Ue,Te,he,ve,0),fr(he,ve,1,Te,1,0);break;case Oh:Wa(we,Ue,Te,he,ve);break;case Gh:Wa(we,Ue,Te,he,ve),on(he,ve,Te,1,0);break;case F0:la(we,Ue,Te,he,ve);break;default:t(0)}V+=J,de+=Se}f.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=x.height)}}f.C=y,t(f.C<=f.i)}function Er(f){var y;if(0<f.ua)return 0;for(y=0;y<f.Wb;++y){var x=f.Ya[y].G,L=f.Ya[y].H;if(0<x[1][L[1]+0].g||0<x[2][L[2]+0].g||0<x[3][L[3]+0].g)return 0}return 1}function Hi(f,y,x,L,P,z){if(f.Z!=0){var G=f.qd,V=f.rd;for(t(Qa[f.Z]!=null);y<x;++y)Qa[f.Z](G,V,L,P,L,P,z),G=L,V=P,P+=z;f.qd=G,f.rd=V}}function Vi(f,y){var x=f.l.ma,L=x.Z==0||x.Z==1?f.l.j:f.C;if(L=f.C<L?L:f.C,t(y<=f.l.o),y>L){var P=f.l.width,z=x.ca,G=x.tb+P*L,V=f.V,J=f.Ba+f.c*L,ee=f.gc;t(f.ab==1),t(ee[0].hc==3),Kc(ee[0],L,y,V,J,z,G),Hi(x,L,y,z,G,P)}f.C=f.Ma=y}function ji(f,y,x,L,P,z,G){var V=f.$/L,J=f.$%L,ee=f.m,de=f.s,Se=x+f.$,Ae=Se;P=x+L*P;var we=x+L*z,Ue=280+de.ua,Te=f.Pb?V:16777216,he=0<de.ua?de.Wa:null,ve=de.wc,Me=Se<we?Lt(de,J,V):null;t(f.C<z),t(we<=P);var Be=!1;e:for(;;){for(;Be||Se<we;){var Pe=0;if(V>=Te){var Ze=Se-x;t((Te=f).Pb),Te.wd=Te.m,Te.xd=Ze,0<Te.s.ua&&oe(Te.s.Wa,Te.s.vb),Te=V+hx}if(J&ve||(Me=Lt(de,J,V)),t(Me!=null),Me.Qb&&(y[Se]=Me.qb,Be=!0),!Be)if(le(ee),Me.jc){Pe=ee,Ze=y;var Je=Se,ot=Me.pd[Y(Pe)&Qn-1];t(Me.jc),256>ot.g?(Z(Pe,Pe.u+ot.g),Ze[Je]=ot.value,Pe=0):(Z(Pe,Pe.u+ot.g-256),t(256<=ot.value),Pe=ot.value),Pe==0&&(Be=!0)}else Pe=je(Me.G[0],Me.H[0],ee);if(ee.h)break;if(Be||256>Pe){if(!Be)if(Me.nd)y[Se]=(Me.qb|Pe<<8)>>>0;else{if(le(ee),Be=je(Me.G[1],Me.H[1],ee),le(ee),Ze=je(Me.G[2],Me.H[2],ee),Je=je(Me.G[3],Me.H[3],ee),ee.h)break;y[Se]=(Je<<24|Be<<16|Pe<<8|Ze)>>>0}if(Be=!1,++Se,++J>=L&&(J=0,++V,G!=null&&V<=z&&!(V%16)&&G(f,V),he!=null))for(;Ae<Se;)Pe=y[Ae++],he.X[(506832829*Pe&4294967295)>>>he.Mb]=Pe}else if(280>Pe){if(Pe=ct(Pe-256,ee),Ze=je(Me.G[4],Me.H[4],ee),le(ee),Ze=Rt(L,Ze=ct(Ze,ee)),ee.h)break;if(Se-x<Ze||P-Se<Pe)break e;for(Je=0;Je<Pe;++Je)y[Se+Je]=y[Se+Je-Ze];for(Se+=Pe,J+=Pe;J>=L;)J-=L,++V,G!=null&&V<=z&&!(V%16)&&G(f,V);if(t(Se<=P),J&ve&&(Me=Lt(de,J,V)),he!=null)for(;Ae<Se;)Pe=y[Ae++],he.X[(506832829*Pe&4294967295)>>>he.Mb]=Pe}else{if(!(Pe<Ue))break e;for(Be=Pe-280,t(he!=null);Ae<Se;)Pe=y[Ae++],he.X[(506832829*Pe&4294967295)>>>he.Mb]=Pe;Pe=Se,t(!(Be>>>(Ze=he).Xa)),y[Pe]=Ze.X[Be],Be=!0}Be||t(ee.h==K(ee))}if(f.Pb&&ee.h&&Se<P)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&oe(f.s.vb,f.s.Wa);else{if(ee.h)break e;G!=null&&G(f,V>z?z:V),f.a=0,f.$=Se-x}return 1}return f.a=3,0}function Ei(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var y=f.Wa;y!=null&&(y.X=null),f.vb=null,t(f!=null)}function un(){var f=new Fh;return f==null?null:(f.a=0,f.xb=O0,Mn("Predictor","VP8LPredictors"),Mn("Predictor","VP8LPredictors_C"),Mn("PredictorAdd","VP8LPredictorsAdd"),Mn("PredictorAdd","VP8LPredictorsAdd_C"),Jc=Qe,jo=Ye,Ii=Ve,bi=Yt,Wa=et,la=vn,ua=yt,q.VP8LMapColor32b=Us,q.VP8LMapColor8b=Wc,f)}function gi(f,y,x,L,P){var z=1,G=[f],V=[y],J=L.m,ee=L.s,de=null,Se=0;e:for(;;){if(x)for(;z&&ge(J,1);){var Ae=G,we=V,Ue=L,Te=1,he=Ue.m,ve=Ue.gc[Ue.ab],Me=ge(he,2);if(Ue.Oc&1<<Me)z=0;else{switch(Ue.Oc|=1<<Me,ve.hc=Me,ve.Ea=Ae[0],ve.nc=we[0],ve.K=[null],++Ue.ab,t(4>=Ue.ab),Me){case 0:case 1:ve.b=ge(he,3)+2,Te=gi(j(ve.Ea,ve.b),j(ve.nc,ve.b),0,Ue,ve.K),ve.K=ve.K[0];break;case 3:var Be,Pe=ge(he,8)+1,Ze=16<Pe?0:4<Pe?1:2<Pe?2:3;if(Ae[0]=j(ve.Ea,Ze),ve.b=Ze,Be=Te=gi(Pe,1,0,Ue,ve.K)){var Je,ot=Pe,Ke=ve,Ht=1<<(8>>Ke.b),Kt=a(Ht);if(Kt==null)Be=0;else{var qt=Ke.K[0],Dt=Ke.w;for(Kt[0]=Ke.K[0][0],Je=1;Je<1*ot;++Je)Kt[Je]=Q(qt[Dt+Je],Kt[Je-1]);for(;Je<4*Ht;++Je)Kt[Je]=0;Ke.K[0]=null,Ke.K[0]=Kt,Be=1}}Te=Be;break;case 2:break;default:t(0)}z=Te}}if(G=G[0],V=V[0],z&&ge(J,1)&&!(z=1<=(Se=ge(J,4))&&11>=Se)){L.a=3;break e}var nn;if(nn=z)t:{var Qt,Tt,Dn,Ri=L,Pn=G,Mi=V,Wt=Se,Ki=x,Wi=Ri.m,Jn=Ri.s,ei=[null],_i=1,pr=0,Jr=dx[Wt];n:for(;;){if(Ki&&ge(Wi,1)){var Kn=ge(Wi,3)+2,ha=j(Pn,Kn),Xo=j(Mi,Kn),Gs=ha*Xo;if(!gi(ha,Xo,0,Ri,ei))break n;for(ei=ei[0],Jn.xc=Kn,Qt=0;Qt<Gs;++Qt){var eo=ei[Qt]>>8&65535;ei[Qt]=eo,eo>=_i&&(_i=eo+1)}}if(Wi.h)break n;for(Tt=0;5>Tt;++Tt){var _n=U0[Tt];!Tt&&0<Wt&&(_n+=1<<Wt),pr<_n&&(pr=_n)}var Yh=o(_i*Jr,N),J0=_i,K0=o(J0,T);if(K0==null)var lf=null;else t(65536>=J0),lf=K0;var Au=a(pr);if(lf==null||Au==null||Yh==null){Ri.a=1;break n}var uf=Yh;for(Qt=Dn=0;Qt<_i;++Qt){var kr=lf[Qt],Hs=kr.G,Vs=kr.H,W0=0,cf=1,X0=0;for(Tt=0;5>Tt;++Tt){_n=U0[Tt],Hs[Tt]=uf,Vs[Tt]=Dn,!Tt&&0<Wt&&(_n+=1<<Wt);r:{var ff,Jh=_n,df=Ri,Cu=Au,kx=uf,Dx=Dn,Kh=0,to=df.m,Px=ge(to,1);if(r(Cu,0,0,Jh),Px){var Fx=ge(to,1)+1,Ux=ge(to,1),Z0=ge(to,Ux==0?1:8);Cu[Z0]=1,Fx==2&&(Cu[Z0=ge(to,8)]=1);var hf=1}else{var $0=a(19),Q0=ge(to,4)+4;if(19<Q0){df.a=3;var pf=0;break r}for(ff=0;ff<Q0;++ff)$0[cx[ff]]=ge(to,3);var Wh=void 0,Tu=void 0,e1=df,Bx=$0,mf=Jh,t1=Cu,Xh=0,no=e1.m,n1=8,i1=o(128,N);i:for(;D(i1,0,7,Bx,19);){if(ge(no,1)){var Ox=2+2*ge(no,3);if((Wh=2+ge(no,Ox))>mf)break i}else Wh=mf;for(Tu=0;Tu<mf&&Wh--;){le(no);var r1=i1[0+(127&Y(no))];Z(no,no.u+r1.g);var js=r1.value;if(16>js)t1[Tu++]=js,js!=0&&(n1=js);else{var zx=js==16,a1=js-16,qx=lx[a1],o1=ge(no,sx[a1])+qx;if(Tu+o1>mf)break i;for(var Gx=zx?n1:0;0<o1--;)t1[Tu++]=Gx}}Xh=1;break i}Xh||(e1.a=3),hf=Xh}(hf=hf&&!to.h)&&(Kh=D(kx,Dx,8,Cu,Jh)),hf&&Kh!=0?pf=Kh:(df.a=3,pf=0)}if(pf==0)break n;if(cf&&ux[Tt]==1&&(cf=uf[Dn].g==0),W0+=uf[Dn].g,Dn+=pf,3>=Tt){var Eu,Zh=Au[0];for(Eu=1;Eu<_n;++Eu)Au[Eu]>Zh&&(Zh=Au[Eu]);X0+=Zh}}if(kr.nd=cf,kr.Qb=0,cf&&(kr.qb=(Hs[3][Vs[3]+0].value<<24|Hs[1][Vs[1]+0].value<<16|Hs[2][Vs[2]+0].value)>>>0,W0==0&&256>Hs[0][Vs[0]+0].value&&(kr.Qb=1,kr.qb+=Hs[0][Vs[0]+0].value<<8)),kr.jc=!kr.Qb&&6>X0,kr.jc){var gf,pa=kr;for(gf=0;gf<Qn;++gf){var io=gf,ro=pa.pd[io],yf=pa.G[0][pa.H[0]+io];256<=yf.value?(ro.g=yf.g+256,ro.value=yf.value):(ro.g=0,ro.value=0,io>>=Ct(yf,8,ro),io>>=Ct(pa.G[1][pa.H[1]+io],16,ro),io>>=Ct(pa.G[2][pa.H[2]+io],0,ro),Ct(pa.G[3][pa.H[3]+io],24,ro))}}}Jn.vc=ei,Jn.Wb=_i,Jn.Ya=lf,Jn.yc=Yh,nn=1;break t}nn=0}if(!(z=nn)){L.a=3;break e}if(0<Se){if(ee.ua=1<<Se,!M(ee.Wa,Se)){L.a=1,z=0;break e}}else ee.ua=0;var $h=L,s1=G,Hx=V,Qh=$h.s,ep=Qh.xc;if($h.c=s1,$h.i=Hx,Qh.md=j(s1,ep),Qh.wc=ep==0?-1:(1<<ep)-1,x){L.xb=wx;break e}if((de=a(G*V))==null){L.a=1,z=0;break e}z=(z=ji(L,de,0,G,V,V,null))&&!J.h;break e}return z?(P!=null?P[0]=de:(t(de==null),t(x)),L.$=0,x||Ei(ee)):Ei(ee),z}function ra(f,y){var x=f.c*f.i,L=x+y+16*y;return t(f.c<=y),f.V=a(L),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+x+y,1)}function Oa(f,y){var x=f.C,L=y-x,P=f.V,z=f.Ba+f.c*x;for(t(y<=f.l.o);0<L;){var G=16<L?16:L,V=f.l.ma,J=f.l.width,ee=J*G,de=V.ca,Se=V.tb+J*x,Ae=f.Ta,we=f.Ua;It(f,G,P,z),Tn(Ae,we,de,Se,ee),Hi(V,x,x+G,de,Se,J),L-=G,P+=G*f.c,x+=G}t(x==y),f.C=f.Ma=y}function Nr(){this.ub=this.yd=this.td=this.Rb=0}function za(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qa(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function zo(){this.Yb=function(){var f=[];return function y(x,L,P){for(var z=P[L],G=0;G<z&&(x.push(P.length>L+1?[]:0),!(P.length<L+1));G++)y(x[G],L+1,P)}(f,0,[3,11]),f}()}function Ss(){this.jb=a(3),this.Wc=s([4,8],zo),this.Xc=s([4,17],zo)}function Oe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function rt(){this.ld=this.La=this.dd=this.tc=0}function tt(){this.Na=this.la=0}function lt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function dt(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bt(){this.uc=this.M=this.Nb=0,this.wa=Array(new rt),this.Y=0,this.ya=Array(new dt),this.aa=0,this.l=new qn}function Bt(){this.y=a(16),this.f=a(8),this.ea=a(8)}function yi(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new Nr,this.Kc=new za,this.ed=new Oe,this.Qa=new qa,this.Ic=this.$c=this.Aa=0,this.D=new bt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ce),this.ia=0,this.pb=o(4,lt),this.Pa=new Ss,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bt),this.Hd=0,this.rb=Array(new tt),this.sb=0,this.wa=Array(new rt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new dt),this.L=this.aa=0,this.gd=s([4,2],rt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function oi(){var f=new yi;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,xu||(xu=Ql)),f}function ut(f,y,x){return f.a==0&&(f.a=y,f.sc=x,f.cb=0),0}function Lr(f,y,x){return 3<=x&&f[y+0]==157&&f[y+1]==1&&f[y+2]==42}function aa(f,y){if(f==null)return 0;if(f.a=0,f.sc="OK",y==null)return ut(f,2,"null VP8Io passed to VP8GetHeaders()");var x=y.data,L=y.w,P=y.ha;if(4>P)return ut(f,7,"Truncated header.");var z=x[L+0]|x[L+1]<<8|x[L+2]<<16,G=f.Od;if(G.Rb=!(1&z),G.td=z>>1&7,G.yd=z>>4&1,G.ub=z>>5,3<G.td)return ut(f,3,"Incorrect keyframe parameters.");if(!G.yd)return ut(f,4,"Frame not displayable.");L+=3,P-=3;var V=f.Kc;if(G.Rb){if(7>P)return ut(f,7,"cannot parse picture header");if(!Lr(x,L,P))return ut(f,3,"Bad code word");V.c=16383&(x[L+4]<<8|x[L+3]),V.Td=x[L+4]>>6,V.i=16383&(x[L+6]<<8|x[L+5]),V.Ud=x[L+6]>>6,L+=7,P-=7,f.za=V.c+15>>4,f.Ub=V.i+15>>4,y.width=V.c,y.height=V.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,r((z=f.Pa).jb,0,255,z.jb.length),t((z=f.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,r(z.Zb,0,0,z.Zb.length),r(z.Lb,0,0,z.Lb)}if(G.ub>P)return ut(f,7,"bad partition length");re(z=f.m,x,L,G.ub),L+=G.ub,P-=G.ub,G.Rb&&(V.Ld=ye(z),V.Kd=ye(z)),V=f.Qa;var J,ee=f.Pa;if(t(z!=null),t(V!=null),V.Cb=ye(z),V.Cb){if(V.Bb=ye(z),ye(z)){for(V.Fb=ye(z),J=0;4>J;++J)V.Zb[J]=ye(z)?ne(z,7):0;for(J=0;4>J;++J)V.Lb[J]=ye(z)?ne(z,6):0}if(V.Bb)for(J=0;3>J;++J)ee.jb[J]=ye(z)?te(z,8):255}else V.Bb=0;if(z.Ka)return ut(f,3,"cannot parse segment header");if((V=f.ed).zd=ye(z),V.Tb=te(z,6),V.wb=te(z,3),V.Pc=ye(z),V.Pc&&ye(z)){for(ee=0;4>ee;++ee)ye(z)&&(V.vd[ee]=ne(z,6));for(ee=0;4>ee;++ee)ye(z)&&(V.od[ee]=ne(z,6))}if(f.L=V.Tb==0?0:V.zd?1:2,z.Ka)return ut(f,3,"cannot parse filter header");var de=P;if(P=J=L,L=J+de,V=de,f.Xb=(1<<te(f.m,2))-1,de<3*(ee=f.Xb))x=7;else{for(J+=3*ee,V-=3*ee,de=0;de<ee;++de){var Se=x[P+0]|x[P+1]<<8|x[P+2]<<16;Se>V&&(Se=V),re(f.Jc[+de],x,J,Se),J+=Se,V-=Se,P+=3}re(f.Jc[+ee],x,J,V),x=J<L?0:5}if(x!=0)return ut(f,x,"cannot parse partitions");for(x=te(J=f.m,7),P=ye(J)?ne(J,4):0,L=ye(J)?ne(J,4):0,V=ye(J)?ne(J,4):0,ee=ye(J)?ne(J,4):0,J=ye(J)?ne(J,4):0,de=f.Qa,Se=0;4>Se;++Se){if(de.Cb){var Ae=de.Zb[Se];de.Fb||(Ae+=x)}else{if(0<Se){f.pb[Se]=f.pb[0];continue}Ae=x}var we=f.pb[Se];we.Sc[0]=Hh[Yi(Ae+P,127)],we.Sc[1]=Vh[Yi(Ae+0,127)],we.Eb[0]=2*Hh[Yi(Ae+L,127)],we.Eb[1]=101581*Vh[Yi(Ae+V,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=Hh[Yi(Ae+ee,117)],we.Qc[1]=Vh[Yi(Ae+J,127)],we.lc=Ae+J}if(!G.Rb)return ut(f,4,"Not a key frame.");for(ye(z),G=f.Pa,x=0;4>x;++x){for(P=0;8>P;++P)for(L=0;3>L;++L)for(V=0;11>V;++V)ee=pe(z,vx[x][P][L][V])?te(z,8):gx[x][P][L][V],G.Wc[x][P].Yb[L][V]=ee;for(P=0;17>P;++P)G.Xc[x][P]=G.Wc[x][bx[P]]}return f.kc=ye(z),f.kc&&(f.Bd=te(z,8)),f.cb=1}function Ql(f,y,x,L,P,z,G){var V=y[P].Yb[x];for(x=0;16>P;++P){if(!pe(f,V[x+0]))return P;for(;!pe(f,V[x+1]);)if(V=y[++P].Yb[0],x=0,P==16)return 16;var J=y[P+1].Yb;if(pe(f,V[x+2])){var ee=f,de=0;if(pe(ee,(Ae=V)[(Se=x)+3]))if(pe(ee,Ae[Se+6])){for(V=0,Se=2*(de=pe(ee,Ae[Se+8]))+(Ae=pe(ee,Ae[Se+9+de])),de=0,Ae=px[Se];Ae[V];++V)de+=de+pe(ee,Ae[V]);de+=3+(8<<Se)}else pe(ee,Ae[Se+7])?(de=7+2*pe(ee,165),de+=pe(ee,145)):de=5+pe(ee,159);else de=pe(ee,Ae[Se+4])?3+pe(ee,Ae[Se+5]):2;V=J[2]}else de=1,V=J[1];J=G+mx[P],0>(ee=f).b&&_e(ee);var Se,Ae=ee.b,we=(Se=ee.Ca>>1)-(ee.I>>Ae)>>31;--ee.b,ee.Ca+=we,ee.Ca|=1,ee.I-=(Se+1&we)<<Ae,z[J]=((de^we)-we)*L[(0<P)+0]}return 16}function Ga(f){var y=f.rb[f.sb-1];y.la=0,y.Na=0,r(f.zc,0,0,f.zc.length),f.ja=0}function Ha(f,y){if(f==null)return 0;if(y==null)return ut(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!aa(f,y))return 0;if(t(f.cb),y.ac==null||y.ac(y)){y.ob&&(f.L=0);var x=sf[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=y.v-x>>4,f.zb=y.j-x>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=y.o+15+x>>4,f.Hb=y.va+15+x>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var L=f.ed;for(x=0;4>x;++x){var P;if(f.Qa.Cb){var z=f.Qa.Lb[x];f.Qa.Fb||(z+=L.Tb)}else z=L.Tb;for(P=0;1>=P;++P){var G=f.gd[x][P],V=z;if(L.Pc&&(V+=L.vd[0],P&&(V+=L.od[0])),0<(V=0>V?0:63<V?63:V)){var J=V;0<L.wb&&(J=4<L.wb?J>>2:J>>1)>9-L.wb&&(J=9-L.wb),1>J&&(J=1),G.dd=J,G.tc=2*V+J,G.ld=40<=V?2:15<=V?1:0}else G.tc=0;G.La=P}}}x=0}else ut(f,6,"Frame setup failed"),x=f.a;if(x=x==0){if(x){f.$c=0,0<f.Aa||(f.Ic=Mx);e:{x=f.Ic,L=4*(J=f.za);var ee=32*J,de=J+1,Se=0<f.L?J*(0<f.Aa?2:1):0,Ae=(f.Aa==2?2:1)*J;if((G=L+832+(P=3*(16*x+sf[f.L])/2*ee)+(z=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=G)x=0;else{if(G>f.Vb){if(f.Vb=0,f.Ec=a(G),f.Fc=0,f.Ec==null){x=ut(f,1,"no memory during frame initialization.");break e}f.Vb=G}G=f.Ec,V=f.Fc,f.Ac=G,f.Bc=V,V+=L,f.Gd=o(ee,Bt),f.Hd=0,f.rb=o(de+1,tt),f.sb=1,f.wa=Se?o(Se,rt):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=J),t(!0),f.oc=G,f.pc=V,V+=832,f.ya=o(Ae,dt),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=J),f.R=16*J,f.B=8*J,J=(ee=sf[f.L])*f.R,ee=ee/2*f.B,f.sa=G,f.ta=V+J,f.qa=f.sa,f.ra=f.ta+16*x*f.R+ee,f.Ha=f.qa,f.Ia=f.ra+8*x*f.B+ee,f.$c=0,V+=P,f.mb=z?G:null,f.nb=z?V:null,t(V+z<=f.Fc+f.Vb),Ga(f),r(f.Ac,f.Bc,0,L),x=1}}if(x){if(y.ka=0,y.y=f.sa,y.O=f.ta,y.f=f.qa,y.N=f.ra,y.ea=f.Ha,y.Vd=f.Ia,y.fa=f.R,y.Rc=f.B,y.F=null,y.J=0,!Zc){for(x=-255;255>=x;++x)Gn[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)fa[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)_u[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)qs[255+x]=0>x?0:255<x?255:x;Zc=1}Bs=xh,ca=eu,vu=As,wi=_h,ur=Pc,Cn=Hr,Os=au,Xc=Ho,bu=Ph,Yo=ou,Jo=Dh,Xa=Ls,Ko=su,zs=Vc,Wo=Hc,Za=jr,wu=sa,cr=kh,Mr[0]=Vr,Mr[1]=Sh,Mr[2]=Eh,Mr[3]=Nh,Mr[4]=Bc,Mr[5]=Es,Mr[6]=Oc,Mr[7]=nu,Mr[8]=Ih,Mr[9]=Lh,$a[0]=Fc,$a[1]=Ch,$a[2]=oa,$a[3]=Cs,$a[4]=si,$a[5]=Th,$a[6]=Uc,da[0]=ja,da[1]=Ah,da[2]=Rh,da[3]=iu,da[4]=Go,da[5]=Mh,da[6]=ru,x=1}else x=0}x&&(x=function(we,Ue){for(we.M=0;we.M<we.Va;++we.M){var Te,he=we.Jc[we.M&we.Xb],ve=we.m,Me=we;for(Te=0;Te<Me.za;++Te){var Be=ve,Pe=Me,Ze=Pe.Ac,Je=Pe.Bc+4*Te,ot=Pe.zc,Ke=Pe.ya[Pe.aa+Te];if(Pe.Qa.Bb?Ke.$b=pe(Be,Pe.Pa.jb[0])?2+pe(Be,Pe.Pa.jb[2]):pe(Be,Pe.Pa.jb[1]):Ke.$b=0,Pe.kc&&(Ke.Ad=pe(Be,Pe.Bd)),Ke.Za=!pe(Be,145)+0,Ke.Za){var Ht=Ke.Ob,Kt=0;for(Pe=0;4>Pe;++Pe){var qt,Dt=ot[0+Pe];for(qt=0;4>qt;++qt){Dt=yx[Ze[Je+qt]][Dt];for(var nn=B0[pe(Be,Dt[0])];0<nn;)nn=B0[2*nn+pe(Be,Dt[nn])];Dt=-nn,Ze[Je+qt]=Dt}i(Ht,Kt,Ze,Je,4),Kt+=4,ot[0+Pe]=Dt}}else Dt=pe(Be,156)?pe(Be,128)?1:3:pe(Be,163)?2:0,Ke.Ob[0]=Dt,r(Ze,Je,Dt,4),r(ot,0,Dt,4);Ke.Dd=pe(Be,142)?pe(Be,114)?pe(Be,183)?1:3:2:0}if(Me.m.Ka)return ut(we,7,"Premature end-of-partition0 encountered.");for(;we.ja<we.za;++we.ja){if(Me=he,Be=(ve=we).rb[ve.sb-1],Ze=ve.rb[ve.sb+ve.ja],Te=ve.ya[ve.aa+ve.ja],Je=ve.kc?Te.Ad:0)Be.la=Ze.la=0,Te.Za||(Be.Na=Ze.Na=0),Te.Hc=0,Te.Gc=0,Te.ia=0;else{var Qt,Tt;if(Be=Ze,Ze=Me,Je=ve.Pa.Xc,ot=ve.ya[ve.aa+ve.ja],Ke=ve.pb[ot.$b],Pe=ot.ad,Ht=0,Kt=ve.rb[ve.sb-1],Dt=qt=0,r(Pe,Ht,0,384),ot.Za)var Dn=0,Ri=Je[3];else{nn=a(16);var Pn=Be.Na+Kt.Na;if(Pn=xu(Ze,Je[1],Pn,Ke.Eb,0,nn,0),Be.Na=Kt.Na=(0<Pn)+0,1<Pn)Bs(nn,0,Pe,Ht);else{var Mi=nn[0]+3>>3;for(nn=0;256>nn;nn+=16)Pe[Ht+nn]=Mi}Dn=1,Ri=Je[0]}var Wt=15&Be.la,Ki=15&Kt.la;for(nn=0;4>nn;++nn){var Wi=1&Ki;for(Mi=Tt=0;4>Mi;++Mi)Wt=Wt>>1|(Wi=(Pn=xu(Ze,Ri,Pn=Wi+(1&Wt),Ke.Sc,Dn,Pe,Ht))>Dn)<<7,Tt=Tt<<2|(3<Pn?3:1<Pn?2:Pe[Ht+0]!=0),Ht+=16;Wt>>=4,Ki=Ki>>1|Wi<<7,qt=(qt<<8|Tt)>>>0}for(Ri=Wt,Dn=Ki>>4,Qt=0;4>Qt;Qt+=2){for(Tt=0,Wt=Be.la>>4+Qt,Ki=Kt.la>>4+Qt,nn=0;2>nn;++nn){for(Wi=1&Ki,Mi=0;2>Mi;++Mi)Pn=Wi+(1&Wt),Wt=Wt>>1|(Wi=0<(Pn=xu(Ze,Je[2],Pn,Ke.Qc,0,Pe,Ht)))<<3,Tt=Tt<<2|(3<Pn?3:1<Pn?2:Pe[Ht+0]!=0),Ht+=16;Wt>>=2,Ki=Ki>>1|Wi<<5}Dt|=Tt<<4*Qt,Ri|=Wt<<4<<Qt,Dn|=(240&Ki)<<Qt}Be.la=Ri,Kt.la=Dn,ot.Hc=qt,ot.Gc=Dt,ot.ia=43690&Dt?0:Ke.ia,Je=!(qt|Dt)}if(0<ve.L&&(ve.wa[ve.Y+ve.ja]=ve.gd[Te.$b][Te.Za],ve.wa[ve.Y+ve.ja].La|=!Je),Me.Ka)return ut(we,7,"Premature end-of-file encountered.")}if(Ga(we),ve=Ue,Me=1,Te=(he=we).D,Be=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(Te.M=he.M,Te.uc=Be,hu(he,Te),Me=1,Te=(Tt=he.D).Nb,Be=(Dt=sf[he.L])*he.R,Ze=Dt/2*he.B,nn=16*Te*he.R,Mi=8*Te*he.B,Je=he.sa,ot=he.ta-Be+nn,Ke=he.qa,Pe=he.ra-Ze+Mi,Ht=he.Ha,Kt=he.Ia-Ze+Mi,Ki=(Wt=Tt.M)==0,qt=Wt>=he.Va-1,he.Aa==2&&hu(he,Tt),Tt.uc)for(Wi=(Pn=he).D.M,t(Pn.D.uc),Tt=Pn.yb;Tt<Pn.Hb;++Tt){Dn=Tt,Ri=Wi;var Jn=(ei=(_n=Pn).D).Nb;Qt=_n.R;var ei=ei.wa[ei.Y+Dn],_i=_n.sa,pr=_n.ta+16*Jn*Qt+16*Dn,Jr=ei.dd,Kn=ei.tc;if(Kn!=0)if(t(3<=Kn),_n.L==1)0<Dn&&Za(_i,pr,Qt,Kn+4),ei.La&&cr(_i,pr,Qt,Kn),0<Ri&&Wo(_i,pr,Qt,Kn+4),ei.La&&wu(_i,pr,Qt,Kn);else{var ha=_n.B,Xo=_n.qa,Gs=_n.ra+8*Jn*ha+8*Dn,eo=_n.Ha,_n=_n.Ia+8*Jn*ha+8*Dn;Jn=ei.ld,0<Dn&&(Xc(_i,pr,Qt,Kn+4,Jr,Jn),Yo(Xo,Gs,eo,_n,ha,Kn+4,Jr,Jn)),ei.La&&(Xa(_i,pr,Qt,Kn,Jr,Jn),zs(Xo,Gs,eo,_n,ha,Kn,Jr,Jn)),0<Ri&&(Os(_i,pr,Qt,Kn+4,Jr,Jn),bu(Xo,Gs,eo,_n,ha,Kn+4,Jr,Jn)),ei.La&&(Jo(_i,pr,Qt,Kn,Jr,Jn),Ko(Xo,Gs,eo,_n,ha,Kn,Jr,Jn))}}if(he.ia&&alert("todo:DitherRow"),ve.put!=null){if(Tt=16*Wt,Wt=16*(Wt+1),Ki?(ve.y=he.sa,ve.O=he.ta+nn,ve.f=he.qa,ve.N=he.ra+Mi,ve.ea=he.Ha,ve.W=he.Ia+Mi):(Tt-=Dt,ve.y=Je,ve.O=ot,ve.f=Ke,ve.N=Pe,ve.ea=Ht,ve.W=Kt),qt||(Wt-=Dt),Wt>ve.o&&(Wt=ve.o),ve.F=null,ve.J=null,he.Fa!=null&&0<he.Fa.length&&Tt<Wt&&(ve.J=fu(he,ve,Tt,Wt-Tt),ve.F=he.mb,ve.F==null&&ve.F.length==0)){Me=ut(he,3,"Could not decode alpha data.");break e}Tt<ve.j&&(Dt=ve.j-Tt,Tt=ve.j,t(!(1&Dt)),ve.O+=he.R*Dt,ve.N+=he.B*(Dt>>1),ve.W+=he.B*(Dt>>1),ve.F!=null&&(ve.J+=ve.width*Dt)),Tt<Wt&&(ve.O+=ve.v,ve.N+=ve.v>>1,ve.W+=ve.v>>1,ve.F!=null&&(ve.J+=ve.v),ve.ka=Tt-ve.j,ve.U=ve.va-ve.v,ve.T=Wt-Tt,Me=ve.put(ve))}Te+1!=he.Ic||qt||(i(he.sa,he.ta-Be,Je,ot+16*he.R,Be),i(he.qa,he.ra-Ze,Ke,Pe+8*he.B,Ze),i(he.Ha,he.Ia-Ze,Ht,Kt+8*he.B,Ze))}if(!Me)return ut(we,6,"Output aborted.")}return 1}(f,y)),y.bc!=null&&y.bc(y),x&=1}return x?(f.cb=0,x):0}function mt(f,y,x,L,P){P=f[y+x+32*L]+(P>>3),f[y+x+32*L]=-256&P?0>P?0:255:P}function Ni(f,y,x,L,P,z){mt(f,y,0,x,L+P),mt(f,y,1,x,L+z),mt(f,y,2,x,L-z),mt(f,y,3,x,L-P)}function vi(f){return(20091*f>>16)+f}function Va(f,y,x,L){var P,z=0,G=a(16);for(P=0;4>P;++P){var V=f[y+0]+f[y+8],J=f[y+0]-f[y+8],ee=(35468*f[y+4]>>16)-vi(f[y+12]),de=vi(f[y+4])+(35468*f[y+12]>>16);G[z+0]=V+de,G[z+1]=J+ee,G[z+2]=J-ee,G[z+3]=V-de,z+=4,y++}for(P=z=0;4>P;++P)V=(f=G[z+0]+4)+G[z+8],J=f-G[z+8],ee=(35468*G[z+4]>>16)-vi(G[z+12]),mt(x,L,0,0,V+(de=vi(G[z+4])+(35468*G[z+12]>>16))),mt(x,L,1,0,J+ee),mt(x,L,2,0,J-ee),mt(x,L,3,0,V-de),z++,L+=32}function Hr(f,y,x,L){var P=f[y+0]+4,z=35468*f[y+4]>>16,G=vi(f[y+4]),V=35468*f[y+1]>>16;Ni(x,L,0,P+G,f=vi(f[y+1]),V),Ni(x,L,1,P+z,f,V),Ni(x,L,2,P-z,f,V),Ni(x,L,3,P-G,f,V)}function eu(f,y,x,L,P){Va(f,y,x,L),P&&Va(f,y+16,x,L+4)}function As(f,y,x,L){ca(f,y+0,x,L,1),ca(f,y+32,x,L+128,1)}function _h(f,y,x,L){var P;for(f=f[y+0]+4,P=0;4>P;++P)for(y=0;4>y;++y)mt(x,L,y,P,f)}function Pc(f,y,x,L){f[y+0]&&wi(f,y+0,x,L),f[y+16]&&wi(f,y+16,x,L+4),f[y+32]&&wi(f,y+32,x,L+128),f[y+48]&&wi(f,y+48,x,L+128+4)}function xh(f,y,x,L){var P,z=a(16);for(P=0;4>P;++P){var G=f[y+0+P]+f[y+12+P],V=f[y+4+P]+f[y+8+P],J=f[y+4+P]-f[y+8+P],ee=f[y+0+P]-f[y+12+P];z[0+P]=G+V,z[8+P]=G-V,z[4+P]=ee+J,z[12+P]=ee-J}for(P=0;4>P;++P)G=(f=z[0+4*P]+3)+z[3+4*P],V=z[1+4*P]+z[2+4*P],J=z[1+4*P]-z[2+4*P],ee=f-z[3+4*P],x[L+0]=G+V>>3,x[L+16]=ee+J>>3,x[L+32]=G-V>>3,x[L+48]=ee-J>>3,L+=64}function tu(f,y,x){var L,P=y-32,z=Ji,G=255-f[P-1];for(L=0;L<x;++L){var V,J=z,ee=G+f[y-1];for(V=0;V<x;++V)f[y+V]=J[ee+f[P+V]];y+=32}}function Sh(f,y){tu(f,y,4)}function Ah(f,y){tu(f,y,8)}function Ch(f,y){tu(f,y,16)}function oa(f,y){var x;for(x=0;16>x;++x)i(f,y+32*x,f,y-32,16)}function Cs(f,y){var x;for(x=16;0<x;--x)r(f,y,f[y-1],16),y+=32}function Ts(f,y,x){var L;for(L=0;16>L;++L)r(y,x+32*L,f,16)}function Fc(f,y){var x,L=16;for(x=0;16>x;++x)L+=f[y-1+32*x]+f[y+x-32];Ts(L>>5,f,y)}function si(f,y){var x,L=8;for(x=0;16>x;++x)L+=f[y-1+32*x];Ts(L>>4,f,y)}function Th(f,y){var x,L=8;for(x=0;16>x;++x)L+=f[y+x-32];Ts(L>>4,f,y)}function Uc(f,y){Ts(128,f,y)}function wt(f,y,x){return f+2*y+x+2>>2}function Eh(f,y){var x,L=y-32;for(L=new Uint8Array([wt(f[L-1],f[L+0],f[L+1]),wt(f[L+0],f[L+1],f[L+2]),wt(f[L+1],f[L+2],f[L+3]),wt(f[L+2],f[L+3],f[L+4])]),x=0;4>x;++x)i(f,y+32*x,L,0,L.length)}function Nh(f,y){var x=f[y-1],L=f[y-1+32],P=f[y-1+64],z=f[y-1+96];Ie(f,y+0,16843009*wt(f[y-1-32],x,L)),Ie(f,y+32,16843009*wt(x,L,P)),Ie(f,y+64,16843009*wt(L,P,z)),Ie(f,y+96,16843009*wt(P,z,z))}function Vr(f,y){var x,L=4;for(x=0;4>x;++x)L+=f[y+x-32]+f[y-1+32*x];for(L>>=3,x=0;4>x;++x)r(f,y+32*x,L,4)}function Bc(f,y){var x=f[y-1+0],L=f[y-1+32],P=f[y-1+64],z=f[y-1-32],G=f[y+0-32],V=f[y+1-32],J=f[y+2-32],ee=f[y+3-32];f[y+0+96]=wt(L,P,f[y-1+96]),f[y+1+96]=f[y+0+64]=wt(x,L,P),f[y+2+96]=f[y+1+64]=f[y+0+32]=wt(z,x,L),f[y+3+96]=f[y+2+64]=f[y+1+32]=f[y+0+0]=wt(G,z,x),f[y+3+64]=f[y+2+32]=f[y+1+0]=wt(V,G,z),f[y+3+32]=f[y+2+0]=wt(J,V,G),f[y+3+0]=wt(ee,J,V)}function Oc(f,y){var x=f[y+1-32],L=f[y+2-32],P=f[y+3-32],z=f[y+4-32],G=f[y+5-32],V=f[y+6-32],J=f[y+7-32];f[y+0+0]=wt(f[y+0-32],x,L),f[y+1+0]=f[y+0+32]=wt(x,L,P),f[y+2+0]=f[y+1+32]=f[y+0+64]=wt(L,P,z),f[y+3+0]=f[y+2+32]=f[y+1+64]=f[y+0+96]=wt(P,z,G),f[y+3+32]=f[y+2+64]=f[y+1+96]=wt(z,G,V),f[y+3+64]=f[y+2+96]=wt(G,V,J),f[y+3+96]=wt(V,J,J)}function Es(f,y){var x=f[y-1+0],L=f[y-1+32],P=f[y-1+64],z=f[y-1-32],G=f[y+0-32],V=f[y+1-32],J=f[y+2-32],ee=f[y+3-32];f[y+0+0]=f[y+1+64]=z+G+1>>1,f[y+1+0]=f[y+2+64]=G+V+1>>1,f[y+2+0]=f[y+3+64]=V+J+1>>1,f[y+3+0]=J+ee+1>>1,f[y+0+96]=wt(P,L,x),f[y+0+64]=wt(L,x,z),f[y+0+32]=f[y+1+96]=wt(x,z,G),f[y+1+32]=f[y+2+96]=wt(z,G,V),f[y+2+32]=f[y+3+96]=wt(G,V,J),f[y+3+32]=wt(V,J,ee)}function nu(f,y){var x=f[y+0-32],L=f[y+1-32],P=f[y+2-32],z=f[y+3-32],G=f[y+4-32],V=f[y+5-32],J=f[y+6-32],ee=f[y+7-32];f[y+0+0]=x+L+1>>1,f[y+1+0]=f[y+0+64]=L+P+1>>1,f[y+2+0]=f[y+1+64]=P+z+1>>1,f[y+3+0]=f[y+2+64]=z+G+1>>1,f[y+0+32]=wt(x,L,P),f[y+1+32]=f[y+0+96]=wt(L,P,z),f[y+2+32]=f[y+1+96]=wt(P,z,G),f[y+3+32]=f[y+2+96]=wt(z,G,V),f[y+3+64]=wt(G,V,J),f[y+3+96]=wt(V,J,ee)}function Lh(f,y){var x=f[y-1+0],L=f[y-1+32],P=f[y-1+64],z=f[y-1+96];f[y+0+0]=x+L+1>>1,f[y+2+0]=f[y+0+32]=L+P+1>>1,f[y+2+32]=f[y+0+64]=P+z+1>>1,f[y+1+0]=wt(x,L,P),f[y+3+0]=f[y+1+32]=wt(L,P,z),f[y+3+32]=f[y+1+64]=wt(P,z,z),f[y+3+64]=f[y+2+64]=f[y+0+96]=f[y+1+96]=f[y+2+96]=f[y+3+96]=z}function Ih(f,y){var x=f[y-1+0],L=f[y-1+32],P=f[y-1+64],z=f[y-1+96],G=f[y-1-32],V=f[y+0-32],J=f[y+1-32],ee=f[y+2-32];f[y+0+0]=f[y+2+32]=x+G+1>>1,f[y+0+32]=f[y+2+64]=L+x+1>>1,f[y+0+64]=f[y+2+96]=P+L+1>>1,f[y+0+96]=z+P+1>>1,f[y+3+0]=wt(V,J,ee),f[y+2+0]=wt(G,V,J),f[y+1+0]=f[y+3+32]=wt(x,G,V),f[y+1+32]=f[y+3+64]=wt(L,x,G),f[y+1+64]=f[y+3+96]=wt(P,L,x),f[y+1+96]=wt(z,P,L)}function Rh(f,y){var x;for(x=0;8>x;++x)i(f,y+32*x,f,y-32,8)}function iu(f,y){var x;for(x=0;8>x;++x)r(f,y,f[y-1],8),y+=32}function qo(f,y,x){var L;for(L=0;8>L;++L)r(y,x+32*L,f,8)}function ja(f,y){var x,L=8;for(x=0;8>x;++x)L+=f[y+x-32]+f[y-1+32*x];qo(L>>4,f,y)}function Mh(f,y){var x,L=4;for(x=0;8>x;++x)L+=f[y+x-32];qo(L>>3,f,y)}function Go(f,y){var x,L=4;for(x=0;8>x;++x)L+=f[y-1+32*x];qo(L>>3,f,y)}function ru(f,y){qo(128,f,y)}function Ns(f,y,x){var L=f[y-x],P=f[y+0],z=3*(P-L)+Bh[1020+f[y-2*x]-f[y+x]],G=$c[112+(z+4>>3)];f[y-x]=Ji[255+L+$c[112+(z+3>>3)]],f[y+0]=Ji[255+P-G]}function zc(f,y,x,L){var P=f[y+0],z=f[y+x];return dr[255+f[y-2*x]-f[y-x]]>L||dr[255+z-P]>L}function qc(f,y,x,L){return 4*dr[255+f[y-x]-f[y+0]]+dr[255+f[y-2*x]-f[y+x]]<=L}function Gc(f,y,x,L,P){var z=f[y-3*x],G=f[y-2*x],V=f[y-x],J=f[y+0],ee=f[y+x],de=f[y+2*x],Se=f[y+3*x];return 4*dr[255+V-J]+dr[255+G-ee]>L?0:dr[255+f[y-4*x]-z]<=P&&dr[255+z-G]<=P&&dr[255+G-V]<=P&&dr[255+Se-de]<=P&&dr[255+de-ee]<=P&&dr[255+ee-J]<=P}function Hc(f,y,x,L){var P=2*L+1;for(L=0;16>L;++L)qc(f,y+L,x,P)&&Ns(f,y+L,x)}function jr(f,y,x,L){var P=2*L+1;for(L=0;16>L;++L)qc(f,y+L*x,1,P)&&Ns(f,y+L*x,1)}function sa(f,y,x,L){var P;for(P=3;0<P;--P)Hc(f,y+=4*x,x,L)}function kh(f,y,x,L){var P;for(P=3;0<P;--P)jr(f,y+=4,x,L)}function Ya(f,y,x,L,P,z,G,V){for(z=2*z+1;0<P--;){if(Gc(f,y,x,z,G))if(zc(f,y,x,V))Ns(f,y,x);else{var J=f,ee=y,de=x,Se=J[ee-2*de],Ae=J[ee-de],we=J[ee+0],Ue=J[ee+de],Te=J[ee+2*de],he=27*(Me=Bh[1020+3*(we-Ae)+Bh[1020+Se-Ue]])+63>>7,ve=18*Me+63>>7,Me=9*Me+63>>7;J[ee-3*de]=Ji[255+J[ee-3*de]+Me],J[ee-2*de]=Ji[255+Se+ve],J[ee-de]=Ji[255+Ae+he],J[ee+0]=Ji[255+we-he],J[ee+de]=Ji[255+Ue-ve],J[ee+2*de]=Ji[255+Te-Me]}y+=L}}function Ir(f,y,x,L,P,z,G,V){for(z=2*z+1;0<P--;){if(Gc(f,y,x,z,G))if(zc(f,y,x,V))Ns(f,y,x);else{var J=f,ee=y,de=x,Se=J[ee-de],Ae=J[ee+0],we=J[ee+de],Ue=$c[112+((Te=3*(Ae-Se))+4>>3)],Te=$c[112+(Te+3>>3)],he=Ue+1>>1;J[ee-2*de]=Ji[255+J[ee-2*de]+he],J[ee-de]=Ji[255+Se+Te],J[ee+0]=Ji[255+Ae-Ue],J[ee+de]=Ji[255+we-he]}y+=L}}function au(f,y,x,L,P,z){Ya(f,y,x,1,16,L,P,z)}function Ho(f,y,x,L,P,z){Ya(f,y,1,x,16,L,P,z)}function Dh(f,y,x,L,P,z){var G;for(G=3;0<G;--G)Ir(f,y+=4*x,x,1,16,L,P,z)}function Ls(f,y,x,L,P,z){var G;for(G=3;0<G;--G)Ir(f,y+=4,1,x,16,L,P,z)}function Ph(f,y,x,L,P,z,G,V){Ya(f,y,P,1,8,z,G,V),Ya(x,L,P,1,8,z,G,V)}function ou(f,y,x,L,P,z,G,V){Ya(f,y,1,P,8,z,G,V),Ya(x,L,1,P,8,z,G,V)}function su(f,y,x,L,P,z,G,V){Ir(f,y+4*P,P,1,8,z,G,V),Ir(x,L+4*P,P,1,8,z,G,V)}function Vc(f,y,x,L,P,z,G,V){Ir(f,y+4,1,P,8,z,G,V),Ir(x,L+4,1,P,8,z,G,V)}function Is(){this.ba=new jn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function uu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function jc(){this.ua=0,this.Wa=new O,this.vb=new O,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new T,this.yc=new N}function Fh(){this.xb=this.a=0,this.l=new qn,this.ca=new jn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new jc,this.ab=0,this.gc=o(4,uu),this.Oc=0}function Rs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vo(f,y,x,L,P,z,G){for(f=f==null?0:f[y+0],y=0;y<G;++y)P[z+y]=f+x[L+y]&255,f=P[z+y]}function cu(f,y,x,L,P,z,G){var V;if(f==null)Vo(null,null,x,L,P,z,G);else for(V=0;V<G;++V)P[z+V]=f[y+V]+x[L+V]&255}function Ja(f,y,x,L,P,z,G){if(f==null)Vo(null,null,x,L,P,z,G);else{var V,J=f[y+0],ee=J,de=J;for(V=0;V<G;++V)ee=de+(J=f[y+V])-ee,de=x[L+V]+(-256&ee?0>ee?0:255:ee)&255,ee=J,P[z+V]=de}}function fu(f,y,x,L){var P=y.width,z=y.o;if(t(f!=null&&y!=null),0>x||0>=L||x+L>z)return null;if(!f.Cc){if(f.ga==null){var G;if(f.ga=new Rs,(G=f.ga==null)||(G=y.width*y.o,t(f.Gb.length==0),f.Gb=a(G),f.Uc=0,f.Gb==null?G=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,G=1),G=!G),!G){G=f.ga;var V=f.Fa,J=f.P,ee=f.qc,de=f.mb,Se=f.nb,Ae=J+1,we=ee-1,Ue=G.l;if(t(V!=null&&de!=null&&y!=null),Qa[0]=null,Qa[1]=Vo,Qa[2]=cu,Qa[3]=Ja,G.ca=de,G.tb=Se,G.c=y.width,G.i=y.height,t(0<G.c&&0<G.i),1>=ee)y=0;else if(G.$a=V[J+0]>>0&3,G.Z=V[J+0]>>2&3,G.Lc=V[J+0]>>4&3,J=V[J+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||J)y=0;else if(Ue.put=mi,Ue.ac=bn,Ue.bc=Ti,Ue.ma=G,Ue.width=y.width,Ue.height=y.height,Ue.Da=y.Da,Ue.v=y.v,Ue.va=y.va,Ue.j=y.j,Ue.o=y.o,G.$a)e:{t(G.$a==1),y=un();t:for(;;){if(y==null){y=0;break e}if(t(G!=null),G.mc=y,y.c=G.c,y.i=G.i,y.l=G.l,y.l.ma=G,y.l.width=G.c,y.l.height=G.i,y.a=0,se(y.m,V,Ae,we),!gi(G.c,G.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Er(y.s)?(G.ic=1,V=y.c*y.i,y.Ta=null,y.Ua=0,y.V=a(V),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(G.ic=0,y=ra(y,G.c)),!y))break t;y=1;break e}G.mc=null,y=0}else y=we>=G.c*G.i;G=!y}if(G)return null;f.ga.Lc!=1?f.Ga=0:L=z-x}t(f.ga!=null),t(x+L<=z);e:{if(y=(V=f.ga).c,z=V.l.o,V.$a==0){if(Ae=f.rc,we=f.Vc,Ue=f.Fa,J=f.P+1+x*y,ee=f.mb,de=f.nb+x*y,t(J<=f.P+f.qc),V.Z!=0)for(t(Qa[V.Z]!=null),G=0;G<L;++G)Qa[V.Z](Ae,we,Ue,J,ee,de,y),Ae=ee,we=de,de+=y,J+=y;else for(G=0;G<L;++G)i(ee,de,Ue,J,y),Ae=ee,we=de,de+=y,J+=y;f.rc=Ae,f.Vc=we}else{if(t(V.mc!=null),y=x+L,t((G=V.mc)!=null),t(y<=G.i),G.C>=y)y=1;else if(V.ic||xe(),V.ic){V=G.V,Ae=G.Ba,we=G.c;var Te=G.i,he=(Ue=1,J=G.$/we,ee=G.$%we,de=G.m,Se=G.s,G.$),ve=we*Te,Me=we*y,Be=Se.wc,Pe=he<Me?Lt(Se,ee,J):null;t(he<=ve),t(y<=Te),t(Er(Se));t:for(;;){for(;!de.h&&he<Me;){if(ee&Be||(Pe=Lt(Se,ee,J)),t(Pe!=null),le(de),256>(Te=je(Pe.G[0],Pe.H[0],de)))V[Ae+he]=Te,++he,++ee>=we&&(ee=0,++J<=y&&!(J%16)&&Vi(G,J));else{if(!(280>Te)){Ue=0;break t}Te=ct(Te-256,de);var Ze,Je=je(Pe.G[4],Pe.H[4],de);if(le(de),!(he>=(Je=Rt(we,Je=ct(Je,de)))&&ve-he>=Te)){Ue=0;break t}for(Ze=0;Ze<Te;++Ze)V[Ae+he+Ze]=V[Ae+he+Ze-Je];for(he+=Te,ee+=Te;ee>=we;)ee-=we,++J<=y&&!(J%16)&&Vi(G,J);he<Me&&ee&Be&&(Pe=Lt(Se,ee,J))}t(de.h==K(de))}Vi(G,J>y?y:J);break t}!Ue||de.h&&he<ve?(Ue=0,G.a=de.h?5:3):G.$=he,y=Ue}else y=ji(G,G.V,G.Ba,G.c,G.i,y,Oa);if(!y){L=0;break e}}x+L>=z&&(f.Cc=1),L=1}if(!L)return null;if(f.Cc&&((L=f.ga)!=null&&(L.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+x*P}function b(f,y,x,L,P,z){for(;0<P--;){var G,V=f,J=y+(x?1:0),ee=f,de=y+(x?0:3);for(G=0;G<L;++G){var Se=ee[de+4*G];Se!=255&&(Se*=32897,V[J+4*G+0]=V[J+4*G+0]*Se>>23,V[J+4*G+1]=V[J+4*G+1]*Se>>23,V[J+4*G+2]=V[J+4*G+2]*Se>>23)}y+=z}}function F(f,y,x,L,P){for(;0<L--;){var z;for(z=0;z<x;++z){var G=f[y+2*z+0],V=15&(ee=f[y+2*z+1]),J=4369*V,ee=(240&ee|ee>>4)*J>>16;f[y+2*z+0]=(240&G|G>>4)*J>>16&240|(15&G|G<<4)*J>>16>>4&15,f[y+2*z+1]=240&ee|V}y+=P}}function ie(f,y,x,L,P,z,G,V){var J,ee,de=255;for(ee=0;ee<P;++ee){for(J=0;J<L;++J){var Se=f[y+J];z[G+4*J]=Se,de&=Se}y+=x,G+=V}return de!=255}function fe(f,y,x,L,P){var z;for(z=0;z<P;++z)x[L+z]=f[y+z]>>8}function xe(){fr=b,on=F,sn=ie,Tn=fe}function Ne(f,y,x){q[f]=function(L,P,z,G,V,J,ee,de,Se,Ae,we,Ue,Te,he,ve,Me,Be){var Pe,Ze=Be-1>>1,Je=V[J+0]|ee[de+0]<<16,ot=Se[Ae+0]|we[Ue+0]<<16;t(L!=null);var Ke=3*Je+ot+131074>>2;for(y(L[P+0],255&Ke,Ke>>16,Te,he),z!=null&&(Ke=3*ot+Je+131074>>2,y(z[G+0],255&Ke,Ke>>16,ve,Me)),Pe=1;Pe<=Ze;++Pe){var Ht=V[J+Pe]|ee[de+Pe]<<16,Kt=Se[Ae+Pe]|we[Ue+Pe]<<16,qt=Je+Ht+ot+Kt+524296,Dt=qt+2*(Ht+ot)>>3;Ke=Dt+Je>>1,Je=(qt=qt+2*(Je+Kt)>>3)+Ht>>1,y(L[P+2*Pe-1],255&Ke,Ke>>16,Te,he+(2*Pe-1)*x),y(L[P+2*Pe-0],255&Je,Je>>16,Te,he+(2*Pe-0)*x),z!=null&&(Ke=qt+ot>>1,Je=Dt+Kt>>1,y(z[G+2*Pe-1],255&Ke,Ke>>16,ve,Me+(2*Pe-1)*x),y(z[G+2*Pe+0],255&Je,Je>>16,ve,Me+(2*Pe+0)*x)),Je=Ht,ot=Kt}1&Be||(Ke=3*Je+ot+131074>>2,y(L[P+Be-1],255&Ke,Ke>>16,Te,he+(Be-1)*x),z!=null&&(Ke=3*ot+Je+131074>>2,y(z[G+Be-1],255&Ke,Ke>>16,ve,Me+(Be-1)*x)))}}function ze(){hr[Qc]=_x,hr[ef]=z0,hr[P0]=xx,hr[tf]=q0,hr[nf]=G0,hr[Oh]=H0,hr[F0]=Sx,hr[zh]=z0,hr[qh]=q0,hr[rf]=G0,hr[Gh]=H0}function Xe(f){return f&-16384?0>f?0:255:f>>Ax}function at(f,y){return Xe((19077*f>>8)+(26149*y>>8)-14234)}function St(f,y,x){return Xe((19077*f>>8)-(6419*y>>8)-(13320*x>>8)+8708)}function _t(f,y){return Xe((19077*f>>8)+(33050*y>>8)-17685)}function Ot(f,y,x,L,P){L[P+0]=at(f,x),L[P+1]=St(f,y,x),L[P+2]=_t(f,y)}function yn(f,y,x,L,P){L[P+0]=_t(f,y),L[P+1]=St(f,y,x),L[P+2]=at(f,x)}function wn(f,y,x,L,P){var z=St(f,y,x);y=z<<3&224|_t(f,y)>>3,L[P+0]=248&at(f,x)|z>>5,L[P+1]=y}function kn(f,y,x,L,P){var z=240&_t(f,y)|15;L[P+0]=240&at(f,x)|St(f,y,x)>>4,L[P+1]=z}function li(f,y,x,L,P){L[P+0]=255,Ot(f,y,x,L,P+1)}function Yn(f,y,x,L,P){yn(f,y,x,L,P),L[P+3]=255}function Rr(f,y,x,L,P){Ot(f,y,x,L,P),L[P+3]=255}function Yi(f,y){return 0>f?0:f>y?y:f}function Yr(f,y,x){q[f]=function(L,P,z,G,V,J,ee,de,Se){for(var Ae=de+(-2&Se)*x;de!=Ae;)y(L[P+0],z[G+0],V[J+0],ee,de),y(L[P+1],z[G+0],V[J+0],ee,de+x),P+=2,++G,++J,de+=2*x;1&Se&&y(L[P+0],z[G+0],V[J+0],ee,de)}}function Yc(f,y,x){return x==0?f==0?y==0?6:5:y==0?4:0:x}function du(f,y,x,L,P){switch(f>>>30){case 3:ca(y,x,L,P,0);break;case 2:Cn(y,x,L,P);break;case 1:wi(y,x,L,P)}}function hu(f,y){var x,L,P=y.M,z=y.Nb,G=f.oc,V=f.pc+40,J=f.oc,ee=f.pc+584,de=f.oc,Se=f.pc+600;for(x=0;16>x;++x)G[V+32*x-1]=129;for(x=0;8>x;++x)J[ee+32*x-1]=129,de[Se+32*x-1]=129;for(0<P?G[V-1-32]=J[ee-1-32]=de[Se-1-32]=129:(r(G,V-32-1,127,21),r(J,ee-32-1,127,9),r(de,Se-32-1,127,9)),L=0;L<f.za;++L){var Ae=y.ya[y.aa+L];if(0<L){for(x=-1;16>x;++x)i(G,V+32*x-4,G,V+32*x+12,4);for(x=-1;8>x;++x)i(J,ee+32*x-4,J,ee+32*x+4,4),i(de,Se+32*x-4,de,Se+32*x+4,4)}var we=f.Gd,Ue=f.Hd+L,Te=Ae.ad,he=Ae.Hc;if(0<P&&(i(G,V-32,we[Ue].y,0,16),i(J,ee-32,we[Ue].f,0,8),i(de,Se-32,we[Ue].ea,0,8)),Ae.Za){var ve=G,Me=V-32+16;for(0<P&&(L>=f.za-1?r(ve,Me,we[Ue].y[15],4):i(ve,Me,we[Ue+1].y,0,4)),x=0;4>x;x++)ve[Me+128+x]=ve[Me+256+x]=ve[Me+384+x]=ve[Me+0+x];for(x=0;16>x;++x,he<<=2)ve=G,Me=V+j0[x],Mr[Ae.Ob[x]](ve,Me),du(he,Te,16*+x,ve,Me)}else if(ve=Yc(L,P,Ae.Ob[0]),$a[ve](G,V),he!=0)for(x=0;16>x;++x,he<<=2)du(he,Te,16*+x,G,V+j0[x]);for(x=Ae.Gc,ve=Yc(L,P,Ae.Dd),da[ve](J,ee),da[ve](de,Se),he=Te,ve=J,Me=ee,255&(Ae=x>>0)&&(170&Ae?vu(he,256,ve,Me):ur(he,256,ve,Me)),Ae=de,he=Se,255&(x>>=8)&&(170&x?vu(Te,320,Ae,he):ur(Te,320,Ae,he)),P<f.Ub-1&&(i(we[Ue].y,0,G,V+480,16),i(we[Ue].f,0,J,ee+224,8),i(we[Ue].ea,0,de,Se+224,8)),x=8*z*f.B,we=f.sa,Ue=f.ta+16*L+16*z*f.R,Te=f.qa,Ae=f.ra+8*L+x,he=f.Ha,ve=f.Ia+8*L+x,x=0;16>x;++x)i(we,Ue+x*f.R,G,V+32*x,16);for(x=0;8>x;++x)i(Te,Ae+x*f.B,J,ee+32*x,8),i(he,ve+x*f.B,de,Se+32*x,8)}}function Ms(f,y,x,L,P,z,G,V,J){var ee=[0],de=[0],Se=0,Ae=J!=null?J.kd:0,we=J??new lu;if(f==null||12>x)return 7;we.data=f,we.w=y,we.ha=x,y=[y],x=[x],we.gb=[we.gb];e:{var Ue=y,Te=x,he=we.gb;if(t(f!=null),t(Te!=null),t(he!=null),he[0]=0,12<=Te[0]&&!n(f,Ue[0],"RIFF")){if(n(f,Ue[0]+8,"WEBP")){he=3;break e}var ve=Ge(f,Ue[0]+4);if(12>ve||4294967286<ve){he=3;break e}if(Ae&&ve>Te[0]-8){he=7;break e}he[0]=ve,Ue[0]+=12,Te[0]-=12}he=0}if(he!=0)return he;for(ve=0<we.gb[0],x=x[0];;){e:{var Me=f;Te=y,he=x;var Be=ee,Pe=de,Ze=Ue=[0];if((Ke=Se=[Se])[0]=0,8>he[0])he=7;else{if(!n(Me,Te[0],"VP8X")){if(Ge(Me,Te[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var Je=Ge(Me,Te[0]+8),ot=1+He(Me,Te[0]+12);if(2147483648<=ot*(Me=1+He(Me,Te[0]+15))){he=3;break e}Ze!=null&&(Ze[0]=Je),Be!=null&&(Be[0]=ot),Pe!=null&&(Pe[0]=Me),Te[0]+=18,he[0]-=18,Ke[0]=1}he=0}}if(Se=Se[0],Ue=Ue[0],he!=0)return he;if(Te=!!(2&Ue),!ve&&Se)return 3;if(z!=null&&(z[0]=!!(16&Ue)),G!=null&&(G[0]=Te),V!=null&&(V[0]=0),G=ee[0],Ue=de[0],Se&&Te&&J==null){he=0;break}if(4>x){he=7;break}if(ve&&Se||!ve&&!Se&&!n(f,y[0],"ALPH")){x=[x],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{Je=f,he=y,ve=x;var Ke=we.gb;Be=we.na,Pe=we.P,Ze=we.Sa,ot=22,t(Je!=null),t(ve!=null),Me=he[0];var Ht=ve[0];for(t(Be!=null),t(Ze!=null),Be[0]=null,Pe[0]=null,Ze[0]=0;;){if(he[0]=Me,ve[0]=Ht,8>Ht){he=7;break e}var Kt=Ge(Je,Me+4);if(4294967286<Kt){he=3;break e}var qt=8+Kt+1&-2;if(ot+=qt,0<Ke&&ot>Ke){he=3;break e}if(!n(Je,Me,"VP8 ")||!n(Je,Me,"VP8L")){he=0;break e}if(Ht[0]<qt){he=7;break e}n(Je,Me,"ALPH")||(Be[0]=Je,Pe[0]=Me+8,Ze[0]=Kt),Me+=qt,Ht-=qt}}if(x=x[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],he!=0)break}x=[x],we.Ja=[we.Ja],we.xa=[we.xa];e:if(Ke=f,he=y,ve=x,Be=we.gb[0],Pe=we.Ja,Ze=we.xa,Je=he[0],Me=!n(Ke,Je,"VP8 "),ot=!n(Ke,Je,"VP8L"),t(Ke!=null),t(ve!=null),t(Pe!=null),t(Ze!=null),8>ve[0])he=7;else{if(Me||ot){if(Ke=Ge(Ke,Je+4),12<=Be&&Ke>Be-12){he=3;break e}if(Ae&&Ke>ve[0]-8){he=7;break e}Pe[0]=Ke,he[0]+=8,ve[0]-=8,Ze[0]=ot}else Ze[0]=5<=ve[0]&&Ke[Je+0]==47&&!(Ke[Je+4]>>5),Pe[0]=ve[0];he=0}if(x=x[0],we.Ja=we.Ja[0],we.xa=we.xa[0],y=y[0],he!=0)break;if(4294967286<we.Ja)return 3;if(V==null||Te||(V[0]=we.xa?2:1),G=[G],Ue=[Ue],we.xa){if(5>x){he=7;break}V=G,Ae=Ue,Te=z,f==null||5>x?f=0:5<=x&&f[y+0]==47&&!(f[y+4]>>5)?(ve=[0],Ke=[0],Be=[0],se(Pe=new I,f,y,x),ke(Pe,ve,Ke,Be)?(V!=null&&(V[0]=ve[0]),Ae!=null&&(Ae[0]=Ke[0]),Te!=null&&(Te[0]=Be[0]),f=1):f=0):f=0}else{if(10>x){he=7;break}V=Ue,f==null||10>x||!Lr(f,y+3,x-3)?f=0:(Ae=f[y+0]|f[y+1]<<8|f[y+2]<<16,Te=16383&(f[y+7]<<8|f[y+6]),f=16383&(f[y+9]<<8|f[y+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=we.Ja||!Te||!f?f=0:(G&&(G[0]=Te),V&&(V[0]=f),f=1))}if(!f||(G=G[0],Ue=Ue[0],Se&&(ee[0]!=G||de[0]!=Ue)))return 3;J!=null&&(J[0]=we,J.offset=y-J.w,t(4294967286>y-J.w),t(J.offset==J.ha-x));break}return he==0||he==7&&Se&&J==null?(z!=null&&(z[0]|=we.na!=null&&0<we.na.length),L!=null&&(L[0]=G),P!=null&&(P[0]=Ue),0):he}function pu(f,y,x){var L=y.width,P=y.height,z=0,G=0,V=L,J=P;if(y.Da=f!=null&&0<f.Da,y.Da&&(V=f.cd,J=f.bd,z=f.v,G=f.j,11>x||(z&=-2,G&=-2),0>z||0>G||0>=V||0>=J||z+V>L||G+J>P))return 0;if(y.v=z,y.j=G,y.va=z+V,y.o=G+J,y.U=V,y.T=J,y.da=f!=null&&0<f.da,y.da){if(!$(V,J,x=[f.ib],z=[f.hb]))return 0;y.ib=x[0],y.hb=z[0]}return y.ob=f!=null&&f.ob,y.Kb=f==null||!f.Sd,y.da&&(y.ob=y.ib<3*L/4&&y.hb<3*P/4,y.Kb=0),1}function mu(f){if(f==null)return 2;if(11>f.S){var y=f.f.RGBA;y.fb+=(f.height-1)*y.A,y.A=-y.A}else y=f.f.kb,f=f.height,y.O+=(f-1)*y.fa,y.fa=-y.fa,y.N+=(f-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(f-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(f-1)*y.lb,y.lb=-y.lb);return 0}function ks(f,y,x,L){if(L==null||0>=f||0>=y)return 2;if(x!=null){if(x.Da){var P=x.cd,z=x.bd,G=-2&x.v,V=-2&x.j;if(0>G||0>V||0>=P||0>=z||G+P>f||V+z>y)return 2;f=P,y=z}if(x.da){if(!$(f,y,P=[x.ib],z=[x.hb]))return 2;f=P[0],y=z[0]}}L.width=f,L.height=y;e:{var J=L.width,ee=L.height;if(f=L.S,0>=J||0>=ee||!(f>=Qc&&13>f))f=2;else{if(0>=L.Rd&&L.sd==null){G=z=P=y=0;var de=(V=J*Y0[f])*ee;if(11>f||(z=(ee+1)/2*(y=(J+1)/2),f==12&&(G=(P=J)*ee)),(ee=a(de+2*z+G))==null){f=1;break e}L.sd=ee,11>f?((J=L.f.RGBA).eb=ee,J.fb=0,J.A=V,J.size=de):((J=L.f.kb).y=ee,J.O=0,J.fa=V,J.Fd=de,J.f=ee,J.N=0+de,J.Ab=y,J.Cd=z,J.ea=ee,J.W=0+de+z,J.Db=y,J.Ed=z,f==12&&(J.F=ee,J.J=0+de+2*z),J.Tc=G,J.lb=P)}if(y=1,P=L.S,z=L.width,G=L.height,P>=Qc&&13>P)if(11>P)f=L.f.RGBA,y&=(V=Math.abs(f.A))*(G-1)+z<=f.size,y&=V>=z*Y0[P],y&=f.eb!=null;else{f=L.f.kb,V=(z+1)/2,de=(G+1)/2,J=Math.abs(f.fa),ee=Math.abs(f.Ab);var Se=Math.abs(f.Db),Ae=Math.abs(f.lb),we=Ae*(G-1)+z;y&=J*(G-1)+z<=f.Fd,y&=ee*(de-1)+V<=f.Cd,y=(y&=Se*(de-1)+V<=f.Ed)&J>=z&ee>=V&Se>=V,y&=f.y!=null,y&=f.f!=null,y&=f.ea!=null,P==12&&(y&=Ae>=z,y&=we<=f.Tc,y&=f.F!=null)}else y=0;f=y?0:2}}return f!=0||x!=null&&x.fd&&(f=mu(L)),f}var Qn=64,Ds=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ps=24,Fs=32,gu=8,Li=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];me("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(f){return f},q.Predictor2=function(f,y,x){return y[x+0]},q.Predictor3=function(f,y,x){return y[x+1]},q.Predictor4=function(f,y,x){return y[x-1]},q.Predictor5=function(f,y,x){return ue(ue(f,y[x+1]),y[x+0])},q.Predictor6=function(f,y,x){return ue(f,y[x-1])},q.Predictor7=function(f,y,x){return ue(f,y[x+0])},q.Predictor8=function(f,y,x){return ue(y[x-1],y[x+0])},q.Predictor9=function(f,y,x){return ue(y[x+0],y[x+1])},q.Predictor10=function(f,y,x){return ue(ue(f,y[x-1]),ue(y[x+0],y[x+1]))},q.Predictor11=function(f,y,x){var L=y[x+0];return 0>=Ee(L>>24&255,f>>24&255,(y=y[x-1])>>24&255)+Ee(L>>16&255,f>>16&255,y>>16&255)+Ee(L>>8&255,f>>8&255,y>>8&255)+Ee(255&L,255&f,255&y)?L:f},q.Predictor12=function(f,y,x){var L=y[x+0];return(Ce((f>>24&255)+(L>>24&255)-((y=y[x-1])>>24&255))<<24|Ce((f>>16&255)+(L>>16&255)-(y>>16&255))<<16|Ce((f>>8&255)+(L>>8&255)-(y>>8&255))<<8|Ce((255&f)+(255&L)-(255&y)))>>>0},q.Predictor13=function(f,y,x){var L=y[x-1];return(Re((f=ue(f,y[x+0]))>>24&255,L>>24&255)<<24|Re(f>>16&255,L>>16&255)<<16|Re(f>>8&255,L>>8&255)<<8|Re(f>>0&255,L>>0&255))>>>0};var Uh=q.PredictorAdd0;q.PredictorAdd1=qe,me("Predictor2","PredictorAdd2"),me("Predictor3","PredictorAdd3"),me("Predictor4","PredictorAdd4"),me("Predictor5","PredictorAdd5"),me("Predictor6","PredictorAdd6"),me("Predictor7","PredictorAdd7"),me("Predictor8","PredictorAdd8"),me("Predictor9","PredictorAdd9"),me("Predictor10","PredictorAdd10"),me("Predictor11","PredictorAdd11"),me("Predictor12","PredictorAdd12"),me("Predictor13","PredictorAdd13");var yu=q.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Jc,lr=q.ColorIndexInverseTransform,Us=q.MapARGB,Kc=q.VP8LColorIndexInverseTransformAlpha,Wc=q.MapAlpha,Ka=q.VP8LPredictorsAdd=[];Ka.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var jo,Ii,bi,Wa,la,ua,Bs,ca,Cn,vu,wi,ur,Os,Xc,bu,Yo,Jo,Xa,Ko,zs,Wo,Za,wu,cr,fr,on,sn,Tn,Gn=a(511),fa=a(2041),_u=a(225),qs=a(767),Zc=0,Bh=fa,$c=_u,Ji=qs,dr=Gn,Qc=0,ef=1,P0=2,tf=3,nf=4,Oh=5,F0=6,zh=7,qh=8,rf=9,Gh=10,sx=[2,3,7],lx=[3,3,11],U0=[280,256,256,256,40],ux=[0,1,1,1,0],cx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fx=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dx=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hx=8,Hh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Vh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xu=null,px=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],B0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$a=[],Mr=[],da=[],wx=1,O0=2,Qa=[],hr=[];Ne("UpsampleRgbLinePair",Ot,3),Ne("UpsampleBgrLinePair",yn,3),Ne("UpsampleRgbaLinePair",Rr,4),Ne("UpsampleBgraLinePair",Yn,4),Ne("UpsampleArgbLinePair",li,4),Ne("UpsampleRgba4444LinePair",kn,2),Ne("UpsampleRgb565LinePair",wn,2);var _x=q.UpsampleRgbLinePair,xx=q.UpsampleBgrLinePair,z0=q.UpsampleRgbaLinePair,q0=q.UpsampleBgraLinePair,G0=q.UpsampleArgbLinePair,H0=q.UpsampleRgba4444LinePair,Sx=q.UpsampleRgb565LinePair,af=16,of=1<<af-1,Su=-227,jh=482,Ax=6,V0=0,Cx=a(256),Tx=a(256),Ex=a(256),Nx=a(256),Lx=a(jh-Su),Ix=a(jh-Su);Yr("YuvToRgbRow",Ot,3),Yr("YuvToBgrRow",yn,3),Yr("YuvToRgbaRow",Rr,4),Yr("YuvToBgraRow",Yn,4),Yr("YuvToArgbRow",li,4),Yr("YuvToRgba4444Row",kn,2),Yr("YuvToRgb565Row",wn,2);var j0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],sf=[0,2,8],Rx=[8,7,6,4,4,2,2,2,1,1,1,1],Mx=1;this.WebPDecodeRGBA=function(f,y,x,L,P){var z=ef,G=new Is,V=new jn;G.ba=V,V.S=z,V.width=[V.width],V.height=[V.height];var J=V.width,ee=V.height,de=new zn;if(de==null||f==null)var Se=2;else t(de!=null),Se=Ms(f,y,x,de.width,de.height,de.Pd,de.Qd,de.format,null);if(Se!=0?J=0:(J!=null&&(J[0]=de.width[0]),ee!=null&&(ee[0]=de.height[0]),J=1),J){V.width=V.width[0],V.height=V.height[0],L!=null&&(L[0]=V.width),P!=null&&(P[0]=V.height);e:{if(L=new qn,(P=new lu).data=f,P.w=y,P.ha=x,P.kd=1,y=[0],t(P!=null),((f=Ms(P.data,P.w,P.ha,null,null,null,y,null,P))==0||f==7)&&y[0]&&(f=4),(y=f)==0){if(t(G!=null),L.data=P.data,L.w=P.w+P.offset,L.ha=P.ha-P.offset,L.put=mi,L.ac=bn,L.bc=Ti,L.ma=G,P.xa){if((f=un())==null){G=1;break e}if(function(Ae,we){var Ue=[0],Te=[0],he=[0];t:for(;;){if(Ae==null)return 0;if(we==null)return Ae.a=2,0;if(Ae.l=we,Ae.a=0,se(Ae.m,we.data,we.w,we.ha),!ke(Ae.m,Ue,Te,he)){Ae.a=3;break t}if(Ae.xb=O0,we.width=Ue[0],we.height=Te[0],!gi(Ue[0],Te[0],1,Ae,null))break t;return 1}return t(Ae.a!=0),0}(f,L)){if(L=(y=ks(L.width,L.height,G.Oa,G.ba))==0){t:{L=f;n:for(;;){if(L==null){L=0;break t}if(t(L.s.yc!=null),t(L.s.Ya!=null),t(0<L.s.Wb),t((x=L.l)!=null),t((P=x.ma)!=null),L.xb!=0){if(L.ca=P.ba,L.tb=P.tb,t(L.ca!=null),!pu(P.Oa,x,tf)){L.a=2;break n}if(!ra(L,x.width)||x.da)break n;if((x.da||vt(L.ca.S))&&xe(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&xe()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!M(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!ji(L,L.V,L.Ba,L.c,L.i,x.o,Ba))break n;P.Dc=L.Ma,L=1;break t}t(L.a!=0),L=0}L=!L}L&&(y=f.a)}else y=f.a}else{if((f=new oi)==null){G=1;break e}if(f.Fa=P.na,f.P=P.P,f.qc=P.Sa,aa(f,L)){if((y=ks(L.width,L.height,G.Oa,G.ba))==0){if(f.Aa=0,x=G.Oa,t((P=f)!=null),x!=null){if(0<(J=0>(J=x.Md)?0:100<J?255:255*J/100)){for(ee=de=0;4>ee;++ee)12>(Se=P.pb[ee]).lc&&(Se.ia=J*Rx[0>Se.lc?0:Se.lc]>>3),de|=Se.ia;de&&(alert("todo:VP8InitRandom"),P.ia=1)}P.Ga=x.Id,100<P.Ga?P.Ga=100:0>P.Ga&&(P.Ga=0)}Ha(f,L)||(y=f.a)}}else y=f.a}y==0&&G.Oa!=null&&G.Oa.fd&&(y=mu(G.ba))}G=y}z=G!=0?null:11>z?V.f.RGBA.eb:V.f.kb.y}else z=null;return z};var Y0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(q,B){for(var W="",D=0;D<4;D++)W+=String.fromCharCode(q[B++]);return W}function d(q,B){return(q[B+0]<<0|q[B+1]<<8|q[B+2]<<16)>>>0}function p(q,B){return(q[B+0]<<0|q[B+1]<<8|q[B+2]<<16|q[B+3]<<24)>>>0}new l;var g=[0],h=[0],S=[],_=new l,C=e,v=function(q,B){var W={},D=0,N=!1,H=0,T=0;if(W.frames=[],!function(Y,K,Z,le){for(var _e=0;_e<le;_e++)if(Y[K+_e]!=Z.charCodeAt(_e))return!0;return!1}(q,B,"RIFF",4)){var re,te;for(p(q,B+=4),B+=8;B<q.length;){var ne=u(q,B),se=p(q,B+=4);B+=4;var ae=se+(1&se);switch(ne){case"VP8 ":case"VP8L":W.frames[D]===void 0&&(W.frames[D]={}),(I=W.frames[D]).src_off=N?T:B-8,I.src_size=H+se+8,D++,N&&(N=!1,H=0,T=0);break;case"VP8X":(I=W.header={}).feature_flags=q[B];var ge=B+4;I.canvas_width=1+d(q,ge),ge+=3,I.canvas_height=1+d(q,ge),ge+=3;break;case"ALPH":N=!0,H=ae+8,T=B-8;break;case"ANIM":(I=W.header).bgcolor=p(q,B),ge=B+4,I.loop_count=(re=q)[(te=ge)+0]<<0|re[te+1]<<8,ge+=2;break;case"ANMF":var ce,I;(I=W.frames[D]={}).offset_x=2*d(q,B),B+=3,I.offset_y=2*d(q,B),B+=3,I.width=1+d(q,B),B+=3,I.height=1+d(q,B),B+=3,I.duration=d(q,B),B+=3,ce=q[B++],I.dispose=1&ce,I.blend=ce>>1&1}ne!="ANMF"&&(B+=ae)}return W}}(C,0);v.response=C,v.rgbaoutput=!0,v.dataurl=!1;var w=v.header?v.header:null,A=v.frames?v.frames:null;if(w){w.loop_counter=w.loop_count,g=[w.canvas_height],h=[w.canvas_width];for(var R=0;R<A.length&&A[R].blend!=0;R++);}var k=A[0],X=_.WebPDecodeRGBA(C,k.src_off,k.src_size,h,g);k.rgba=X,k.imgwidth=h[0],k.imgheight=g[0];for(var U=0;U<h[0]*g[0]*4;U++)S[U]=X[U];return this.width=h,this.height=g,this.data=S,this}(function(e){var t=function(){return typeof sg=="function"},n=function(g,h,S,_){var C=4,v=o;switch(_){case e.image_compression.FAST:C=1,v=a;break;case e.image_compression.MEDIUM:C=6,v=s;break;case e.image_compression.SLOW:C=9,v=l}g=i(g,h,S,v);var w=sg(g,{level:C});return e.__addimage__.arrayBufferToBinaryString(w)},i=function(g,h,S,_){for(var C,v,w,A=g.length/h,R=new Uint8Array(g.length+A),k=d(),X=0;X<A;X+=1){if(w=X*h,C=g.subarray(w,w+h),_)R.set(_(C,S,v),w+X);else{for(var U,q=k.length,B=[];U<q;U+=1)B[U]=k[U](C,S,v);var W=p(B.concat());R.set(B[W],w+X)}v=C}return R},r=function(g){var h=Array.apply([],g);return h.unshift(0),h},a=function(g,h){var S,_=[],C=g.length;_[0]=1;for(var v=0;v<C;v+=1)S=g[v-h]||0,_[v+1]=g[v]-S+256&255;return _},o=function(g,h,S){var _,C=[],v=g.length;C[0]=2;for(var w=0;w<v;w+=1)_=S&&S[w]||0,C[w+1]=g[w]-_+256&255;return C},s=function(g,h,S){var _,C,v=[],w=g.length;v[0]=3;for(var A=0;A<w;A+=1)_=g[A-h]||0,C=S&&S[A]||0,v[A+1]=g[A]+256-(_+C>>>1)&255;return v},l=function(g,h,S){var _,C,v,w,A=[],R=g.length;A[0]=4;for(var k=0;k<R;k+=1)_=g[k-h]||0,C=S&&S[k]||0,v=S&&S[k-h]||0,w=u(_,C,v),A[k+1]=g[k]-w+256&255;return A},u=function(g,h,S){if(g===h&&h===S)return g;var _=Math.abs(h-S),C=Math.abs(g-S),v=Math.abs(g+h-S-S);return _<=C&&_<=v?g:C<=v?h:S},d=function(){return[r,a,o,s,l]},p=function(g){var h=g.map(function(S){return S.reduce(function(_,C){return _+Math.abs(C)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(g,h,S,_){var C,v,w,A,R,k,X,U,q,B,W,D,N,H,T,re=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(w=new GL(g)).imgData,v=w.bits,C=w.colorSpace,R=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){q=(U=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,W=new Uint8Array(q*w.colors),B=new Uint8Array(q);var ne,se=w.pixelBitlength-w.bits;for(H=0,T=0;H<q;H++){for(N=U[H],ne=0;ne<se;)W[T++]=N>>>ne&255,ne+=w.bits;B[H]=N>>>ne&255}}if(w.bits===16){q=(U=new Uint32Array(w.decodePixels().buffer)).length,W=new Uint8Array(q*(32/w.pixelBitlength)*w.colors),B=new Uint8Array(q*(32/w.pixelBitlength)),D=w.colors>1,H=0,T=0;for(var ae=0;H<q;)N=U[H++],W[T++]=N>>>0&255,D&&(W[T++]=N>>>16&255,N=U[H++],W[T++]=N>>>0&255),B[ae++]=N>>>16&255;v=8}_!==e.image_compression.NONE&&t()?(g=n(W,w.width*w.colors,w.colors,_),X=n(B,w.width,1,_)):(g=W,X=B,re=void 0)}if(w.colorType===3&&(C=this.color_spaces.INDEXED,k=w.palette,w.transparency.indexed)){var ge=w.transparency.indexed,ce=0;for(H=0,q=ge.length;H<q;++H)ce+=ge[H];if((ce/=255)===q-1&&ge.indexOf(0)!==-1)A=[ge.indexOf(0)];else if(ce!==q){for(U=w.decodePixels(),B=new Uint8Array(U.length),H=0,q=U.length;H<q;H++)B[H]=ge[U[H]];X=n(B,w.width,1)}}var I=function(Y){var K;switch(Y){case e.image_compression.FAST:K=11;break;case e.image_compression.MEDIUM:K=13;break;case e.image_compression.SLOW:K=14;break;default:K=12}return K}(_);return re===this.decode.FLATE_DECODE&&(te="/Predictor "+I+" "),te+="/Colors "+R+" /BitsPerComponent "+v+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(X&&this.__addimage__.isArrayBuffer(X)||this.__addimage__.isArrayBufferView(X))&&(X=this.__addimage__.arrayBufferToBinaryString(X)),{alias:S,data:g,index:h,filter:re,decodeParameters:te,transparency:A,palette:k,sMask:X,predictor:I,width:w.width,height:w.height,bitsPerComponent:v,colorSpace:C}}}})(ft.API),function(e){e.processGIF89A=function(t,n,i,r){var a=new HL(t),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},d=new Kp(100).encode(u,100);return e.processJPEG.call(this,d,n,i,r)},e.processGIF87A=e.processGIF89A}(ft.API),Fr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fr.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){rn.log("bit decode error:"+n)}},Fr.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++)for(var a=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,s=0;s<8&&8*r+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},Fr.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++){var a=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*r+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Fr.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Fr.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,u=a>>15?255:0,d=i*this.width*4+4*r;this.data[d]=l,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Fr.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,d=r*this.width*4+4*a;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=255}this.pos+=e}},Fr.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Fr.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=o}},Fr.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,r){var a=new Fr(t,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new Kp(100).encode(l,100);return e.processJPEG.call(this,u,n,i,r)}}(ft.API),zy.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,r){var a=new zy(t),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new Kp(100).encode(l,100);return e.processJPEG.call(this,u,n,i,r)}}(ft.API),ft.API.processRGBA=function(e,t,n){for(var i=e.data,r=i.length,a=new Uint8Array(r/4*3),o=new Uint8Array(r/4),s=0,l=0,u=0;u<r;u+=4){var d=i[u],p=i[u+1],g=i[u+2],h=i[u+3];a[s++]=d,a[s++]=p,a[s++]=g,o[l++]=h}var S=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ft.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zs=ft.API,zf=Zs.getCharWidthsArray=function(e,t){var n,i,r=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:r.metadata.Unicode.widths,l=s.fof?s.fof:1,u=t.kerning?t.kerning:r.metadata.Unicode.kerning,d=u.fof?u.fof:1,p=t.doKerning!==!1,g=0,h=e.length,S=0,_=s[0]||l,C=[];for(n=0;n<h;n++)i=e.charCodeAt(n),typeof r.metadata.widthOfString=="function"?C.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/a)||0)/1e3):(g=p&&$t(u[i])==="object"&&!isNaN(parseInt(u[i][S],10))?u[i][S]/d:0,C.push((s[i]||_)/l+g)),S=i;return C},Fy=Zs.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return Zs.processArabic&&(e=Zs.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,r)/n:zf.apply(this,arguments).reduce(function(a,o){return a+o},0)},Uy=function(e,t,n,i){for(var r=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<n;)s+=t[a],a++;r.push(e.slice(0,a));var l=a;for(s=0;a!==o;)s+t[a]>i&&(r.push(e.slice(l,a)),s=0,l=a),s+=t[a],a++;return l!==a&&r.push(e.slice(l,a)),r},By=function(e,t,n){n||(n={});var i,r,a,o,s,l,u,d=[],p=[d],g=n.textIndent||0,h=0,S=0,_=e.split(" "),C=zf.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),w=[];_.map(function(R){(R=R.split(/\s*\n/)).length>1?w=w.concat(R.map(function(k,X){return(X&&k.length?`
`:"")+k})):w.push(R[0])}),_=w,l=Fy.apply(this,[v,n])}for(a=0,o=_.length;a<o;a++){var A=0;if(i=_[a],l&&i[0]==`
`&&(i=i.substr(1),A=1),g+h+(S=(r=zf.apply(this,[i,n])).reduce(function(R,k){return R+k},0))>t||A){if(S>t){for(s=Uy.apply(this,[i,r,t-(g+h),t]),d.push(s.shift()),d=[s.pop()];s.length;)p.push([s.shift()]);S=r.slice(i.length-(d[0]?d[0].length:0)).reduce(function(R,k){return R+k},0)}else d=[i];p.push(d),g=S+l,h=C}else d.push(i),g+=h+S,h=C}return u=l?function(R,k){return(k?v:"")+R.join(" ")}:function(R){return R.join(" ")},p.map(u)},Zs.splitTextToSize=function(e,t,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=i.length;s<l;s++)u=u.concat(By.apply(this,[i[s],o,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},i={},r=0;r<t.length;r++)n[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var a=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var g,h,S,_,C=["{"];for(var v in p){if(g=p[v],isNaN(parseInt(v,10))?h="'"+v+"'":(v=parseInt(v,10),h=(h=a(v).slice(2)).slice(0,-1)+i[h.slice(-1)]),typeof g=="number")g<0?(S=a(g).slice(3),_="-"):(S=a(g).slice(2),_=""),S=_+S.slice(0,-1)+i[S.slice(-1)];else{if($t(g)!=="object")throw new Error("Don't know what to do with value type "+$t(g)+".");S=o(g)}C.push(h+S)}return C.push("}"),C.join("")},s=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,h,S,_,C={},v=1,w=C,A=[],R="",k="",X=p.length-1,U=1;U<X;U+=1)(_=p[U])=="'"?g?(S=g.join(""),g=void 0):g=[]:g?g.push(_):_=="{"?(A.push([w,S]),w={},S=void 0):_=="}"?((h=A.pop())[0][h[1]]=w,S=void 0,w=h[0]):_=="-"?v=-1:S===void 0?n.hasOwnProperty(_)?(R+=n[_],S=parseInt(R,16)*v,v=1,R=""):R+=_:n.hasOwnProperty(_)?(k+=n[_],w[S]=parseInt(k,16)*v,v=1,S=void 0,k=""):k+=_;return C},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var g=p.font,h=d.Unicode[g.postScriptName];h&&(g.metadata.Unicode={},g.metadata.Unicode.widths=h.widths,g.metadata.Unicode.kerning=h.kerning);var S=u.Unicode[g.postScriptName];S&&(g.metadata.Unicode.encoding=S,g.encoding=S.codePages[0])}])}(ft.API),function(e){var t=function(n){for(var i=n.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=n.charCodeAt(a);return r};e.API.events.push(["addFont",function(n){var i=void 0,r=n.font,a=n.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(rc(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(ft),function(e){function t(){return(ht.canvg?Promise.resolve(ht.canvg):ng(()=>import("./index.es-DIMKk7vi.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ft.API.addSvgAsImage=function(n,i,r,a,o,s,l,u){if(isNaN(i)||isNaN(r))throw rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=o;var p=d.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,d.width,d.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(S){return S.fromString(p,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){h.addImage(d.toDataURL("image/jpeg",1),i,r,a,o,l,u)})}}(),ft.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,n);return this},ft.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,r,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,d=0,p=0;function g(S,_){var C,v=!1;for(C=0;C<S.length;C+=1)S[C]===_&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=s.length;for(p=0;p<h;p+=1)n[s[p]].value=n[s[p]].defaultValue,n[s[p]].explicitSet=!1}if($t(e)==="object"){for(r in e)if(a=e[r],g(s,r)&&a!==void 0){if(n[r].type==="boolean"&&typeof a=="boolean")n[r].value=a;else if(n[r].type==="name"&&g(n[r].valueSet,a))n[r].value=a;else if(n[r].type==="integer"&&Number.isInteger(a))n[r].value=a;else if(n[r].type==="array"){for(u=0;u<a.length;u+=1)if(i=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(i=!1);i===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[r].value="["+l.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,_=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?_.push("/"+S+" /"+n[S].value):_.push("/"+S+" "+n[S].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(r+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ft.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],p=0,g=a.length;p<g;++p){if(s=o.metadata.characterToGlyph(a.charCodeAt(p)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(p),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(u[4-s.length],s)}return d.join("")},i=function(a){var o,s,l,u,d,p,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(s=Object.keys(a).sort(function(h,S){return h-S})).length;p<g;p++)o=s[p],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var p=s.metadata.Unicode.widths,g=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),h="",S=0;S<g.length;S++)h+=String.fromCharCode(g[S]);var _=u();d({data:h,addLength1:!0,objectId:_}),l("endobj");var C=u();d({data:i(s.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+nl(s.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var w=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+nl(s.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+C+" 0 R"),l("/BaseFont /"+nl(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var p=s.metadata.rawData,g="",h=0;h<p.length;h++)g+=String.fromCharCode(p[h]);var S=u();d({data:g,addLength1:!0,objectId:S}),l("endobj");var _=u();d({data:i(s.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var C=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+nl(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var v=0;v<s.metadata.hmtx.widths.length;v++)s.metadata.hmtx.widths[v]=parseInt(s.metadata.hmtx.widths[v]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+nl(s.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var r=function(a){var o,s=a.text||"",l=a.x,u=a.y,d=a.options||{},p=a.mutex||{},g=p.pdfEscape,h=p.activeFontKey,S=p.fonts,_=h,C="",v=0,w="",A=S[_].encoding;if(S[_].encoding!=="Identity-H")return{text:s,x:l,y:u,options:d,mutex:p};for(w=s,_=h,Array.isArray(s)&&(w=s[0]),v=0;v<w.length;v+=1)S[_].metadata.hasOwnProperty("cmap")&&(o=S[_].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),o||w[v].charCodeAt(0)<256&&S[_].metadata.hasOwnProperty("Unicode")?C+=w[v]:C+="";var R="";return parseInt(_.slice(1))<14||A==="WinAnsiEncoding"?R=g(C,_).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(R=n(C,S[_])),p.isHex=!0,{text:R,x:l,y:u,options:d,mutex:p}};t.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([r(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(r(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=r(Object.assign({},l,{text:o})).text}])}(ft),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ft.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var r,a,o,s,l,u,d,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,A=0;this.__bidiEngine__={};var R=function(D){var N=D.charCodeAt(),H=N>>8,T=_[H];return T!==void 0?p[256*T+(255&N)]:H===252||H===253?"AL":v.test(H)?"L":H===8?"R":"N"},k=function(D){for(var N,H=0;H<D.length;H++){if((N=R(D.charAt(H)))==="L")return!1;if(N==="R")return!0}return!1},X=function(D,N,H,T){var re,te,ne,se,ae=N[T];switch(ae){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(ae="AN");break;case"AL":w=!0,ae="R";break;case"WS":ae="N";break;case"CS":T<1||T+1>=N.length||(re=H[T-1])!=="EN"&&re!=="AN"||(te=N[T+1])!=="EN"&&te!=="AN"?ae="N":w&&(te="AN"),ae=te===re?te:"N";break;case"ES":ae=(re=T>0?H[T-1]:"B")==="EN"&&T+1<N.length&&N[T+1]==="EN"?"EN":"N";break;case"ET":if(T>0&&H[T-1]==="EN"){ae="EN";break}if(w){ae="N";break}for(ne=T+1,se=N.length;ne<se&&N[ne]==="ET";)ne++;ae=ne<se&&N[ne]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(se=N.length,ne=T+1;ne<se&&N[ne]==="NSM";)ne++;if(ne<se){var ge=D[T],ce=ge>=1425&&ge<=2303||ge===64286;if(re=N[ne],ce&&(re==="R"||re==="AL")){ae="R";break}}}ae=T<1||(re=N[T-1])==="B"?"N":H[T-1];break;case"B":w=!1,r=!0,ae=A;break;case"S":a=!0,ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":ae="N"}return ae},U=function(D,N,H){var T=D.split("");return H&&q(T,H,{hiLevel:A}),T.reverse(),N&&N.reverse(),T.join("")},q=function(D,N,H){var T,re,te,ne,se,ae=-1,ge=D.length,ce=0,I=[],Y=A?h:g,K=[];for(w=!1,r=!1,a=!1,re=0;re<ge;re++)K[re]=R(D[re]);for(te=0;te<ge;te++){if(se=ce,I[te]=X(D,K,I,te),T=240&(ce=Y[se][S[I[te]]]),ce&=15,N[te]=ne=Y[ce][5],T>0)if(T===16){for(re=ae;re<te;re++)N[re]=1;ae=-1}else ae=-1;if(Y[ce][6])ae===-1&&(ae=te);else if(ae>-1){for(re=ae;re<te;re++)N[re]=ne;ae=-1}K[te]==="B"&&(N[te]=0),H.hiLevel|=ne}a&&function(Z,le,_e){for(var ye=0;ye<_e;ye++)if(Z[ye]==="S"){le[ye]=A;for(var pe=ye-1;pe>=0&&Z[pe]==="WS";pe--)le[pe]=A}}(K,N,ge)},B=function(D,N,H,T,re){if(!(re.hiLevel<D)){if(D===1&&A===1&&!r)return N.reverse(),void(H&&H.reverse());for(var te,ne,se,ae,ge=N.length,ce=0;ce<ge;){if(T[ce]>=D){for(se=ce+1;se<ge&&T[se]>=D;)se++;for(ae=ce,ne=se-1;ae<ne;ae++,ne--)te=N[ae],N[ae]=N[ne],N[ne]=te,H&&(te=H[ae],H[ae]=H[ne],H[ne]=te);ce=se}ce++}}},W=function(D,N,H){var T=D.split(""),re={hiLevel:A};return H||(H=[]),q(T,H,re),function(te,ne,se){if(se.hiLevel!==0&&d)for(var ae,ge=0;ge<te.length;ge++)ne[ge]===1&&(ae=C.indexOf(te[ge]))>=0&&(te[ge]=C[ae+1])}(T,H,re),B(2,T,N,H,re),B(1,T,N,H,re),T.join("")};return this.__bidiEngine__.doBidiReorder=function(D,N,H){if(function(re,te){if(te)for(var ne=0;ne<re.length;ne++)te[ne]=ne;s===void 0&&(s=k(re)),u===void 0&&(u=k(re))}(D,N),o||!l||u)if(o&&l&&s^u)A=s?1:0,D=U(D,N,H);else if(!o&&l&&u)A=s?1:0,D=W(D,N,H),D=U(D,N);else if(!o||s||l||u){if(o&&!l&&s^u)D=U(D,N),s?(A=0,D=W(D,N,H)):(A=1,D=W(D,N,H),D=U(D,N));else if(o&&s&&!l&&u)A=1,D=W(D,N,H),D=U(D,N);else if(!o&&!l&&s^u){var T=d;s?(A=1,D=W(D,N,H),A=0,d=!1,D=W(D,N,H),d=T):(A=0,D=W(D,N,H),D=U(D,N),A=1,d=!1,D=W(D,N,H),d=T,D=U(D,N))}}else A=0,D=W(D,N,H);else A=s?1:0,D=W(D,N,H);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,l=D.isOutputVisual,s=D.isInputRtl,u=D.isOutputRtl,d=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var r=i.text,a=(i.x,i.y,i.options||{}),o=(i.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var s=0;for(o=[],s=0;s<r.length;s+=1)Object.prototype.toString.call(r[s])==="[object Array]"?o.push([n.doBidiReorder(r[s][0]),r[s][1],r[s][2]]):o.push([n.doBidiReorder(r[s])]);i.text=o}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Fo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new rI(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new VL(this.contents),this.head=new YL(this),this.name=new ZL(this),this.cmap=new rx(this),this.toUnicode={},this.hhea=new JL(this),this.maxp=new $L(this),this.hmtx=new QL(this),this.post=new WL(this),this.os2=new KL(this),this.loca=new iI(this),this.glyf=new eI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var r,a,o,s;for(o=0,a=0,s=(t=""+t).length;0<=s?a<s:a>s;a=0<=s?++a:--a)r=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var Gr,Fo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,r;for(r=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(t.charCodeAt(n)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,r,a,o,s,l;return t=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*r+16777216*a+65536*o+256*s+l},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,r,a;for(a=[],i=0,r=t.length;i<r;i++)n=t[i],a.push(this.writeByte(n));return a},e}(),VL=function(){var e;function t(n){var i,r,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,r,a,o,s,l,u,d,p,g,h,S,_;for(_ in h=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(h)/l),o=Math.floor(p/l),d=16*h-p,(r=new Fo).writeInt(this.scalarType),r.writeShort(h),r.writeShort(p),r.writeShort(o),r.writeShort(d),a=16*h,u=r.pos+a,s=null,S=[],n)for(g=n[_],r.writeString(_),r.writeInt(e(g)),r.writeInt(u),r.writeInt(g.length),S=S.concat(g),_==="head"&&(s=u),u+=g.length;u%4;)S.push(0),u++;return r.write(S),i=2981146554-e(r.data),r.pos=s+8,r.writeUInt32(i),r.data},e=function(n){var i,r,a,o;for(n=ax.call(n);n.length%4;)n.push(0);for(a=new Fo(n),r=0,i=0,o=n.length;i<o;i=i+=4)r+=a.readUInt32();return 4294967295&r},t}(),jL={}.hasOwnProperty,ia=function(e,t){for(var n in t)jL.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};Gr=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var YL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ia(t,Gr),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var i;return(i=new Fo).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data},t}(),qy=function(){function e(t,n){var i,r,a,o,s,l,u,d,p,g,h,S,_,C,v,w,A;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),g=h/2,t.pos+=6,a=function(){var R,k;for(k=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)k.push(t.readUInt16());return k}(),t.pos+=2,_=function(){var R,k;for(k=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)k.push(t.readUInt16());return k}(),u=function(){var R,k;for(k=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)k.push(t.readUInt16());return k}(),d=function(){var R,k;for(k=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)k.push(t.readUInt16());return k}(),r=(this.length-t.pos+this.offset)/2,s=function(){var R,k;for(k=[],l=R=0;0<=r?R<r:R>r;l=0<=r?++R:--R)k.push(t.readUInt16());return k}(),l=v=0,A=a.length;v<A;l=++v)for(C=a[l],i=w=S=_[l];S<=C?w<=C:w>=C;i=S<=C?++w:--w)d[l]===0?o=i+u[l]:(o=s[d[l]/2+(i-S)-(g-l)]||0)!==0&&(o+=u[l]),this.codeMap[i]=65535&o}t.pos=p}return e.encode=function(t,n){var i,r,a,o,s,l,u,d,p,g,h,S,_,C,v,w,A,R,k,X,U,q,B,W,D,N,H,T,re,te,ne,se,ae,ge,ce,I,Y,K,Z,le,_e,ye,pe,Ie,Le,He;switch(T=new Fo,o=Object.keys(t).sort(function(Ge,M){return Ge-M}),n){case"macroman":for(_=0,C=function(){var Ge=[];for(S=0;S<256;++S)Ge.push(0);return Ge}(),w={0:0},a={},re=0,ae=o.length;re<ae;re++)w[pe=t[r=o[re]]]==null&&(w[pe]=++_),a[r]={old:t[r],new:w[t[r]]},C[r]=w[t[r]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(C),{charMap:a,subtable:T.data,maxGlyphID:_+1};case"unicode":for(N=[],p=[],A=0,w={},i={},v=u=null,te=0,ge=o.length;te<ge;te++)w[k=t[r=o[te]]]==null&&(w[k]=++A),i[r]={old:k,new:w[k]},s=w[k]-r,v!=null&&s===u||(v&&p.push(v),N.push(r),u=s),v=r;for(v&&p.push(v),p.push(65535),N.push(65535),W=2*(B=N.length),q=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(q/2)/Math.LN2,U=2*B-q,l=[],X=[],h=[],S=ne=0,ce=N.length;ne<ce;S=++ne){if(D=N[S],d=p[S],D===65535){l.push(0),X.push(0);break}if(D-(H=i[D].new)>=32768)for(l.push(0),X.push(2*(h.length+B-S)),r=se=D;D<=d?se<=d:se>=d;r=D<=d?++se:--se)h.push(i[r].new);else l.push(H-D),X.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*B+2*h.length),T.writeUInt16(0),T.writeUInt16(W),T.writeUInt16(q),T.writeUInt16(g),T.writeUInt16(U),_e=0,I=p.length;_e<I;_e++)r=p[_e],T.writeUInt16(r);for(T.writeUInt16(0),ye=0,Y=N.length;ye<Y;ye++)r=N[ye],T.writeUInt16(r);for(Ie=0,K=l.length;Ie<K;Ie++)s=l[Ie],T.writeUInt16(s);for(Le=0,Z=X.length;Le<Z;Le++)R=X[Le],T.writeUInt16(R);for(He=0,le=h.length;He<le;He++)_=h[He],T.writeUInt16(_);return{charMap:i,subtable:T.data,maxGlyphID:A+1}}},e}(),rx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ia(t,Gr),t.prototype.tag="cmap",t.prototype.parse=function(n){var i,r,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)i=new qy(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(n,i){var r,a;return i==null&&(i="macroman"),r=qy.encode(n,i),(a=new Fo).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},t}(),JL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ia(t,Gr),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),KL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ia(t,Gr),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(n.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(n.readInt());return r}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(n.readInt());return r}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),WL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ia(t,Gr),t.prototype.tag="post",t.prototype.parse=function(n){var i,r,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(r=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)i=n.readByte(),a.push(this.names.push(n.readString(i)));return a;case 151552:return r=n.readUInt16(),this.offsets=n.read(r);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(n.readUInt32());return u}).call(this)}},t}(),XL=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},ZL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ia(t,Gr),t.prototype.tag="name",t.prototype.parse=function(n){var i,r,a,o,s,l,u,d,p,g,h;for(n.pos=this.offset,n.readShort(),i=n.readShort(),l=n.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=p=0,g=r.length;p<g;o=++p)a=r[o],n.pos=a.offset,d=n.readString(a.length),s=new XL(d,a),u[h=a.nameID]==null&&(u[h]=[]),u[a.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),$L=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ia(t,Gr),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),QL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ia(t,Gr),t.prototype.tag="hmtx",t.prototype.parse=function(n){var i,r,a,o,s,l,u;for(n.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,p;for(p=[],i=d=0;0<=a?d<a:d>a;i=0<=a?++d:--d)p.push(n.readInt16());return p}(),this.widths=(function(){var d,p,g,h;for(h=[],d=0,p=(g=this.metrics).length;d<p;d++)o=g[d],h.push(o.advance);return h}).call(this),r=this.widths[this.widths.length-1],u=[],i=s=0;0<=a?s<a:s>a;i=0<=a?++s:--s)u.push(this.widths.push(r));return u},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),ax=[].slice,eI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ia(t,Gr),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var i,r,a,o,s,l,u,d,p,g;return n in this.cache?this.cache[n]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+r,s=(l=new Fo(i.read(a))).readShort(),d=l.readShort(),g=l.readShort(),u=l.readShort(),p=l.readShort(),this.cache[n]=s===-1?new nI(l,d,g,u,p):new tI(l,s,d,g,u,p),this.cache[n]))},t.prototype.encode=function(n,i,r){var a,o,s,l,u;for(s=[],o=[],l=0,u=i.length;l<u;l++)a=n[i[l]],o.push(s.length),a&&(s=s.concat(a.encode(r)));return o.push(s.length),{table:s,offsets:o}},t}(),tI=function(){function e(t,n,i,r,a,o){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),nI=function(){function e(t,n,i,r,a){var o,s;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new Fo(ax.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),iI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ia(t,Gr),t.prototype.tag="loca",t.prototype.parse=function(n){var i,r;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,i){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<r.length;++s)if(r[s]=a,o<i.length&&i[o]==s){++o,r[s]=a;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(a+=u)}for(var d=new Array(4*r.length),p=0;p<r.length;++p)d[4*p+3]=255&r[p],d[4*p+2]=(65280&r[p])>>8,d[4*p+1]=(16711680&r[p])>>16,d[4*p]=(4278190080&r[p])>>24;return d},t}(),rI=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,r,a;for(n in r=this.font.cmap.tables[0].codeMap,t={},a=this.subset)i=a[n],t[n]=r[i];return t},e.prototype.glyphsFor=function(t){var n,i,r,a,o,s,l;for(r={},o=0,s=t.length;o<s;o++)r[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],r)(i=r[a])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))i=l[a],r[a]=i;return r},e.prototype.encode=function(t,n){var i,r,a,o,s,l,u,d,p,g,h,S,_,C,v;for(r in i=rx.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},v=i.charMap)h[(l=v[r]).old]=l.new;for(S in g=i.maxGlyphID,o)S in h||(h[S]=g++);return d=function(w){var A,R;for(A in R={},w)R[w[A]]=A;return R}(h),p=Object.keys(d).sort(function(w,A){return w-A}),_=function(){var w,A,R;for(R=[],w=0,A=p.length;w<A;w++)s=p[w],R.push(d[s]);return R}(),a=this.font.glyf.encode(o,_,h),u=this.font.loca.encode(a.offsets,_),C={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},e}();ft.API.PDFObject=function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,r,a,o;if(Array.isArray(n))return"["+function(){var s,l,u;for(u=[],s=0,l=n.length;s<l;s++)i=n[s],u.push(t.convert(i));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in a=["<<"],n)o=n[r],a.push("/"+r+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t}();const aI={A4:{width:210,height:297},Letter:{width:215.9,height:279.4}},Gy=63,Hy=88,oI=({cards:e,deckName:t,onClose:n,cardTheme:i,isManualArtMode:r,manualImageMap:a,libraryName:o})=>{const[s,l]=Fe.useState("3x3"),[u,d]=Fe.useState("A4"),[p,g]=Fe.useState("portrait"),[h,S]=Fe.useState(!1),[_,C]=Fe.useState({current:0,total:0}),v=Fe.useCallback(async()=>{S(!0),C({current:0,total:e.length});const w=new ft({orientation:p,unit:"mm",format:u.toLowerCase()}),[A,R]=s.split("x").map(Number),k=A*R,X=document.createElement("div");X.style.position="absolute",X.style.left="-9999px",X.style.top="-9999px",X.style.width="320px",X.style.height="500px",document.body.appendChild(X);const U=g0.createRoot(X);for(let q=0;q<e.length;q++){const B=e[q];C({current:q+1,total:e.length}),q>0&&q%k===0&&w.addPage();try{await new Promise(D=>{const N={...B,imageUrl:r?a.get(B.name):B.imageUrl,isImageLoading:!1};U.render(E.jsx(us,{card:N,cardTheme:i,isInteractive:!1,libraryName:o})),setTimeout(D,300)});const W=X.firstChild;if(W){const D=await i_(W,{pixelRatio:2}),N=aI[u],H=10,T=p==="portrait"?N.width:N.height,re=p==="portrait"?N.height:N.width,te=T-H*2,ne=re-H*2;let se,ae;const ge=Gy/Hy;if(s==="2x2"){const Ie=te/A,Le=ne/R;Ie/Le>ge?(ae=Le,se=ae*ge):(se=Ie,ae=se/ge)}else se=Gy,ae=Hy;const ce=te-A*se,I=A>1?ce/(A-1):0,Y=ne-R*ae,K=R>1?Y/(R-1):0,Z=q%k,le=Z%A,_e=Math.floor(Z/A),ye=H+le*(se+I),pe=H+_e*(ae+K);w.addImage(D,"PNG",ye,pe,se,ae)}}catch(W){console.error(`Failed to process card: ${B.name}`,W)}}w.save(`${t}.pdf`),U.unmount(),document.body.removeChild(X),S(!1),n()},[e,t,s,u,p,i,r,a,n,o]);return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:n,"aria-modal":"true",role:"dialog",children:E.jsxs("div",{className:"relative bg-surface-1 p-6 rounded-lg shadow-2xl w-full max-w-md text-main",onClick:w=>w.stopPropagation(),children:[E.jsx("button",{onClick:n,className:"absolute top-3 right-3 text-muted hover:text-main z-10","aria-label":"Close print options",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),E.jsx("h3",{className:"text-2xl font-bold text-accent mb-6 text-center",children:"Print Deck Options"}),h?E.jsxs("div",{className:"text-center",children:[E.jsx(_c,{}),E.jsx("p",{className:"mt-4",children:"Generating PDF..."}),E.jsxs("p",{className:"text-muted text-sm",children:["Processing card ",_.current," of ",_.total]})]}):E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{htmlFor:"grid-size",className:"font-bold",children:"Grid Size:"}),E.jsxs("select",{id:"grid-size",value:s,onChange:w=>l(w.target.value),className:"form-input w-48 py-1 px-2 rounded-md",children:[E.jsx("option",{value:"2x2",children:"2x2 (4 cards per page)"}),E.jsx("option",{value:"3x3",children:"3x3 (9 cards per page)"})]})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{htmlFor:"paper-size",className:"font-bold",children:"Paper Size:"}),E.jsxs("select",{id:"paper-size",value:u,onChange:w=>d(w.target.value),className:"form-input w-48 py-1 px-2 rounded-md",children:[E.jsx("option",{value:"A4",children:"A4"}),E.jsx("option",{value:"Letter",children:"Letter"})]})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{htmlFor:"orientation",className:"font-bold",children:"Orientation:"}),E.jsxs("select",{id:"orientation",value:p,onChange:w=>g(w.target.value),className:"form-input w-48 py-1 px-2 rounded-md",children:[E.jsx("option",{value:"portrait",children:"Portrait"}),E.jsx("option",{value:"landscape",children:"Landscape"})]})]}),E.jsx("div",{className:"pt-4 mt-4 border-t border-border",children:E.jsx("button",{onClick:v,className:"w-full btn btn-primary",children:"Generate PDF"})})]})]})})},sI=({onSave:e,onClose:t,defaultName:n})=>{const[i,r]=Fe.useState(n),a=o=>{o.preventDefault(),i.trim()&&e(i.trim())};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:t,children:E.jsxs("div",{className:"bg-surface-1 p-6 rounded-lg shadow-2xl w-full max-w-sm text-main",onClick:o=>o.stopPropagation(),children:[E.jsx("h3",{className:"text-2xl font-bold text-accent mb-6 text-center",children:"Save Session"}),E.jsxs("form",{onSubmit:a,children:[E.jsx("label",{htmlFor:"session-name",className:"block text-sm font-bold text-muted mb-2",children:"Session Name"}),E.jsx("input",{id:"session-name",type:"text",value:i,onChange:o=>r(o.target.value),className:"form-input w-full py-2 px-3 rounded-md",autoFocus:!0}),E.jsxs("div",{className:"flex gap-4 mt-6",children:[E.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-full",children:"Cancel"}),E.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Save"})]})]})]})})},lI=({sessions:e,onLoad:t,onDelete:n,onClose:i,onImport:r})=>{const a=Yd.useRef(null),o=async()=>{if(e.length===0){alert("There are no sessions to export.");return}try{const u=new Ym,d=JSON.parse(JSON.stringify(e)),p=(_,C)=>{if(_){for(const v of _)if(v.imageUrl&&v.imageUrl.startsWith("data:image")){const[w,A]=v.imageUrl.split(",");if(A){const R=v.name.replace(/[^a-z0-9]/gi,"_"),k=`images/${C}/${R}.png`;u.file(k,A,{base64:!0}),v.imageUrl=k}}}};for(const _ of d)p(_.state.presentationCards,_.id),p(_.state.cards,_.id),_.state.manualImageMap&&(_.state.manualImageMap=_.state.manualImageMap.map(([C,v])=>{if(v&&v.startsWith("data:image")){const[,w]=v.split(",");if(w){const A=C.replace(/[^a-z0-9]/gi,"_"),R=`images/${_.id}/manual_${A}.png`;return u.file(R,w,{base64:!0}),[C,R]}}return[C,v]}));u.file("sessions.json",JSON.stringify(d,null,2));const g=await u.generateAsync({type:"blob"}),h=URL.createObjectURL(g),S=document.createElement("a");S.download="yu-gi-code-sessions.zip",S.href=h,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(h)}catch(u){console.error("Failed to export sessions:",u),alert("An error occurred while creating the export file.")}},s=()=>{var u;(u=a.current)==null||u.click()},l=async u=>{var p;const d=(p=u.target.files)==null?void 0:p[0];if(d){try{const g=await Ym.loadAsync(d),h=g.file("sessions.json");if(!h)throw new Error("Invalid archive: sessions.json not found.");const S=await h.async("string");let _;try{_=JSON.parse(S)}catch(v){throw console.error("JSON parsing failed:",v),new Error("The sessions.json file is corrupted or not valid JSON.")}const C=async v=>{if(v){for(const w of v)if(w.imageUrl&&w.imageUrl.startsWith("images/")){const A=g.file(w.imageUrl);if(A){const R=await A.async("base64"),k="image/png";w.imageUrl=`data:${k};base64,${R}`}else w.imageUrl=void 0}}};for(const v of _)await C(v.state.presentationCards),await C(v.state.cards),v.state.manualImageMap&&(v.state.manualImageMap=await Promise.all(v.state.manualImageMap.map(async([w,A])=>{if(typeof A=="string"&&A.startsWith("images/")){const R=g.file(A);if(R){const k=await R.async("base64");return[w,`data:image/png;base64,${k}`]}}return[w,A]})));r(_)}catch(g){console.error("Failed to process session file:",g),alert("Error: Could not read or parse the session file. Please ensure it's a valid ZIP file exported from this application. Check the console for more details.")}u.target&&(u.target.value="")}};return E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:i,children:E.jsxs("div",{className:"relative bg-surface-1 p-6 rounded-lg shadow-2xl w-full max-w-4xl text-main max-h-[90vh] flex flex-col",onClick:u=>u.stopPropagation(),children:[E.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-muted hover:text-main z-10","aria-label":"Close Gallery",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),E.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[E.jsx("h3",{className:"text-2xl font-bold text-accent",children:"Saved Sessions"}),E.jsxs("div",{className:"flex gap-2 mt-4 sm:mt-0",children:[E.jsx("button",{onClick:s,className:"btn btn-secondary text-sm py-2 px-4",children:"Import"}),E.jsx("input",{type:"file",ref:a,onChange:l,accept:".zip",className:"hidden"}),E.jsx("button",{onClick:o,className:"btn btn-primary text-sm py-2 px-4",children:"Export All"})]})]}),e.length===0?E.jsx("div",{className:"text-center text-muted flex-grow flex items-center justify-center",children:E.jsx("p",{children:"You have no saved sessions. Create some decks and save them!"})}):E.jsx("div",{className:"overflow-y-auto pr-2 -mr-2 space-y-4",children:e.sort((u,d)=>d.id-u.id).map(u=>E.jsxs("div",{className:"bg-surface-2 p-4 rounded-lg border border-muted flex flex-col sm:flex-row gap-4",children:[E.jsxs("div",{className:"flex-grow",children:[E.jsx("h4",{className:"text-xl font-bold text-main",children:u.name}),E.jsx("p",{className:"text-sm text-accent",children:u.libraryName}),E.jsxs("p",{className:"text-xs text-muted mt-1",children:["Saved on: ",new Date(u.savedAt).toLocaleString()]}),E.jsx("div",{className:"flex gap-2 mt-3",children:(u.state.presentationCards||[]).slice(0,5).map(d=>d.imageUrl&&E.jsx("img",{src:d.imageUrl,alt:d.name,className:"w-10 h-10 object-cover rounded border-2 border-primary"},d.name))})]}),E.jsxs("div",{className:"flex sm:flex-col gap-2 flex-shrink-0 justify-center",children:[E.jsx("button",{onClick:()=>t(u.id),className:"btn btn-primary text-sm py-2 px-4",children:"Load"}),E.jsx("button",{onClick:()=>n(u.id),className:"bg-danger hover:brightness-110 text-white font-bold py-2 px-4 rounded-full text-sm",children:"Delete"})]})]},u.id))})]})})},uI=({queue:e,progress:t,isGenerating:n})=>E.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-surface-1 border border-border rounded-lg shadow-2xl z-30 p-4 text-left",children:[E.jsxs("div",{className:"flex justify-between items-center mb-3",children:[E.jsx("h3",{className:"text-lg font-bold text-accent",children:"Generation Queue"}),n&&E.jsxs("svg",{className:"animate-spin h-5 w-5 text-accent",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]}),n&&t&&E.jsx("div",{className:"mb-2",children:E.jsx("p",{className:"text-sm text-main font-semibold",children:t})}),!n&&e.length===0&&E.jsx("p",{className:"text-center text-sm text-muted py-4",children:"The queue is empty."}),e.length>0&&E.jsxs("div",{children:[E.jsxs("h4",{className:"text-md font-bold text-main mt-4 mb-2 border-b border-border pb-1",children:["Up Next (",e.length,"):"]}),E.jsx("ul",{className:"max-h-60 overflow-y-auto space-y-1 text-sm text-muted pr-2",children:e.map(i=>E.jsx("li",{className:"truncate p-1.5 bg-surface-2 rounded-md",children:i.name},i.name))})]})]}),cI=({onConfirm:e,onCancel:t,sessionName:n})=>E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-delete-title",children:E.jsxs("div",{className:"bg-surface-1 p-6 rounded-lg shadow-2xl w-full max-w-sm text-main",onClick:i=>i.stopPropagation(),children:[E.jsx("h3",{id:"confirm-delete-title",className:"text-2xl font-bold text-danger mb-4 text-center",children:"Confirm Deletion"}),E.jsxs("p",{className:"text-center text-muted mb-6",children:["Are you sure you want to permanently delete the session: ",E.jsx("strong",{className:"text-accent",children:n}),"? This action cannot be undone."]}),E.jsxs("div",{className:"flex gap-4 mt-6",children:[E.jsx("button",{onClick:t,className:"flex-1 bg-secondary hover:brightness-110 text-white font-bold py-2 px-4 rounded-full",children:"Cancel"}),E.jsx("button",{onClick:e,className:"flex-1 bg-danger hover:brightness-110 text-white font-bold py-2 px-4 rounded-full",children:"Delete"})]})]})}),Vy=e=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066 2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),fI=e=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),dI=e=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 002 2z"})}),hI=e=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...e,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h7"})}),pI=()=>{var Ss;const[e,t]=Fe.useState(()=>localStorage.getItem("gemini-api-key")||""),[n,i]=Fe.useState("code"),[r,a]=Fe.useState([]),[o,s]=Fe.useState([]),[l,u]=Fe.useState([]),[d,p]=Fe.useState({}),[g,h]=Fe.useState(new Set),[S,_]=Fe.useState(!1),[C,v]=Fe.useState(!1),[w,A]=Fe.useState(null),[R,k]=Fe.useState(""),[X,U]=Fe.useState(""),[q,B]=Fe.useState(""),[W,D]=Fe.useState(""),[N,H]=Fe.useState(null),[T,re]=Fe.useState(!1),[te,ne]=Fe.useState({isLoading:!1,progress:0,total:0}),[se,ae]=Fe.useState("Clear Image Cache"),[ge,ce]=Fe.useState(()=>{const Oe=localStorage.getItem("ygc_app_theme");return rd.find(rt=>rt.name===Oe)||P_}),[I,Y]=Fe.useState(()=>localStorage.getItem("ygc_card_theme")||"default"),[K,Z]=Fe.useState(()=>localStorage.getItem("ygc_skill_level")||"advanced"),[le,_e]=Fe.useState(()=>localStorage.getItem("ygc_manual_art")==="true"),[ye,pe]=Fe.useState(()=>localStorage.getItem("ygc_session_persistence")==="true"),[Ie,Le]=Fe.useState(new Map),[He,Ge]=Fe.useState(!1),[M,oe]=Fe.useState([]),[O,$]=Fe.useState(""),[j,Q]=Fe.useState(!1),[me,be]=Fe.useState([]),[ue,Ce]=Fe.useState(!1),[Re,Ee]=Fe.useState(!1),[qe,Qe]=Fe.useState(3),[$e,Ye]=Fe.useState(!1),[st,Ve]=Fe.useState(null),Yt=Fe.useRef(null),[et,vn]=Fe.useState([]),[yt,Nt]=Fe.useState(null),Mn=Fe.useRef(0),vt=Fe.useCallback(Oe=>{le||Oe.length===0||vn(rt=>{const tt=new Set(rt.map(bt=>bt.name));yt&&tt.add(yt.name);const lt=Oe.filter(bt=>!tt.has(bt.name));if(lt.length===0)return rt;const dt=[...rt,...lt];return!yt&&rt.length===0?Mn.current=dt.length:Mn.current+=lt.length,dt})},[yt,le]),Ci=Fe.useCallback(Oe=>{if(le){Le(dt=>{const bt=new Map(dt);return bt.delete(Oe.name),bt});return}const rt=`fill_blank_canvas_v1:${Oe.imagePrompt}`;d7(rt);const tt=dt=>{dt(bt=>bt.map(Bt=>Bt.name===Oe.name?{...Bt,imageUrl:void 0,isImageLoading:!0}:Bt))};tt(a),tt(s);const lt={...Oe,imageUrl:void 0,isImageLoading:!0};vt([lt])},[vt,le]),Jt=Fe.useCallback(Oe=>{const rt=lt=>{lt(dt=>dt.map(bt=>bt.name===Oe.name?{...bt,isImageLoading:!0}:bt))};rt(a),rt(s);const tt={...Oe,isImageLoading:!0};vt([tt])},[vt]);Fe.useEffect(()=>{localStorage.setItem("ygc_app_theme",ge.name),Object.entries(ge.colors).forEach(([Oe,rt])=>{document.documentElement.style.setProperty(Oe,rt)})},[ge]),Fe.useEffect(()=>{localStorage.setItem("ygc_card_theme",I)},[I]),Fe.useEffect(()=>{localStorage.setItem("ygc_skill_level",K)},[K]),Fe.useEffect(()=>{localStorage.setItem("ygc_manual_art",String(le))},[le]),Fe.useEffect(()=>{e?localStorage.setItem("gemini-api-key",e):localStorage.removeItem("gemini-api-key")},[e]);const jn=Oe=>{pe(Oe),localStorage.setItem("ygc_session_persistence",String(Oe)),Oe&&localStorage.setItem("yu-gi-code-sessions",JSON.stringify(me))};Fe.useEffect(()=>{if(ye)try{const Oe=localStorage.getItem("yu-gi-code-sessions");Oe&&be(JSON.parse(Oe))}catch(Oe){console.error("Failed to load sessions from localStorage",Oe)}},[]),Fe.useEffect(()=>{if(ye)try{localStorage.setItem("yu-gi-code-sessions",JSON.stringify(me))}catch(Oe){console.error("Failed to save sessions to storage (likely quota exceeded):",Oe),A("Storage Quota Exceeded. Some sessions may not persist. Try exporting to ZIP.")}},[me,ye]),Fe.useEffect(()=>{if(yt||et.length===0||!e)return;const Oe=et[0];Nt(Oe),vn(tt=>tt.slice(1)),(async()=>{try{const tt=await D_(Oe.imagePrompt,e),lt=dt=>{dt(bt=>bt.map(Bt=>Bt.name===Oe.name?{...Bt,imageUrl:tt,isImageLoading:!1}:Bt))};lt(a),lt(s)}catch(tt){console.error(`Failed to generate image for ${Oe.name}`,tt);const lt=dt=>{dt(bt=>bt.map(Bt=>Bt.name===Oe.name?{...Bt,isImageLoading:!1}:Bt))};lt(a),lt(s)}finally{Nt(null)}})()},[et,yt,e]),Fe.useEffect(()=>{let rt;const tt=()=>{clearTimeout(rt),rt=setTimeout(()=>{console.log("2 hours of inactivity has passed. Clearing image cache."),my()},72e5)},lt=["mousemove","keydown","click","scroll"];return lt.forEach(dt=>window.addEventListener(dt,tt)),tt(),()=>{clearTimeout(rt),lt.forEach(dt=>window.removeEventListener(dt,tt))}},[]),Fe.useEffect(()=>{const Oe=rt=>{Yt.current&&!Yt.current.contains(rt.target)&&Ye(!1)};return document.addEventListener("mousedown",Oe),()=>{document.removeEventListener("mousedown",Oe)}},[]);const zn=()=>{i(n==="code"?"creative":"code"),a([]),s([]),u([]),p({}),h(new Set),A(null),k(""),U(""),B(""),D("")},zt=Fe.useCallback(async(Oe,rt)=>{if(!e){A("Please enter your API Key in the settings."),Q(!0);return}_(!0),A(null),s([]),a([]),u([]),p({}),h(new Set);let tt=Oe,lt=rt||"";if(n==="code")try{const dt=await p7(Oe,rt||"",e);if(!dt.isValid){const bt=h7(Oe,dt.reason||"Invalid code topic");a([bt]),vt([bt]),_(!1);return}tt=dt.refinedName,lt=dt.refinedLanguage,B(tt),lt&&D(lt)}catch(dt){console.warn("Topic analysis skipped due to error",dt)}k(tt),U(lt);try{if(n==="code"){const dt=await w7(tt,lt,e);u(dt);const bt=await x7(tt,lt,dt,e);if(p(bt),qe>0){const Bt=await y7(tt,lt,qe,e);a(Bt.map(yi=>({...yi,isImageLoading:!le}))),vt(Bt)}else a([])}else{const dt=await _7(Oe,e);u(dt);const bt=await S7(Oe,dt,e);p(bt)}}catch(dt){const bt=dt instanceof Error?dt.message:String(dt);bt.includes("API Key")?(A("Your API Key is invalid or expired. Please check it in the settings."),Q(!0)):A(bt)}finally{_(!1)}},[e,n,qe,vt,le]),pt=Oe=>{zt(Oe)},Ut=Oe=>{Oe.preventDefault(),q.trim()&&W.trim()&&zt(q.trim(),W.trim())},Tr=Fe.useCallback(async Oe=>{if(g.size===0){A("Please select at least one item to generate cards.");return}if(!e){A("Please enter your API Key in the settings before generating cards."),Q(!0);return}v(!0),A(null);const{batchSize:rt,cooldown:tt}=Oe,lt=Array.from(g).filter(mt=>typeof mt=="string"),dt=o,bt=r,Bt=dt.filter(mt=>lt.includes(mt.name)),yi=new Set(Bt.map(mt=>mt.name)),qn=lt.filter(mt=>!yi.has(mt)),oi=bt.filter(mt=>qn.includes(mt.name)),ut=new Set(oi.map(mt=>mt.name)),Lr=[...Bt,...oi];s(Lr.sort((mt,Ni)=>mt.name.localeCompare(Ni.name)));const aa=oi.filter(mt=>!mt.imageUrl).map(mt=>({...mt,isImageLoading:!le}));aa.length>0&&vt(aa);const Ga=qn.filter(mt=>!ut.has(mt)).map(mt=>({name:mt,category:d[mt]||"Situational"})),Ha=[];for(let mt=0;mt<Ga.length;mt+=rt)Ha.push(Ga.slice(mt,mt+rt));try{for(let mt=0;mt<Ha.length;mt++){const Ni=Ha[mt],Va=(n==="code"?await b7(R,X,Ni,e):await v7(R,Ni,e)).map(Hr=>({...Hr,isImageLoading:!le}));s(Hr=>[...Hr,...Va].sort((eu,As)=>eu.name.localeCompare(As.name))),vt(Va),mt<Ha.length-1&&await new Promise(Hr=>setTimeout(Hr,tt*1e3))}}catch(mt){const Ni=mt instanceof Error?mt.message:String(mt);Ni.includes("API Key")?(A("Your API Key is invalid or expired. Please check it in the settings."),Q(!0)):A(Ni)}finally{v(!1)}},[e,n,g,R,X,o,r,d,vt,le]),bn=Oe=>{H(Oe),re(!1)},mi=()=>{N&&re(!0)},Ti=()=>{H(null)},ke=()=>{re(!1)},ct=async(Oe,rt)=>{if(!Oe||Oe.length===0)return;ne({isLoading:!0,progress:0,total:Oe.length});const tt=new Ym,lt=document.createElement("div");lt.style.position="absolute",lt.style.left="-9999px",lt.style.top="-9999px",lt.style.width="320px",lt.style.height="500px",document.body.appendChild(lt);const dt=g0.createRoot(lt);for(let yi=0;yi<Oe.length;yi++){const qn=Oe[yi];ne(oi=>({...oi,progress:yi+1}));try{await new Promise(ut=>{const Lr={...qn,imageUrl:le?Ie.get(qn.name):qn.imageUrl,isImageLoading:!1},aa=E.jsx(us,{card:Lr,cardTheme:I,isInteractive:!1,libraryName:R});dt.render(aa),setTimeout(ut,500)});const oi=lt.firstChild;if(oi){const ut=await kA(oi,{pixelRatio:2});ut&&tt.file(`${qn.name.replace(/[^a-z0-9]/gi,"_")}.png`,ut)}}catch(oi){console.error(`Failed to generate image for card: ${qn.name}`,oi),tt.file(`FAILED_${qn.name.replace(/[^a-z0-9]/gi,"_")}.txt`,"Could not generate image for this card.")}}dt.unmount(),document.body.removeChild(lt);const bt=await tt.generateAsync({type:"blob"}),Bt=document.createElement("a");Bt.href=URL.createObjectURL(bt),Bt.download=`${rt.replace(/[^a-z0-9]/gi,"_")}.zip`,document.body.appendChild(Bt),Bt.click(),document.body.removeChild(Bt),URL.revokeObjectURL(Bt.href),ne({isLoading:!1,progress:0,total:0})},Rt=()=>{my(),ae("Cache Cleared!"),setTimeout(()=>ae("Clear Image Cache"),2e3)},je=(Oe,rt)=>{Le(tt=>new Map(tt).set(Oe,rt))},Ct=(Oe,rt)=>{if(Oe.length===0){A("There are no cards in this deck to print."),setTimeout(()=>A(null),3e3);return}oe(Oe),$(rt),Ge(!0)},Lt=()=>{Ge(!1)},It=Oe=>{const rt={appMode:n,presentationCards:r,cards:o,allFunctions:l,functionCategories:d,selectedFunctions:Array.from(g),searchedLibrary:R,searchedLanguage:X,cardTheme:I,skillLevel:K,isManualArtMode:le,manualImageMap:Array.from(Ie.entries())},tt={id:Date.now(),name:Oe,libraryName:R,savedAt:Date.now(),state:rt},lt=[...me,tt];be(lt),Ce(!1)},Ba=Oe=>{const rt=me.find(tt=>tt.id===Oe);if(rt){const{state:tt}=rt;i(tt.appMode||"code"),a((Array.isArray(tt.presentationCards)?tt.presentationCards:[]).filter(ut=>ut&&typeof ut=="object"&&typeof ut.name=="string")),s((Array.isArray(tt.cards)?tt.cards:[]).filter(ut=>ut&&typeof ut=="object"&&typeof ut.name=="string"));const lt=tt.allFunctions,dt=[];if(Array.isArray(lt))for(const ut of lt)typeof ut=="string"&&dt.push(ut);u(dt);const bt=tt.functionCategories,Bt={};if(bt&&typeof bt=="object"&&!Array.isArray(bt)){for(const ut in bt)if(Object.prototype.hasOwnProperty.call(bt,ut)){const Lr=bt[ut];typeof Lr=="string"&&(Bt[ut]=Lr)}}p(Bt);const yi=tt.selectedFunctions,qn=[];if(Array.isArray(yi))for(const ut of yi)typeof ut=="string"&&qn.push(ut);h(new Set(qn)),k(tt.searchedLibrary||""),U(tt.searchedLanguage||""),tt.cardTheme&&Y(tt.cardTheme),tt.skillLevel&&Z(tt.skillLevel),tt.isManualArtMode!==void 0&&_e(tt.isManualArtMode);const oi=(Array.isArray(tt.manualImageMap)?tt.manualImageMap:[]).filter(ut=>Array.isArray(ut)&&ut.length===2&&typeof ut[0]=="string"&&typeof ut[1]=="string");Le(new Map(oi)),H(null),re(!1),A(null),Ee(!1)}},Er=()=>{if(st===null)return;const Oe=me.filter(rt=>rt.id!==st);be(Oe),Ve(null)},Hi=()=>{Ve(null)},Vi=Oe=>{Ve(Oe)},ji=Oe=>{let tt=me.reduce((bt,Bt)=>Math.max(bt,Bt.id),0)+1;const lt=Oe.map(bt=>({...bt,id:tt++})),dt=[...me,...lt];be(dt),alert(`${lt.length} session(s) imported successfully!`),Ee(!1)},Ei=Oe=>({...Oe,imageUrl:le?Ie.get(Oe.name):Oe.imageUrl,isImageLoading:le?!1:Oe.isImageLoading}),un=!!yt||et.length>0,gi=Mn.current;!un&&gi>0&&(Mn.current=0);const ra=et.length+(yt?1:0),Oa=gi>0?gi-ra:0;let Nr=null;un&&yt?Nr=`Generating art for "${yt.name}" (${Oa+1} of ${gi})`:un&&(Nr="Preparing generation...");const za=()=>E.jsxs("div",{className:"text-center text-muted p-8 max-w-3xl mx-auto bg-black bg-opacity-30 rounded-lg shadow-xl",children:[E.jsx("h2",{className:"text-3xl font-bold text-accent mb-4",children:"Welcome to Yu-Gi-Code!"}),!e&&E.jsxs("div",{className:"mb-6 p-6 bg-surface-2 border-2 border-accent rounded-lg flex flex-col items-center gap-4",children:[E.jsx("p",{className:"text-xl text-white font-bold",children:"To play, you need a Google Gemini API Key."}),E.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"bg-accent hover:brightness-110 text-black font-bold py-3 px-6 rounded-full transition-transform hover:scale-105 shadow-lg flex items-center gap-2",children:[E.jsx("span",{children:"Get API Key from Google AI Studio"}),E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[E.jsx("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),E.jsx("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]})]}),E.jsxs("p",{className:"text-sm text-muted mt-2",children:["Then enter it in the ",E.jsx(Vy,{className:"inline-block h-4 w-4 mx-1"})," settings."]})]}),E.jsx("p",{className:"text-lg mb-2",children:"It's time to code! Use the toggle to switch between **Code Mode** for programming libraries and **Creative Mode** for any concept you can imagine."}),E.jsx("p",{className:"text-md text-gray-400",children:"Enter a topic, generate cards, and then click a card to test your knowledge on the battlefield!"})]}),qa=({onClose:Oe})=>E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",onClick:Oe,children:E.jsxs("div",{className:"bg-surface-1 p-6 rounded-lg shadow-xl w-full max-w-md",onClick:rt=>rt.stopPropagation(),children:[E.jsx("h3",{className:"text-xl font-bold mb-6 text-center text-accent",children:"Settings"}),E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"flex justify-between items-end mb-2",children:[E.jsx("label",{htmlFor:"api-key-input",className:"block text-sm font-bold text-muted",children:"Google Gemini API Key"}),E.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-accent hover:text-white underline flex items-center gap-1",children:["Get Key",E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),E.jsx("input",{id:"api-key-input",type:"password",value:e,onChange:rt=>t(rt.target.value),placeholder:"Enter your API Key here",className:"form-input w-full"})]}),E.jsxs("div",{className:"flex flex-col gap-6 items-center",children:[E.jsx(tL,{currentTheme:ge,onThemeChange:ce,cardTheme:I,onCardThemeChange:Y}),E.jsx(iL,{skillLevel:K,onSkillLevelChange:Z}),E.jsx(rL,{isManual:le,onToggle:_e}),E.jsxs("div",{className:"w-full flex flex-col items-center gap-2 p-3 bg-surface-2 rounded-lg border border-muted",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("label",{htmlFor:"session-persist-toggle",className:"text-xs font-bold text-muted",children:"Auto-Save Sessions (Browser Storage)"}),E.jsx("button",{id:"session-persist-toggle",onClick:()=>jn(!ye),className:`relative inline-flex items-center h-5 rounded-full w-10 transition-colors duration-300 ${ye?"bg-success":"bg-gray-600"}`,children:E.jsx("span",{className:`inline-block w-3 h-3 transform bg-white rounded-full transition-transform duration-300 ${ye?"translate-x-6":"translate-x-1"}`})})]}),E.jsx("p",{className:"text-[10px] text-yellow-500 text-center",children:'Warning: Enabling this may slow down app startup if decks contain many high-res images. Use "Export" for better performance with large collections.'})]}),E.jsx("button",{onClick:Rt,className:"bg-surface-2 hover:bg-danger text-main text-sm font-bold py-2 px-4 rounded-full transition-colors duration-300",title:"Clears the session's generated image cache.",children:se})]}),E.jsx("button",{onClick:Oe,className:"mt-8 w-full btn btn-primary",children:"Close"})]})}),zo=[...r,...o].filter((Oe,rt,tt)=>rt===tt.findIndex(lt=>lt.name===Oe.name)).sort((Oe,rt)=>Oe.name.localeCompare(rt.name));return E.jsxs("div",{className:"min-h-screen text-main p-4 sm:p-8",children:[j&&E.jsx(qa,{onClose:()=>Q(!1)}),ue&&E.jsx(sI,{onSave:It,onClose:()=>Ce(!1),defaultName:n==="code"?`${R} (${X}) Deck`:`${R} Creative Deck`}),Re&&E.jsx(lI,{sessions:me,onLoad:Ba,onDelete:Vi,onClose:()=>Ee(!1),onImport:ji}),st!==null&&E.jsx(cI,{onConfirm:Er,onCancel:Hi,sessionName:((Ss=me.find(Oe=>Oe.id===st))==null?void 0:Ss.name)||"this session"}),N&&!T&&E.jsx(eL,{card:Ei(N),cardTheme:I,onClose:Ti,onChallenge:mi,libraryName:R}),N&&T&&E.jsx(X7,{card:N,cardTheme:I,onClose:ke,skillLevel:K,isManualArtMode:le,manualImageMap:Ie,libraryName:R,language:X,appMode:n,apiKey:e}),He&&E.jsx(oI,{cards:M,deckName:O,onClose:Lt,cardTheme:I,isManualArtMode:le,manualImageMap:Ie,libraryName:R}),E.jsxs("header",{className:"text-center mb-8 relative",children:[E.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tighter",children:E.jsx("span",{className:"gradient-text",children:"Yu-Gi-Code!"})}),E.jsx("p",{className:"text-muted mt-2 text-lg",children:"The Developer's Dueling Deck"}),E.jsxs("div",{className:"mt-4 flex justify-center gap-2 sm:absolute sm:top-0 sm:right-0 sm:mt-0 z-20",children:[E.jsx("button",{onClick:()=>Ce(!0),disabled:!R||!e,className:"p-2 rounded-full bg-surface-1 hover:bg-primary transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Save current session",title:"Save current session",children:E.jsx(fI,{})}),E.jsx("button",{onClick:()=>Ee(!0),className:"p-2 rounded-full bg-surface-1 hover:bg-primary transition-colors","aria-label":"Open session gallery",title:"Open session gallery",children:E.jsx(dI,{})}),E.jsxs("div",{className:"relative",ref:Yt,children:[E.jsxs("button",{onClick:()=>Ye(Oe=>!Oe),className:"p-2 rounded-full bg-surface-1 hover:bg-primary transition-colors relative","aria-label":"Open generation queue",title:"Generation Queue",children:[E.jsx(hI,{className:"h-6 w-6"}),un&&E.jsxs("span",{className:"absolute top-0 right-0 flex h-3 w-3",children:[E.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-accent opacity-75"}),E.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]})]}),$e&&E.jsx(uI,{queue:et,progress:Nr,isGenerating:un})]}),E.jsx("button",{onClick:()=>Q(!0),className:"p-2 rounded-full bg-surface-1 hover:bg-primary transition-colors","aria-label":"Open settings",children:E.jsx(Vy,{})})]})]}),E.jsxs("main",{className:"container mx-auto",children:[E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"flex justify-center items-center gap-4 mb-4",children:[E.jsx("span",{className:`font-bold transition-colors ${n==="code"?"text-accent":"text-muted"}`,children:"Code Mode"}),E.jsxs("button",{onClick:zn,className:`relative inline-flex items-center h-7 rounded-full w-12 transition-colors duration-300 ${n==="creative"?"bg-primary":"bg-surface-2"} border border-border focus:outline-none focus:ring-2 focus:ring-accent`,role:"switch","aria-checked":n==="creative",title:"Toggle between Code and Creative modes",children:[E.jsx("span",{className:"sr-only",children:"Toggle Mode"}),E.jsx("span",{className:`inline-block w-5 h-5 transform bg-white rounded-full transition-transform duration-300 ${n==="creative"?"translate-x-6":"translate-x-1"}`})]}),E.jsx("span",{className:`font-bold transition-colors ${n==="creative"?"text-accent":"text-muted"}`,children:"Creative Mode"})]}),n==="code"?E.jsx("form",{onSubmit:Ut,className:"w-full max-w-2xl mx-auto",children:E.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 bg-surface-2 border-2 border-accent rounded-lg sm:rounded-full shadow-lg overflow-hidden p-1",children:[E.jsx("input",{type:"text",value:q,onChange:Oe=>B(Oe.target.value),placeholder:"Library (e.g., React, numpy)",className:"w-full sm:flex-grow py-3 px-6 text-main bg-transparent focus:outline-none placeholder-gray-500",disabled:!e||un}),E.jsx("div",{className:"w-px h-6 bg-accent hidden sm:block self-center"}),E.jsx("input",{type:"text",value:W,onChange:Oe=>D(Oe.target.value),placeholder:"Language (e.g., JavaScript)",className:"w-full sm:flex-grow py-3 px-6 text-main bg-transparent focus:outline-none placeholder-gray-500",disabled:!e||un}),E.jsx("button",{type:"submit",disabled:!e||un||!q.trim()||!W.trim(),className:"bg-primary hover:brightness-110 text-main font-bold py-3 px-4 sm:px-8 transition duration-300 ease-in-out disabled:bg-gray-600 disabled:cursor-not-allowed w-full sm:w-auto rounded-full self-stretch sm:self-auto",children:S?"Summoning...":"Generate"})]})}):E.jsx(F7,{onSearch:pt,isLoading:S,disabled:!e||un,placeholder:"Enter a creative theme (e.g., 'Mythology', 'Space')...",buttonText:"Explore"}),n==="code"&&E.jsxs("div",{className:"max-w-md mx-auto mt-4",children:[E.jsxs("label",{htmlFor:"num-cards-slider",className:"block text-sm font-bold text-muted mb-2 text-center",children:["Presentation Cards: ",E.jsx("span",{className:"text-accent font-bold text-base",children:qe})]}),E.jsx("input",{id:"num-cards-slider",type:"range",min:"0",max:"6",step:"1",value:qe,onChange:Oe=>Qe(Number(Oe.target.value)),className:"w-full h-2 bg-surface-2 rounded-lg appearance-none cursor-pointer",disabled:!e||S||un,"aria-label":"Number of presentation cards"})]})]}),S&&E.jsx(_c,{message:S?n==="code"?"Analyzing Tome...":"Exploring creative theme...":void 0}),w&&E.jsxs("div",{className:"text-center bg-danger border border-red-500 p-4 rounded-lg max-w-md mx-auto my-4",children:[E.jsx("h3",{className:"font-bold text-xl mb-2",children:"Summoning Failed!"}),E.jsx("p",{className:"text-red-200",children:w})]}),!S&&!R&&E.jsx(za,{}),n==="code"&&r.length>0&&E.jsxs("div",{className:"mb-12",children:[E.jsxs("div",{className:"text-center mb-2 flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4",children:[E.jsxs("h2",{className:"text-3xl font-bold text-center",children:["Presentation Deck: ",E.jsx("span",{className:"text-accent",children:R})]}),E.jsxs("div",{className:"flex flex-row sm:inline-flex",children:[E.jsx("button",{onClick:()=>ct(r,`${R}_Presentation_Deck`),disabled:te.isLoading,className:"btn btn-secondary text-sm rounded-r-none px-4",children:"Download"}),E.jsx("button",{onClick:()=>Ct(r,`${R}_Presentation_Deck`),disabled:te.isLoading,className:"btn btn-accent text-sm rounded-l-none px-4",children:"Print"})]})]}),te.isLoading&&E.jsxs("p",{className:"text-center text-accent mt-2",children:["Preparing download... (",te.progress,"/",te.total,")"]}),E.jsx("p",{className:"text-center text-muted mb-4",children:"A curated set of iconic functions to get you started."}),E.jsx(H7,{}),E.jsx("div",{className:"flex overflow-x-auto snap-x snap-mandatory py-4 sm:flex-wrap sm:justify-center sm:py-0 -mx-4 px-4 sm:mx-0 sm:px-0 gap-4 md:gap-6 mt-8 scrollbar-thin",children:r.map(Oe=>E.jsx("div",{className:"snap-start flex-shrink-0",children:E.jsx(us,{card:Ei(Oe),cardTheme:I,onCardClick:bn,onDeleteCache:Ci,onRetryImage:le?void 0:Jt,libraryName:R})},Oe.name))})]}),l.length>0&&E.jsx(Q7,{allFunctions:l,functionCategories:d,selectedFunctions:g,setSelectedFunctions:h,onGenerate:Tr,isLoading:C||un,presentationCards:r,title:n==="code"?"The Armory: Build Your Deck":"The Idea Forge: Create Your Deck",description:n==="code"?"Select functions from the list below to generate their cards. They have been categorized by importance.":`Select concepts related to "${R}" to generate their cards.`,filterPlaceholder:n==="code"?"Filter functions...":"Filter concepts...",generateButtonText:n==="code"?"Generate":"Create"}),(C||un)&&E.jsx("div",{className:"mt-8",children:E.jsx(_c,{message:Nr??(C?"Generating card data...":void 0)})}),le&&zo.length>0&&E.jsx(aL,{cards:zo,manualImageMap:Ie,onImageAssign:je}),o.length>0&&E.jsxs("div",{className:"mt-12",children:[E.jsxs("div",{className:"text-center mb-8 flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4",children:[E.jsx("h2",{className:"text-3xl font-bold text-center",children:n==="code"?"Your Custom Deck":"Generated Cards"}),E.jsxs("div",{className:"flex flex-row sm:inline-flex",children:[E.jsx("button",{onClick:()=>ct(o,`${R}_Custom_Deck`),disabled:te.isLoading,className:"btn btn-secondary text-sm rounded-r-none px-4",children:"Download"}),E.jsx("button",{onClick:()=>Ct(o,`${R}_Custom_Deck`),disabled:te.isLoading,className:"btn btn-accent text-sm rounded-l-none px-4",children:"Print"})]})]}),te.isLoading&&E.jsxs("p",{className:"text-center text-accent -mt-6 mb-4",children:["Preparing download... (",te.progress,"/",te.total,")"]}),E.jsx("div",{className:"flex overflow-x-auto snap-x snap-mandatory py-4 sm:flex-wrap sm:justify-center sm:py-0 -mx-4 px-4 sm:mx-0 sm:px-0 gap-4 md:gap-6 scrollbar-thin",children:o.map(Oe=>E.jsx("div",{className:"snap-start flex-shrink-0",children:E.jsx(us,{card:Ei(Oe),cardTheme:I,onCardClick:bn,onDeleteCache:Ci,onRetryImage:le?void 0:Jt,libraryName:R})},Oe.name))})]})]})]})},ox=document.getElementById("root");if(!ox)throw new Error("Could not find root element to mount to");const mI=z4.createRoot(ox);mI.render(E.jsx(Yd.StrictMode,{children:E.jsx(pI,{})}));export{$t as _,vf as c,pg as g};
